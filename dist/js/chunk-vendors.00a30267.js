(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"00ee":function(t,e,n){var r=n("b622"),i=r("toStringTag"),o={};o[i]="z",t.exports="[object z]"===String(o)},"0366":function(t,e,n){var r=n("1c0b");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},"04d1":function(t,e,n){var r=n("342f"),i=r.match(/firefox\/(\d+)/i);t.exports=!!i&&+i[1]},"057f":function(t,e,n){var r=n("fc6a"),i=n("241c").f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return i(t)}catch(e){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?a(t):i(r(t))}},"06c5":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("fb6a"),n("d3b7"),n("b0c0"),n("a630"),n("3ca3");var r=n("6b75");function i(t,e){if(t){if("string"===typeof t)return Object(r["a"])(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r["a"])(t,e):void 0}}},"06cf":function(t,e,n){var r=n("83ab"),i=n("d1e7"),o=n("5c6c"),s=n("fc6a"),a=n("a04b"),c=n("5135"),u=n("0cfb"),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=s(t),e=a(e),u)try{return l(t,e)}catch(n){}if(c(t,e))return o(!i.f.call(t,e),t[e])}},"0929":function(t,e,n){"use strict";var r=n("b50e"),i=n("e2e9"),o=n("7f37"),s=n("b62b"),a=n("ad9d"),c=n("e43f"),u=n("d39b"),l=n("9852"),h=n("77f9"),f=function(t,e){return t="function"===typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t,Object(u["a"])("number"!==typeof t?t:Object(l["a"])(t,h["e"]))};function d(t){var e,n=t.state,o=t.name,u=t.options,l=n.elements.arrow,d=n.modifiersData.popperOffsets,p=Object(r["a"])(n.placement),g=Object(a["a"])(p),m=[h["l"],h["s"]].indexOf(p)>=0,v=m?"height":"width";if(l&&d){var y=f(u.padding,n),b=Object(i["a"])(l),_="y"===g?h["u"]:h["l"],w="y"===g?h["i"]:h["s"],x=n.rects.reference[v]+n.rects.reference[g]-d[g]-n.rects.popper[v],E=d[g]-n.rects.reference[g],O=Object(s["a"])(l),T=O?"y"===g?O.clientHeight||0:O.clientWidth||0:0,I=x/2-E/2,k=y[_],S=T-b[v]-y[w],C=T/2-b[v]/2+I,A=Object(c["a"])(k,C,S),j=g;n.modifiersData[o]=(e={},e[j]=A,e.centerOffset=A-C,e)}}function p(t){var e=t.state,n=t.options,r=n.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"!==typeof i||(i=e.elements.popper.querySelector(i),i))&&Object(o["a"])(e.elements.popper,i)&&(e.elements.arrow=i)}e["a"]={name:"arrow",enabled:!0,phase:"main",fn:d,effect:p,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]}},"0ab4":function(t,e,n){"use strict";var r=n("5788"),i=n("2767");function o(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},o=e.attributes[t]||{},s=e.elements[t];Object(i["b"])(s)&&Object(r["a"])(s)&&(Object.assign(s.style,n),Object.keys(o).forEach((function(t){var e=o[t];!1===e?s.removeAttribute(t):s.setAttribute(t,!0===e?"":e)})))}))}function s(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var o=e.elements[t],s=e.attributes[t]||{},a=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]),c=a.reduce((function(t,e){return t[e]="",t}),{});Object(i["b"])(o)&&Object(r["a"])(o)&&(Object.assign(o.style,c),Object.keys(s).forEach((function(t){o.removeAttribute(t)})))}))}}e["a"]={name:"applyStyles",enabled:!0,phase:"write",fn:o,effect:s,requires:["computeStyles"]}},"0b42":function(t,e,n){var r=n("861d"),i=n("e8b5"),o=n("b622"),s=o("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)?r(e)&&(e=e[s],null===e&&(e=void 0)):e=void 0),void 0===e?Array:e}},"0cb2":function(t,e,n){var r=n("7b0b"),i=Math.floor,o="".replace,s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,a=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,c,u,l){var h=n+t.length,f=c.length,d=a;return void 0!==u&&(u=r(u),d=s),o.call(l,d,(function(r,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(h);case"<":s=u[o.slice(1,-1)];break;default:var a=+o;if(0===a)return r;if(a>f){var l=i(a/10);return 0===l?r:l<=f?void 0===c[l-1]?o.charAt(1):c[l-1]+o.charAt(1):r}s=c[a-1]}return void 0===s?"":s}))}},"0cfb":function(t,e,n){var r=n("83ab"),i=n("d039"),o=n("cc12");t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},"0f88":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2767"),i=Math.round;function o(t,e){void 0===e&&(e=!1);var n=t.getBoundingClientRect(),o=1,s=1;if(Object(r["b"])(t)&&e){var a=t.offsetHeight,c=t.offsetWidth;c>0&&(o=n.width/c||1),a>0&&(s=n.height/a||1)}return{width:i(n.width/o),height:i(n.height/s),top:i(n.top/s),right:i(n.right/o),bottom:i(n.bottom/s),left:i(n.left/o),x:i(n.left/o),y:i(n.top/s)}}},"107c":function(t,e,n){var r=n("d039"),i=n("da84"),o=i.RegExp;t.exports=r((function(){var t=o("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},1148:function(t,e,n){"use strict";var r=n("a691"),i=n("577e"),o=n("1d80");t.exports=function(t){var e=i(o(this)),n="",s=r(t);if(s<0||s==1/0)throw RangeError("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(e+=e))1&s&&(n+=e);return n}},1235:function(t,e,n){"use strict";n.r(e);var r=n("77f9");n.d(e,"top",(function(){return r["u"]})),n.d(e,"bottom",(function(){return r["i"]})),n.d(e,"right",(function(){return r["s"]})),n.d(e,"left",(function(){return r["l"]})),n.d(e,"auto",(function(){return r["d"]})),n.d(e,"basePlacements",(function(){return r["e"]})),n.d(e,"start",(function(){return r["t"]})),n.d(e,"end",(function(){return r["k"]})),n.d(e,"clippingParents",(function(){return r["j"]})),n.d(e,"viewport",(function(){return r["w"]})),n.d(e,"popper",(function(){return r["p"]})),n.d(e,"reference",(function(){return r["r"]})),n.d(e,"variationPlacements",(function(){return r["v"]})),n.d(e,"placements",(function(){return r["o"]})),n.d(e,"beforeRead",(function(){return r["g"]})),n.d(e,"read",(function(){return r["q"]})),n.d(e,"afterRead",(function(){return r["b"]})),n.d(e,"beforeMain",(function(){return r["f"]})),n.d(e,"main",(function(){return r["m"]})),n.d(e,"afterMain",(function(){return r["a"]})),n.d(e,"beforeWrite",(function(){return r["h"]})),n.d(e,"write",(function(){return r["x"]})),n.d(e,"afterWrite",(function(){return r["c"]})),n.d(e,"modifierPhases",(function(){return r["n"]}));var i=n("1e76");n.d(e,"applyStyles",(function(){return i["a"]})),n.d(e,"arrow",(function(){return i["b"]})),n.d(e,"computeStyles",(function(){return i["c"]})),n.d(e,"eventListeners",(function(){return i["d"]})),n.d(e,"flip",(function(){return i["e"]})),n.d(e,"hide",(function(){return i["f"]})),n.d(e,"offset",(function(){return i["g"]})),n.d(e,"popperOffsets",(function(){return i["h"]})),n.d(e,"preventOverflow",(function(){return i["i"]}));var o=n("6cee");n.d(e,"popperGenerator",(function(){return o["b"]}));var s=n("b617");n.d(e,"detectOverflow",(function(){return s["a"]})),n.d(e,"createPopperBase",(function(){return o["a"]}));var a=n("39c3");n.d(e,"createPopper",(function(){return a["a"]}));var c=n("45d1");n.d(e,"createPopperLite",(function(){return c["a"]}))},1276:function(t,e,n){"use strict";var r=n("d784"),i=n("44e7"),o=n("825a"),s=n("1d80"),a=n("4840"),c=n("8aa5"),u=n("50c4"),l=n("577e"),h=n("14c3"),f=n("9263"),d=n("9f7f"),p=n("d039"),g=d.UNSUPPORTED_Y,m=[].push,v=Math.min,y=4294967295,b=!p((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));r("split",(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=l(s(this)),o=void 0===n?y:n>>>0;if(0===o)return[];if(void 0===t)return[r];if(!i(t))return e.call(r,t,o);var a,c,u,h=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,g=new RegExp(t.source,d+"g");while(a=f.call(g,r)){if(c=g.lastIndex,c>p&&(h.push(r.slice(p,a.index)),a.length>1&&a.index<r.length&&m.apply(h,a.slice(1)),u=a[0].length,p=c,h.length>=o))break;g.lastIndex===a.index&&g.lastIndex++}return p===r.length?!u&&g.test("")||h.push(""):h.push(r.slice(p)),h.length>o?h.slice(0,o):h}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var i=s(this),o=void 0==e?void 0:e[t];return void 0!==o?o.call(e,i,n):r.call(l(i),e,n)},function(t,i){var s=o(this),f=l(t),d=n(r,s,f,i,r!==e);if(d.done)return d.value;var p=a(s,RegExp),m=s.unicode,b=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(g?"g":"y"),_=new p(g?"^(?:"+s.source+")":s,b),w=void 0===i?y:i>>>0;if(0===w)return[];if(0===f.length)return null===h(_,f)?[f]:[];var x=0,E=0,O=[];while(E<f.length){_.lastIndex=g?0:E;var T,I=h(_,g?f.slice(E):f);if(null===I||(T=v(u(_.lastIndex+(g?E:0)),f.length))===x)E=c(f,E,m);else{if(O.push(f.slice(x,E)),O.length===w)return O;for(var k=1;k<=I.length-1;k++)if(O.push(I[k]),O.length===w)return O;E=x=T}}return O.push(f.slice(x)),O}]}),!b,g)},"134a":function(t,e,n){"use strict";var r=n("5d7e");function i(t){var e=t.state,n=t.name;e.modifiersData[n]=Object(r["a"])({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}e["a"]={name:"popperOffsets",enabled:!0,phase:"read",fn:i,data:{}}},"14c3":function(t,e,n){var r=n("c6b6"),i=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var o=n.call(t,e);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},"159b":function(t,e,n){var r=n("da84"),i=n("fdbc"),o=n("17c2"),s=n("9112");for(var a in i){var c=r[a],u=c&&c.prototype;if(u&&u.forEach!==o)try{s(u,"forEach",o)}catch(l){u.forEach=o}}},"17c2":function(t,e,n){"use strict";var r=n("b727").forEach,i=n("a640"),o=i("forEach");t.exports=o?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},"19aa":function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},"1be4":function(t,e,n){var r=n("d066");t.exports=r("document","documentElement")},"1c0b":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},"1c7e":function(t,e,n){var r=n("b622"),i=r("iterator"),o=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){o=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(c){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(c){}return n}},"1cdc":function(t,e,n){var r=n("342f");t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},"1d6c":function(t,e,n){"use strict";var r=n("77f9"),i=n("b617");function o(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function s(t){return[r["u"],r["s"],r["i"],r["l"]].some((function(e){return t[e]>=0}))}function a(t){var e=t.state,n=t.name,r=e.rects.reference,a=e.rects.popper,c=e.modifiersData.preventOverflow,u=Object(i["a"])(e,{elementContext:"reference"}),l=Object(i["a"])(e,{altBoundary:!0}),h=o(u,r),f=o(l,a,c),d=s(h),p=s(f);e.modifiersData[n]={referenceClippingOffsets:h,popperEscapeOffsets:f,isReferenceHidden:d,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":p})}e["a"]={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:a}},"1d80":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},"1dde":function(t,e,n){var r=n("d039"),i=n("b622"),o=n("2d00"),s=i("species");t.exports=function(t){return o>=51||!r((function(){var e=[],n=e.constructor={};return n[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"1e76":function(t,e,n){"use strict";var r=n("0ab4");n.d(e,"a",(function(){return r["a"]}));var i=n("0929");n.d(e,"b",(function(){return i["a"]}));var o=n("7cda");n.d(e,"c",(function(){return o["a"]}));var s=n("ad6e");n.d(e,"d",(function(){return s["a"]}));var a=n("ecb2");n.d(e,"e",(function(){return a["a"]}));var c=n("1d6c");n.d(e,"f",(function(){return c["a"]}));var u=n("9835");n.d(e,"g",(function(){return u["a"]}));var l=n("134a");n.d(e,"h",(function(){return l["a"]}));var h=n("9435");n.d(e,"i",(function(){return h["a"]}))},"1fc0":function(t,e,n){"use strict";function r(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}n.d(e,"a",(function(){return r}))},2266:function(t,e,n){var r=n("825a"),i=n("e95a"),o=n("50c4"),s=n("0366"),a=n("9a1f"),c=n("35a1"),u=n("2a62"),l=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,n){var h,f,d,p,g,m,v,y=n&&n.that,b=!(!n||!n.AS_ENTRIES),_=!(!n||!n.IS_ITERATOR),w=!(!n||!n.INTERRUPTED),x=s(e,y,1+b+w),E=function(t){return h&&u(h,"normal",t),new l(!0,t)},O=function(t){return b?(r(t),w?x(t[0],t[1],E):x(t[0],t[1])):w?x(t,E):x(t)};if(_)h=t;else{if(f=c(t),"function"!=typeof f)throw TypeError("Target is not iterable");if(i(f)){for(d=0,p=o(t.length);p>d;d++)if(g=O(t[d]),g&&g instanceof l)return g;return new l(!1)}h=a(t,f)}m=h.next;while(!(v=m.call(h)).done){try{g=O(v.value)}catch(T){u(h,"throw",T)}if("object"==typeof g&&g&&g instanceof l)return g}return new l(!1)}},"23cb":function(t,e,n){var r=n("a691"),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},"23e7":function(t,e,n){var r=n("da84"),i=n("06cf").f,o=n("9112"),s=n("6eeb"),a=n("ce4e"),c=n("e893"),u=n("94ca");t.exports=function(t,e){var n,l,h,f,d,p,g=t.target,m=t.global,v=t.stat;if(l=m?r:v?r[g]||a(g,{}):(r[g]||{}).prototype,l)for(h in e){if(d=e[h],t.noTargetGet?(p=i(l,h),f=p&&p.value):f=l[h],n=u(m?h:g+(v?".":"#")+h,t.forced),!n&&void 0!==f){if(typeof d===typeof f)continue;c(d,f)}(t.sham||f&&f.sham)&&o(d,"sham",!0),s(l,h,d,t)}}},"241c":function(t,e,n){var r=n("ca84"),i=n("7839"),o=i.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},2591:function(t,e,n){"use strict";n.d(e,"a",(function(){return r["default"]}));var r=n("cc84"),i=(n("b7aa"),n("e947"),n("c68e"),n("a6a6")),o=n("a8e9"),s=n("abfd");n("c7b2");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function a(t){t.prototype.loadBundle=i["k"],t.prototype.namedQuery=i["s"]}a(i["f"]);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var c=function(t,e){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},c(t,e)};function u(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function l(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r["throw"](t))}catch(e){o(e)}}function c(t){t.done?n(t.value):i(t.value).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return c([t,e])}}function c(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}Object.create;Object.create;var f=n("ffa6"),d={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},p=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return u(e,t),e}(Error);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function m(t,e,n){var r=g(t),i=r,o=void 0;try{var s=e&&e.error;if(s){var a=s.status;if("string"===typeof a){if(!d[a])return new p("internal","internal");r=d[a],i=a}var c=s.message;"string"===typeof c&&(i=c),o=s.details,void 0!==o&&(o=n.decode(o))}}catch(u){}return"ok"===r?null:new p(r,i,o)}var v=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return l(this,void 0,void 0,(function(){var t;return h(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return t=e.sent(),t?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return l(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getContext=function(){return l(this,void 0,void 0,(function(){var t,e;return h(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}(),y="type.googleapis.com/google.protobuf.Int64Value",b="type.googleapis.com/google.protobuf.UInt64Value";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var w=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"===typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"===typeof t||"object"===typeof t)return _(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case y:case b:var n=Number(t["value"]);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"===typeof t||"object"===typeof t?_(t,(function(t){return e.decode(t)})):t},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x(t){var e,n=new Promise((function(n,r){e=setTimeout((function(){r(new p("deadline-exceeded","deadline-exceeded"))}),t)}));return{timer:e,promise:n}}var E=function(){function t(t,e,n,r,i,o){var s=this;void 0===i&&(i="us-central1"),this.app_=t,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new w,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(s.deleteService())}},this.contextProvider=new v(e,n),this.cancelAllRequests=new Promise((function(t){s.deleteService=function(){return t()}}));try{var a=new URL(i);this.customDomain=a.origin,this.region="us-central1"}catch(c){this.customDomain=null,this.region=i}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;if(null!==this.emulatorOrigin){var n=this.emulatorOrigin;return n+"/"+e+"/"+this.region+"/"+t}return null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return l(this,void 0,void 0,(function(){var r,i,o;return h(this,(function(s){switch(s.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:r=s.sent(),null!==r&&(n["X-Firebase-AppCheck"]=r),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 3:return i=s.sent(),[3,5];case 4:return s.sent(),[2,{status:0,json:null}];case 5:o=null,s.label=6;case 6:return s.trys.push([6,8,,9]),[4,i.json()];case 7:return o=s.sent(),[3,9];case 8:return s.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},t.prototype.getAppCheckToken=function(){return l(this,void 0,void 0,(function(){var t,e;return h(this,(function(n){switch(n.label){case 0:return t=this.appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return e=n.sent(),[2,e.token];case 2:return[2,null]}}))}))},t.prototype.call=function(t,e,n){return l(this,void 0,void 0,(function(){var r,i,o,s,a,c,u,l,f,d,g,v;return h(this,(function(h){switch(h.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o={},[4,this.contextProvider.getContext()];case 1:return s=h.sent(),s.authToken&&(o["Authorization"]="Bearer "+s.authToken),s.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=s.instanceIdToken),a=n.timeout||7e4,c=x(a),u=c.timer,l=c.promise,[4,Promise.race([O(u,this.postJSON(r,i,o)),l,O(u,this.cancelAllRequests)])];case 2:if(f=h.sent(),!f)throw new p("cancelled","Firebase Functions instance was deleted.");if(d=m(f.status,f.json,this.serializer),d)throw d;if(!f.json)throw new p("internal","Response is not valid JSON object.");if(g=f.json.data,"undefined"===typeof g&&(g=f.json.result),"undefined"===typeof g)throw new p("internal","Response is missing data field.");return v=this.serializer.decode(g),[2,{data:v}]}}))}))},t}();function O(t,e){return l(this,void 0,void 0,(function(){var n;return h(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T="functions";function I(t,e){var n={Functions:E};function r(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal"),a=t.getProvider("messaging");return new E(i,o,a,s,r,e)}t.INTERNAL.registerComponent(new f["Component"](T,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var k="@firebase/functions",S="0.6.15";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
I(r["default"],fetch.bind(self)),r["default"].registerVersion(k,S);var C=function(){return C=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},C.apply(this,arguments)};function A(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r["throw"](t))}catch(e){o(e)}}function c(t){t.done?n(t.value):i(t.value).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function j(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return c([t,e])}}function c(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}Object.create;function N(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function P(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return s}function D(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;var R,M=n("9dbb"),L="@firebase/installations",F="0.4.32",U=1e4,V="w:"+F,B="FIS_v2",q="https://firebaseinstallations.googleapis.com/v1",z=36e5,W="installations",H="Installations",K=(R={},R["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',R["not-registered"]="Firebase Installation is not registered.",R["installation-not-found"]="Firebase Installation not found.",R["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',R["app-offline"]="Could not process request. Application offline.",R["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",R),G=new o["ErrorFactory"](W,H,K);function $(t){return t instanceof o["FirebaseError"]&&t.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(t){var e=t.projectId;return q+"/projects/"+e+"/installations"}function Q(t){return{token:t.token,requestStatus:2,expiresIn:et(t.expiresIn),creationTime:Date.now()}}function X(t,e){return A(this,void 0,void 0,(function(){var n,r;return j(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,G.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function J(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Z(t,e){var n=e.refreshToken,r=J(t);return r.append("Authorization",nt(n)),r}function tt(t){return A(this,void 0,void 0,(function(){var e;return j(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return e=n.sent(),e.status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function et(t){return Number(t.replace("s","000"))}function nt(t){return B+" "+t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(t,e){var n=e.fid;return A(this,void 0,void 0,(function(){var e,r,i,o,s,a,c;return j(this,(function(u){switch(u.label){case 0:return e=Y(t),r=J(t),i={fid:n,authVersion:B,appId:t.appId,sdkVersion:V},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,tt((function(){return fetch(e,o)}))];case 1:return s=u.sent(),s.ok?[4,s.json()]:[3,3];case 2:return a=u.sent(),c={fid:a.fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:Q(a.authToken)},[2,c];case 3:return[4,X("Create Installation",s)];case 4:throw u.sent()}}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t){return new Promise((function(e){setTimeout(e,t)}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t){var e=btoa(String.fromCharCode.apply(String,D([],P(t))));return e.replace(/\+/g,"-").replace(/\//g,"_")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st=/^[cdef][\w-]{21}$/,at="";function ct(){try{var t=new Uint8Array(17),e=self.crypto||self.msCrypto;e.getRandomValues(t),t[0]=112+t[0]%16;var n=ut(t);return st.test(n)?n:at}catch(r){return at}}function ut(t){var e=ot(t);return e.substr(0,22)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t){return t.appName+"!"+t.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht=new Map;function ft(t,e){var n=lt(t);gt(n,e),mt(n,e)}function dt(t,e){yt();var n=lt(t),r=ht.get(n);r||(r=new Set,ht.set(n,r)),r.add(e)}function pt(t,e){var n=lt(t),r=ht.get(n);r&&(r.delete(e),0===r.size&&ht.delete(n),bt())}function gt(t,e){var n,r,i=ht.get(t);if(i)try{for(var o=N(i),s=o.next();!s.done;s=o.next()){var a=s.value;a(e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function mt(t,e){var n=yt();n&&n.postMessage({key:t,fid:e}),bt()}var vt=null;function yt(){return!vt&&"BroadcastChannel"in self&&(vt=new BroadcastChannel("[Firebase] FID Change"),vt.onmessage=function(t){gt(t.data.key,t.data.fid)}),vt}function bt(){0===ht.size&&vt&&(vt.close(),vt=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t="firebase-installations-database",wt=1,xt="firebase-installations-store",Et=null;function Ot(){return Et||(Et=Object(M["openDb"])(_t,wt,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(xt)}}))),Et}function Tt(t,e){return A(this,void 0,void 0,(function(){var n,r,i,o,s;return j(this,(function(a){switch(a.label){case 0:return n=lt(t),[4,Ot()];case 1:return r=a.sent(),i=r.transaction(xt,"readwrite"),o=i.objectStore(xt),[4,o.get(n)];case 2:return s=a.sent(),[4,o.put(e,n)];case 3:return a.sent(),[4,i.complete];case 4:return a.sent(),s&&s.fid===e.fid||ft(t,e.fid),[2,e]}}))}))}function It(t){return A(this,void 0,void 0,(function(){var e,n,r;return j(this,(function(i){switch(i.label){case 0:return e=lt(t),[4,Ot()];case 1:return n=i.sent(),r=n.transaction(xt,"readwrite"),[4,r.objectStore(xt).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function kt(t,e){return A(this,void 0,void 0,(function(){var n,r,i,o,s,a;return j(this,(function(c){switch(c.label){case 0:return n=lt(t),[4,Ot()];case 1:return r=c.sent(),i=r.transaction(xt,"readwrite"),o=i.objectStore(xt),[4,o.get(n)];case 2:return s=c.sent(),a=e(s),void 0!==a?[3,4]:[4,o.delete(n)];case 3:return c.sent(),[3,6];case 4:return[4,o.put(a,n)];case 5:c.sent(),c.label=6;case 6:return[4,i.complete];case 7:return c.sent(),!a||s&&s.fid===a.fid||ft(t,a.fid),[2,a]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(t){return A(this,void 0,void 0,(function(){var e,n,r;return j(this,(function(i){switch(i.label){case 0:return[4,kt(t,(function(n){var r=Ct(n),i=At(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return n=i.sent(),n.fid!==at?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function Ct(t){var e=t||{fid:ct(),registrationStatus:0};return Dt(e)}function At(t,e){if(0===e.registrationStatus){if(!navigator.onLine){var n=Promise.reject(G.create("app-offline"));return{installationEntry:e,registrationPromise:n}}var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=jt(t,r);return{installationEntry:r,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Nt(t)}:{installationEntry:e}}function jt(t,e){return A(this,void 0,void 0,(function(){var n,r;return j(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,rt(t,e)];case 1:return n=i.sent(),[2,Tt(t,n)];case 2:return r=i.sent(),$(r)&&409===r.customData.serverCode?[4,It(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Tt(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}function Nt(t){return A(this,void 0,void 0,(function(){var e,n,r,i;return j(this,(function(o){switch(o.label){case 0:return[4,Pt(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,it(100)];case 3:return o.sent(),[4,Pt(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,St(t)];case 6:return n=o.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,e]}}))}))}function Pt(t){return kt(t,(function(t){if(!t)throw G.create("installation-not-found");return Dt(t)}))}function Dt(t){return Rt(t)?{fid:t.fid,registrationStatus:0}:t}function Rt(t){return 1===t.registrationStatus&&t.registrationTime+U<Date.now()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return A(this,void 0,void 0,(function(){var t,i,o,s,a,c,u,l;return j(this,(function(h){switch(h.label){case 0:return t=Lt(n,e),i=Z(n,e),o=r.getImmediate({optional:!0}),o&&i.append("x-firebase-client",o.getPlatformInfoString()),s={installation:{sdkVersion:V}},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,tt((function(){return fetch(t,a)}))];case 1:return c=h.sent(),c.ok?[4,c.json()]:[3,3];case 2:return u=h.sent(),l=Q(u),[2,l];case 3:return[4,X("Generate Auth Token",c)];case 4:throw h.sent()}}))}))}function Lt(t,e){var n=e.fid;return Y(t)+"/"+n+"/authTokens:generate"}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t,e){return void 0===e&&(e=!1),A(this,void 0,void 0,(function(){var n,r,i,o;return j(this,(function(s){switch(s.label){case 0:return[4,kt(t.appConfig,(function(r){if(!qt(r))throw G.create("not-registered");var i=r.authToken;if(!e&&zt(i))return r;if(1===i.requestStatus)return n=Ut(t,e),r;if(!navigator.onLine)throw G.create("app-offline");var o=Ht(r);return n=Bt(t,o),o}))];case 1:return r=s.sent(),n?[4,n]:[3,3];case 2:return o=s.sent(),[3,4];case 3:o=r.authToken,s.label=4;case 4:return i=o,[2,i]}}))}))}function Ut(t,e){return A(this,void 0,void 0,(function(){var n,r;return j(this,(function(i){switch(i.label){case 0:return[4,Vt(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,it(100)];case 3:return i.sent(),[4,Vt(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,0===r.requestStatus?[2,Ft(t,e)]:[2,r]}}))}))}function Vt(t){return kt(t,(function(t){if(!qt(t))throw G.create("not-registered");var e=t.authToken;return Kt(e)?C(C({},t),{authToken:{requestStatus:0}}):t}))}function Bt(t,e){return A(this,void 0,void 0,(function(){var n,r,i;return j(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,Mt(t,e)];case 1:return n=o.sent(),i=C(C({},e),{authToken:n}),[4,Tt(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return r=o.sent(),!$(r)||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,It(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=C(C({},e),{authToken:{requestStatus:0}}),[4,Tt(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}function qt(t){return void 0!==t&&2===t.registrationStatus}function zt(t){return 2===t.requestStatus&&!Wt(t)}function Wt(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+z}function Ht(t){var e={requestStatus:1,requestTime:Date.now()};return C(C({},t),{authToken:e})}function Kt(t){return 1===t.requestStatus&&t.requestTime+U<Date.now()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(t){return A(this,void 0,void 0,(function(){var e,n,r;return j(this,(function(i){switch(i.label){case 0:return[4,St(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,r=e.registrationPromise,r?r.catch(console.error):Ft(t).catch(console.error),[2,n.fid]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(t,e){return void 0===e&&(e=!1),A(this,void 0,void 0,(function(){var n;return j(this,(function(r){switch(r.label){case 0:return[4,Yt(t.appConfig)];case 1:return r.sent(),[4,Ft(t,e)];case 2:return n=r.sent(),[2,n.token]}}))}))}function Yt(t){return A(this,void 0,void 0,(function(){var e;return j(this,(function(n){switch(n.label){case 0:return[4,St(t)];case 1:return e=n.sent().registrationPromise,e?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(t,e){return A(this,void 0,void 0,(function(){var n,r,i,o;return j(this,(function(s){switch(s.label){case 0:return n=Xt(t,e),r=Z(t,e),i={method:"DELETE",headers:r},[4,tt((function(){return fetch(n,i)}))];case 1:return o=s.sent(),o.ok?[3,3]:[4,X("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}}))}))}function Xt(t,e){var n=e.fid;return Y(t)+"/"+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(t){return A(this,void 0,void 0,(function(){var e,n;return j(this,(function(r){switch(r.label){case 0:return e=t.appConfig,[4,kt(e,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(n=r.sent(),!n)return[3,6];if(1!==n.registrationStatus)return[3,2];throw G.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw G.create("app-offline");case 3:return[4,Qt(e,n)];case 4:return r.sent(),[4,It(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(t,e){var n=t.appConfig;return dt(n,e),function(){pt(n,e)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(t){var e,n;if(!t||!t.options)throw ee("App Configuration");if(!t.name)throw ee("App Name");var r=["projectId","apiKey","appId"];try{for(var i=N(r),o=i.next();!o.done;o=i.next()){var s=o.value;if(!t.options[s])throw ee(s)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function ee(t){return G.create("missing-app-config-values",{valueName:t})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t){var e="installations";t.INTERNAL.registerComponent(new f["Component"](e,(function(t){var e=t.getProvider("app").getImmediate(),n=te(e),r=t.getProvider("platform-logger"),i={appConfig:n,platformLoggerProvider:r},o={app:e,getId:function(){return Gt(i)},getToken:function(t){return $t(i,t)},delete:function(){return Jt(i)},onIdChange:function(t){return Zt(i,t)}};return o}),"PUBLIC")),t.registerVersion(L,F)}ne(r["default"]);var re=function(){return re=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},re.apply(this,arguments)};function ie(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r["throw"](t))}catch(e){o(e)}}function c(t){t.done?n(t.value):i(t.value).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function oe(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return c([t,e])}}function c(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}Object.create;function se(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ae(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return s}function ce(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}var ue;Object.create;var le,he=(ue={},ue["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',ue["only-available-in-window"]="This method is available in a Window context.",ue["only-available-in-sw"]="This method is available in a service worker context.",ue["permission-default"]="The notification permission was not granted and dismissed instead.",ue["permission-blocked"]="The notification permission was not granted and blocked instead.",ue["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",ue["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",ue["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",ue["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",ue["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",ue["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",ue["token-update-no-token"]="FCM returned no token when updating the user to push.",ue["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",ue["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",ue["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",ue["invalid-vapid-key"]="The public VAPID key must be a string.",ue["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",ue),fe=new o["ErrorFactory"]("messaging","Messaging",he),de="/firebase-messaging-sw.js",pe="/firebase-cloud-messaging-push-scope",ge="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",me="https://fcmregistrations.googleapis.com/v1",ve="FCM_MSG",ye="FirebaseMessaging: ",be="google.c.a.e",_e="google.c.a.c_id",we="google.c.a.ts",xe="google.c.a.c_l",Ee=1e3,Oe=3e3;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Te(t){var e=new Uint8Array(t),n=btoa(String.fromCharCode.apply(String,ce([],ae(e))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ie(t){for(var e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){t["PUSH_RECEIVED"]="push-received",t["NOTIFICATION_CLICKED"]="notification-clicked"})(le||(le={}));var ke="fcm_token_details_db",Se=5,Ce="fcm_token_object_Store";function Ae(t){return ie(this,void 0,void 0,(function(){var e,n,r,i,o=this;return oe(this,(function(s){switch(s.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=s.sent(),n=e.map((function(t){return t.name})),!n.includes(ke))return[2,null];s.label=2;case 2:return r=null,[4,Object(M["openDb"])(ke,Se,(function(e){return ie(o,void 0,void 0,(function(){var n,i,o,s;return oe(this,(function(a){switch(a.label){case 0:return e.oldVersion<2?[2]:e.objectStoreNames.contains(Ce)?(n=e.transaction.objectStore(Ce),[4,n.index("fcmSenderId").get(t)]):[2];case 1:return i=a.sent(),[4,n.clear()];case 2:if(a.sent(),!i)return[2];if(2===e.oldVersion){if(o=i,!o.auth||!o.p256dh||!o.endpoint)return[2];r={token:o.fcmToken,createTime:null!==(s=o.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"===typeof o.vapidKey?o.vapidKey:Te(o.vapidKey)}}}else(3===e.oldVersion||4===e.oldVersion)&&(o=i,r={token:o.fcmToken,createTime:o.createTime,subscriptionOptions:{auth:Te(o.auth),p256dh:Te(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:Te(o.vapidKey)}});return[2]}}))}))}))];case 3:return i=s.sent(),i.close(),[4,Object(M["deleteDb"])(ke)];case 4:return s.sent(),[4,Object(M["deleteDb"])("fcm_vapid_details_db")];case 5:return s.sent(),[4,Object(M["deleteDb"])("undefined")];case 6:return s.sent(),[2,je(r)?r:null]}}))}))}function je(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"===typeof t.createTime&&t.createTime>0&&"string"===typeof t.token&&t.token.length>0&&"string"===typeof e.auth&&e.auth.length>0&&"string"===typeof e.p256dh&&e.p256dh.length>0&&"string"===typeof e.endpoint&&e.endpoint.length>0&&"string"===typeof e.swScope&&e.swScope.length>0&&"string"===typeof e.vapidKey&&e.vapidKey.length>0}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne="firebase-messaging-database",Pe=1,De="firebase-messaging-store",Re=null;function Me(){return Re||(Re=Object(M["openDb"])(Ne,Pe,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(De)}}))),Re}function Le(t){return ie(this,void 0,void 0,(function(){var e,n,r,i;return oe(this,(function(o){switch(o.label){case 0:return e=Ve(t),[4,Me()];case 1:return n=o.sent(),[4,n.transaction(De).objectStore(De).get(e)];case 2:return r=o.sent(),r?[2,r]:[3,3];case 3:return[4,Ae(t.appConfig.senderId)];case 4:return i=o.sent(),i?[4,Fe(t,i)]:[3,6];case 5:return o.sent(),[2,i];case 6:return[2]}}))}))}function Fe(t,e){return ie(this,void 0,void 0,(function(){var n,r,i;return oe(this,(function(o){switch(o.label){case 0:return n=Ve(t),[4,Me()];case 1:return r=o.sent(),i=r.transaction(De,"readwrite"),[4,i.objectStore(De).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}}))}))}function Ue(t){return ie(this,void 0,void 0,(function(){var e,n,r;return oe(this,(function(i){switch(i.label){case 0:return e=Ve(t),[4,Me()];case 1:return n=i.sent(),r=n.transaction(De,"readwrite"),[4,r.objectStore(De).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Ve(t){var e=t.appConfig;return e.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t,e){return ie(this,void 0,void 0,(function(){var n,r,i,o,s,a,c;return oe(this,(function(u){switch(u.label){case 0:return[4,He(t)];case 1:n=u.sent(),r=Ke(e),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(We(t.appConfig),i)];case 3:return s=u.sent(),[4,s.json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),fe.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw c=o.error.message,fe.create("token-subscribe-failed",{errorInfo:c});if(!o.token)throw fe.create("token-subscribe-no-token");return[2,o.token]}}))}))}function qe(t,e){return ie(this,void 0,void 0,(function(){var n,r,i,o,s,a,c;return oe(this,(function(u){switch(u.label){case 0:return[4,He(t)];case 1:n=u.sent(),r=Ke(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(We(t.appConfig)+"/"+e.token,i)];case 3:return s=u.sent(),[4,s.json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),fe.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw c=o.error.message,fe.create("token-update-failed",{errorInfo:c});if(!o.token)throw fe.create("token-update-no-token");return[2,o.token]}}))}))}function ze(t,e){return ie(this,void 0,void 0,(function(){var n,r,i,o,s,a;return oe(this,(function(c){switch(c.label){case 0:return[4,He(t)];case 1:n=c.sent(),r={method:"DELETE",headers:n},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(We(t.appConfig)+"/"+e,r)];case 3:return i=c.sent(),[4,i.json()];case 4:if(o=c.sent(),o.error)throw s=o.error.message,fe.create("token-unsubscribe-failed",{errorInfo:s});return[3,6];case 5:throw a=c.sent(),fe.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}}))}))}function We(t){var e=t.projectId;return me+"/projects/"+e+"/registrations"}function He(t){var e=t.appConfig,n=t.installations;return ie(this,void 0,void 0,(function(){var t;return oe(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function Ke(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,o={web:{endpoint:r,auth:n,p256dh:e}};return i!==ge&&(o.web.applicationPubKey=i),o}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge=6048e5;function $e(t,e,n){return ie(this,void 0,void 0,(function(){var r,i,o,s;return oe(this,(function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw fe.create("permission-blocked");return[4,Je(e,n)];case 1:return r=a.sent(),[4,Le(t)];case 2:return i=a.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:Te(r.getKey("auth")),p256dh:Te(r.getKey("p256dh"))},i?[3,3]:[2,Xe(t,o)];case 3:if(Ze(i.subscriptionOptions,o))return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,ze(t,i.token)];case 5:return a.sent(),[3,7];case 6:return s=a.sent(),console.warn(s),[3,7];case 7:return[2,Xe(t,o)];case 8:return Date.now()>=i.createTime+Ge?[2,Qe({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}}))}))}function Ye(t,e){return ie(this,void 0,void 0,(function(){var n,r;return oe(this,(function(i){switch(i.label){case 0:return[4,Le(t)];case 1:return n=i.sent(),n?[4,ze(t,n.token)]:[3,4];case 2:return i.sent(),[4,Ue(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}}))}))}function Qe(t,e,n){return ie(this,void 0,void 0,(function(){var r,i,o;return oe(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,qe(e,t)];case 1:return r=s.sent(),i=re(re({},t),{token:r,createTime:Date.now()}),[4,Fe(e,i)];case 2:return s.sent(),[2,r];case 3:return o=s.sent(),[4,Ye(e,n)];case 4:throw s.sent(),o;case 5:return[2]}}))}))}function Xe(t,e){return ie(this,void 0,void 0,(function(){var n,r;return oe(this,(function(i){switch(i.label){case 0:return[4,Be(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,Fe(t,r)];case 2:return i.sent(),[2,r.token]}}))}))}function Je(t,e){return ie(this,void 0,void 0,(function(){var n;return oe(this,(function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ie(e)})]}}))}))}function Ze(t,e){var n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,o=e.p256dh===t.p256dh;return n&&r&&i&&o}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t){var e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcm_message_id};return en(e,t),nn(e,t),rn(e,t),e}function en(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}function nn(t,e){e.data&&(t.data=e.data)}function rn(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(t){return"object"===typeof t&&!!t&&_e in t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t){return new Promise((function(e){setTimeout(e,t)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(t){t.waitUntil(e.onPush(t))})),self.addEventListener("pushsubscriptionchange",(function(t){t.waitUntil(e.onSubChange(t))})),self.addEventListener("notificationclick",(function(t){t.waitUntil(e.onNotificationClick(t))}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!==typeof t)throw fe.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return ie(this,void 0,void 0,(function(){var n;return oe(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,Le(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:ge,r.label=2;case 2:return[2,$e(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return Ye(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw fe.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw fe.create("use-vapid-key-after-get-token");if("string"!==typeof t||0===t.length)throw fe.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw fe.create("only-available-in-window")},t.prototype.onMessage=function(){throw fe.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw fe.create("only-available-in-window")},t.prototype.onPush=function(t){return ie(this,void 0,void 0,(function(){var e,n,r,i;return oe(this,(function(o){switch(o.label){case 0:return e=un(t),e?[4,dn()]:(console.debug(ye+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return n=o.sent(),hn(n)?[2,fn(n,e)]:(r=!1,e.notification?[4,pn(cn(e))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=tn(e),"function"===typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,sn(Ee)]);case 4:return o.sent(),[2]}}))}))},t.prototype.onSubChange=function(t){var e,n;return ie(this,void 0,void 0,(function(){var r,i;return oe(this,(function(o){switch(o.label){case 0:return r=t.newSubscription,r?[3,2]:[4,Ye(this.firebaseDependencies,self.registration)];case 1:return o.sent(),[2];case 2:return[4,Le(this.firebaseDependencies)];case 3:return i=o.sent(),[4,Ye(this.firebaseDependencies,self.registration)];case 4:return o.sent(),[4,$e(this.firebaseDependencies,self.registration,null!==(n=null===(e=null===i||void 0===i?void 0:i.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:ge)];case 5:return o.sent(),[2]}}))}))},t.prototype.onNotificationClick=function(t){var e,n;return ie(this,void 0,void 0,(function(){var r,i,o,s,a;return oe(this,(function(c){switch(c.label){case 0:return r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n[ve],r?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),i=gn(r),i?(o=new URL(i,self.location.href),s=new URL(self.location.origin),o.host!==s.host?[2]:[4,ln(o)]):[2]):[2];case 1:return a=c.sent(),a?[3,4]:[4,self.clients.openWindow(i)];case 2:return a=c.sent(),[4,sn(Oe)];case 3:return c.sent(),[3,6];case 4:return[4,a.focus()];case 5:a=c.sent(),c.label=6;case 6:return a?(r.messageType=le.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,a.postMessage(r)]):[2]}}))}))},t}();function cn(t){var e,n=re({},t.notification);return n.data=(e={},e[ve]=t,e),n}function un(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}function ln(t){return ie(this,void 0,void 0,(function(){var e,n,r,i,o,s,a;return oe(this,(function(c){switch(c.label){case 0:return[4,dn()];case 1:e=c.sent();try{for(n=se(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(u){s={error:u}}finally{try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(s)throw s.error}}return[2,null]}}))}))}function hn(t){return t.some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))}function fn(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=le.PUSH_RECEIVED;try{for(var i=se(t),o=i.next();!o.done;o=i.next()){var s=o.value;s.postMessage(e)}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function dn(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function pn(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}function gn(t){var e,n,r,i=null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action;return i||(on(t.data)?self.location.origin:null)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mn=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(t){return e.messageEventListener(t)}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return ie(this,void 0,void 0,(function(){var e,n;return oe(this,(function(r){switch(r.label){case 0:return e=t.data,e.isFirebaseMessaging?(this.onMessageCallback&&e.messageType===le.PUSH_RECEIVED&&("function"===typeof this.onMessageCallback?this.onMessageCallback(yn(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),n=e.data,on(n)&&"1"===n[be]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return ie(this,void 0,void 0,(function(){return oe(this,(function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw fe.create("permission-blocked");return[4,this.updateVapidKey(null===t||void 0===t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null===t||void 0===t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,$e(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},t.prototype.updateVapidKey=function(t){return ie(this,void 0,void 0,(function(){return oe(this,(function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=ge),[2]}))}))},t.prototype.updateSwReg=function(t){return ie(this,void 0,void 0,(function(){return oe(this,(function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw fe.create("invalid-sw-registration");return this.swRegistration=t,[2]}}))}))},t.prototype.registerDefaultSw=function(){return ie(this,void 0,void 0,(function(){var t,e;return oe(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register(de,{scope:pe})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw e=n.sent(),fe.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}}))}))},t.prototype.deleteToken=function(){return ie(this,void 0,void 0,(function(){return oe(this,(function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,Ye(this.firebaseDependencies,this.swRegistration)]}}))}))},t.prototype.requestPermission=function(){return ie(this,void 0,void 0,(function(){var t;return oe(this,(function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if(t=e.sent(),"granted"===t)return[2];throw"denied"===t?fe.create("permission-blocked"):fe.create("permission-default")}}))}))},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw fe.create("use-vapid-key-after-get-token");if("string"!==typeof t||0===t.length)throw fe.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw fe.create("invalid-sw-registration");if(this.swRegistration)throw fe.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw fe.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw fe.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return ie(this,void 0,void 0,(function(){var n,r;return oe(this,(function(i){switch(i.label){case 0:return n=vn(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r=i.sent(),r.logEvent(n,{message_id:e[_e],message_name:e[xe],message_time:e[we],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},t}();function vn(t){switch(t){case le.NOTIFICATION_CLICKED:return"notification_open";case le.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function yn(t){return delete t.messageType,delete t.isFirebaseMessaging,t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t){var e,n;if(!t||!t.options)throw _n("App Configuration Object");if(!t.name)throw _n("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=t.options;try{for(var o=se(r),s=o.next();!s.done;s=o.next()){var a=s.value;if(!i[a])throw _n(a)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return{appName:t.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function _n(t){return fe.create("missing-app-config-values",{valueName:t})}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wn="messaging";function xn(t){var e=t.getProvider("app").getImmediate(),n=bn(e),r=t.getProvider("installations").getImmediate(),i=t.getProvider("analytics-internal"),o={app:e,appConfig:n,installations:r,analyticsProvider:i};if(!On())throw fe.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new an(o):new mn(o)}var En={isSupported:On};function On(){return self&&"ServiceWorkerGlobalScope"in self?In():Tn()}function Tn(){return"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function In(){return"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */r["default"].INTERNAL.registerComponent(new f["Component"](wn,xn,"PUBLIC").setServiceProps(En));var kn=function(t,e){return kn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},kn(t,e)};function Sn(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}kn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Cn=function(){return Cn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Cn.apply(this,arguments)};function An(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r["throw"](t))}catch(e){o(e)}}function c(t){t.done?n(t.value):i(t.value).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function jn(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return c([t,e])}}function c(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}Object.create;function Nn(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Pn="firebasestorage.googleapis.com",Dn="storageBucket",Rn=12e4,Mn=6e5,Ln=function(t){function e(n,r){var i=t.call(this,Fn(n),"Firebase Storage: "+r+" ("+Fn(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return Sn(e,t),e.prototype._codeEquals=function(t){return Fn(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),e}(o["FirebaseError"]);function Fn(t){return"storage/"+t}function Un(){var t="An unknown error occurred, please check the error payload for server response.";return new Ln("unknown",t)}function Vn(t){return new Ln("object-not-found","Object '"+t+"' does not exist.")}function Bn(t){return new Ln("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function qn(){var t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ln("unauthenticated",t)}function zn(){return new Ln("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function Wn(t){return new Ln("unauthorized","User does not have permission to access '"+t+"'.")}function Hn(){return new Ln("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Kn(){return new Ln("canceled","User canceled the upload/download.")}function Gn(t){return new Ln("invalid-url","Invalid URL '"+t+"'.")}function $n(t){return new Ln("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function Yn(){return new Ln("no-default-bucket","No default bucket found. Did you set the '"+Dn+"' property when initializing the app?")}function Qn(){return new Ln("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Xn(){return new Ln("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function Jn(){return new Ln("no-download-url","The given file does not have any download URLs.")}function Zn(t){return new Ln("invalid-argument",t)}function tr(){return new Ln("app-deleted","The Firebase app was deleted.")}function er(t){return new Ln("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function nr(t,e){return new Ln("invalid-format","String does not match format '"+t+"': "+e)}function rr(t){throw new Ln("internal-error","Internal error: "+t)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(t){return atob(t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var or={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},sr=function(){function t(t,e){this.data=t,this.contentType=e||null}return t}();function ar(t,e){switch(t){case or.RAW:return new sr(cr(e));case or.BASE64:case or.BASE64URL:return new sr(lr(t,e));case or.DATA_URL:return new sr(fr(e),dr(e))}throw Un()}function cr(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296===(64512&r)){var i=n<t.length-1&&56320===(64512&t.charCodeAt(n+1));if(i){var o=r,s=t.charCodeAt(++n);r=65536|(1023&o)<<10|1023&s,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189)}else 56320===(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function ur(t){var e;try{e=decodeURIComponent(t)}catch(n){throw nr(or.DATA_URL,"Malformed data URL.")}return cr(e)}function lr(t,e){switch(t){case or.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r){var i=n?"-":"_";throw nr(t,"Invalid character '"+i+"' found: is it base64url encoded?")}break;case or.BASE64URL:var o=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(o||s){i=o?"+":"/";throw nr(t,"Invalid character '"+i+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/");break}var a;try{a=ir(e)}catch(l){throw nr(t,"Invalid character found")}for(var c=new Uint8Array(a.length),u=0;u<a.length;u++)c[u]=a.charCodeAt(u);return c}var hr=function(){function t(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw nr(or.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=pr(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1)}return t}();function fr(t){var e=new hr(t);return e.base64?lr(or.BASE64,e.rest):ur(e.rest)}function dr(t){var e=new hr(t);return e.contentType}function pr(t,e){var n=t.length>=e.length;return!!n&&t.substring(t.length-e.length)===e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gr,mr={STATE_CHANGED:"state_changed"},vr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function yr(t){switch(t){case"running":case"pausing":case"canceling":return vr.RUNNING;case"paused":return vr.PAUSED;case"success":return vr.SUCCESS;case"canceled":return vr.CANCELED;case"error":return vr.ERROR;default:return vr.ERROR}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){t[t["NO_ERROR"]=0]="NO_ERROR",t[t["NETWORK_ERROR"]=1]="NETWORK_ERROR",t[t["ABORT"]=2]="ABORT"})(gr||(gr={}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var br=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=gr.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=gr.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=gr.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw rr("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw rr("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw rr("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw rr("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}();function _r(){return new br}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wr=function(){function t(){}return t.prototype.createConnection=function(){return _r()},t}(),xr=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(i){return new t(e,"")}if(""===r.path)return r;throw $n(e)},t.makeFromUrl=function(e,n){var r=null,i="([A-Za-z0-9.\\-_]+)";function o(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}var s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function u(t){t.path_=decodeURIComponent(t.path)}for(var l="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",d=new RegExp("^https?://"+h+"/"+l+"/b/"+i+"/o"+f,"i"),p={bucket:1,path:3},g=n===Pn?"(?:storage.googleapis.com|storage.cloud.google.com)":n,m="([^?#]*)",v=new RegExp("^https?://"+g+"/"+i+"/"+m,"i"),y={bucket:1,path:2},b=[{regex:a,indices:c,postModify:o},{regex:d,indices:p,postModify:u},{regex:v,indices:y,postModify:u}],_=0;_<b.length;_++){var w=b[_],x=w.regex.exec(e);if(x){var E=x[w.indices.bucket],O=x[w.indices.path];O||(O=""),r=new t(E,O),w.postModify(r);break}}if(null==r)throw Gn(e);return r},t}(),Er=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Or(t,e,n){var r=1,i=null,o=!1,s=0;function a(){return 2===s}var c=!1;function u(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];c||(c=!0,e.apply(null,t))}function l(e){i=setTimeout((function(){i=null,t(h,a())}),e)}function h(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)u.call.apply(u,Nn([null,t],e));else{var i,h=a()||o;if(h)u.call.apply(u,Nn([null,t],e));else r<64&&(r*=2),1===s?(s=2,i=0):i=1e3*(r+Math.random()),l(i)}}var f=!1;function d(t){f||(f=!0,c||(null!==i?(t||(s=2),clearTimeout(i),l(0)):t||(s=1)))}return l(0),setTimeout((function(){o=!0,d(!0)}),n),d}function Tr(t){t(!1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t){return void 0!==t}function kr(t){return"function"===typeof t}function Sr(t){return"object"===typeof t&&!Array.isArray(t)}function Cr(t){return"string"===typeof t||t instanceof String}function Ar(t){return jr()&&t instanceof Blob}function jr(){return"undefined"!==typeof Blob}function Nr(t,e,n,r){if(r<e)throw Zn("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw Zn("Invalid value for '"+t+"'. Expected "+n+" or less.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(t,e){var n=e.match(/^(\w+):\/\/.+/),r=null===n||void 0===n?void 0:n[1],i=e;return null==r&&(i="https://"+e),i+"/v0"+t}function Dr(t){var e=encodeURIComponent,n="?";for(var r in t)if(t.hasOwnProperty(r)){var i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rr=function(){function t(t,e,n,r,i,o,s,a,c,u,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=u,this.timeout_=c,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){if(n)e(!1,new Mr(!1,null,!0));else{var r=t.pool_.createConnection();t.pendingConnection_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(){null!==t.progressCallback_&&r.removeUploadProgressListener(i),t.pendingConnection_=null;var n=r.getErrorCode()===gr.NO_ERROR,o=r.getStatus();if(n&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new Mr(s,r))}else{var a=r.getErrorCode()===gr.ABORT;e(!1,new Mr(!1,null,a))}}))}function i(e){var n=e.loaded,r=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,r)}}function n(e,n){var r=t.resolve_,i=t.reject_,o=n.connection;if(n.wasSuccessCode)try{var s=t.callback_(o,o.getResponseText());Ir(s)?r(s):r()}catch(c){i(c)}else if(null!==o){var a=Un();a.serverResponse=o.getResponseText(),t.errorCallback_?i(t.errorCallback_(o,a)):i(a)}else if(n.canceled){a=t.appDelete_?tr():Kn();i(a)}else{a=Hn();i(a)}}this.canceled_?n(!1,new Mr(!1,null,!0)):this.backoffId_=Or(e,n,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&Tr(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=[408,429],r=-1!==n.indexOf(t),i=-1!==this.additionalRetryCodes_.indexOf(t);return e||r||i},t}(),Mr=function(){function t(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}return t}();function Lr(t,e){null!==e&&e.length>0&&(t["Authorization"]="Firebase "+e)}function Fr(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!==e&&void 0!==e?e:"AppManager")}function Ur(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Vr(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}function Br(t,e,n,r,i,o){var s=Dr(t.urlParams),a=t.url+s,c=Object.assign({},t.headers);return Ur(c,e),Lr(c,n),Fr(c,o),Vr(c,r),new Rr(a,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function zr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=qr();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(jr())return new Blob(t);throw new Ln("unsupported-environment","This browser doesn't seem to support creating Blobs")}function Wr(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hr=function(){function t(t,e){var n=0,r="";Ar(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(Ar(this.data_)){var r=this.data_,i=Wr(r,e,n);return null===i?null:new t(i)}var o=new Uint8Array(this.data_.buffer,e,n-e);return new t(o,!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(jr()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(zr.apply(null,r))}var i=e.map((function(t){return Cr(t)?ar(or.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(t){var e;try{e=JSON.parse(t)}catch(n){return null}return Sr(e)?e:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(t){if(0===t.length)return null;var e=t.lastIndexOf("/");if(-1===e)return"";var n=t.slice(0,e);return n}function $r(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}function Yr(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(t,e){return e}var Xr=function(){function t(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||Qr}return t}(),Jr=null;function Zr(t){return!Cr(t)||t.length<2?t:Yr(t)}function ti(){if(Jr)return Jr;var t=[];function e(t,e){return Zr(e)}t.push(new Xr("bucket")),t.push(new Xr("generation")),t.push(new Xr("metageneration")),t.push(new Xr("name","fullPath",!0));var n=new Xr("name");function r(t,e){return void 0!==e?Number(e):e}n.xform=e,t.push(n);var i=new Xr("size");return i.xform=r,t.push(i),t.push(new Xr("timeCreated")),t.push(new Xr("updated")),t.push(new Xr("md5Hash",null,!0)),t.push(new Xr("cacheControl",null,!0)),t.push(new Xr("contentDisposition",null,!0)),t.push(new Xr("contentEncoding",null,!0)),t.push(new Xr("contentLanguage",null,!0)),t.push(new Xr("contentType",null,!0)),t.push(new Xr("metadata","customMetadata",!0)),Jr=t,Jr}function ei(t,e){function n(){var n=t["bucket"],r=t["fullPath"],i=new xr(n,r);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function ni(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return ei(r,t),r}function ri(t,e,n){var r=Kr(e);if(null===r)return null;var i=r;return ni(t,i,n)}function ii(t,e,n){var r=Kr(e);if(null===r)return null;if(!Cr(r["downloadTokens"]))return null;var i=r["downloadTokens"];if(0===i.length)return null;var o=encodeURIComponent,s=i.split(","),a=s.map((function(e){var r=t["bucket"],i=t["fullPath"],s="/b/"+o(r)+"/o/"+o(i),a=Pr(s,n),c=Dr({alt:"media",token:e});return a+c}));return a[0]}function oi(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var si="prefixes",ai="items";function ci(t,e,n){var r={prefixes:[],items:[],nextPageToken:n["nextPageToken"]};if(n[si])for(var i=0,o=n[si];i<o.length;i++){var s=o[i],a=s.replace(/\/$/,""),c=t._makeStorageReference(new xr(e,a));r.prefixes.push(c)}if(n[ai])for(var u=0,l=n[ai];u<l.length;u++){var h=l[u];c=t._makeStorageReference(new xr(e,h["name"]));r.items.push(c)}return r}function ui(t,e,n){var r=Kr(n);if(null===r)return null;var i=r;return ci(t,e,i)}var li=function(){function t(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(t){if(!t)throw Un()}function fi(t,e){function n(n,r){var i=ri(t,r,e);return hi(null!==i),i}return n}function di(t,e){function n(n,r){var i=ui(t,e,r);return hi(null!==i),i}return n}function pi(t,e){function n(n,r){var i=ri(t,r,e);return hi(null!==i),ii(i,r,t.host)}return n}function gi(t){function e(e,n){var r;return r=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?zn():qn():402===e.getStatus()?Bn(t.bucket):403===e.getStatus()?Wn(t.path):n,r.serverResponse=n.serverResponse,r}return e}function mi(t){var e=gi(t);function n(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=Vn(t.path)),i.serverResponse=r.serverResponse,i}return n}function vi(t,e,n){var r=e.fullServerUrl(),i=Pr(r,t.host),o="GET",s=t.maxOperationRetryTime,a=new li(i,o,fi(t,n),s);return a.errorHandler=mi(e),a}function yi(t,e,n,r,i){var o={};e.isRoot?o["prefix"]="":o["prefix"]=e.path+"/",n&&n.length>0&&(o["delimiter"]=n),r&&(o["pageToken"]=r),i&&(o["maxResults"]=i);var s=e.bucketOnlyServerUrl(),a=Pr(s,t.host),c="GET",u=t.maxOperationRetryTime,l=new li(a,c,di(t,e.bucket),u);return l.urlParams=o,l.errorHandler=gi(e),l}function bi(t,e,n){var r=e.fullServerUrl(),i=Pr(r,t.host),o="GET",s=t.maxOperationRetryTime,a=new li(i,o,pi(t,n),s);return a.errorHandler=mi(e),a}function _i(t,e,n,r){var i=e.fullServerUrl(),o=Pr(i,t.host),s="PATCH",a=oi(n,r),c={"Content-Type":"application/json; charset=utf-8"},u=t.maxOperationRetryTime,l=new li(o,s,fi(t,r),u);return l.headers=c,l.body=a,l.errorHandler=mi(e),l}function wi(t,e){var n=e.fullServerUrl(),r=Pr(n,t.host),i="DELETE",o=t.maxOperationRetryTime;function s(t,e){}var a=new li(r,i,s,o);return a.successCodes=[200,204],a.errorHandler=mi(e),a}function xi(t,e){return t&&t["contentType"]||e&&e.type()||"application/octet-stream"}function Ei(t,e,n){var r=Object.assign({},n);return r["fullPath"]=t.path,r["size"]=e.size(),r["contentType"]||(r["contentType"]=xi(null,e)),r}function Oi(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}var c=a();s["Content-Type"]="multipart/related; boundary="+c;var u=Ei(e,r,i),l=oi(u,n),h="--"+c+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+l+"\r\n--"+c+"\r\nContent-Type: "+u["contentType"]+"\r\n\r\n",f="\r\n--"+c+"--",d=Hr.getBlob(h,r,f);if(null===d)throw Qn();var p={name:u["fullPath"]},g=Pr(o,t.host),m="POST",v=t.maxUploadRetryTime,y=new li(g,m,fi(t,n),v);return y.urlParams=p,y.headers=s,y.body=d.uploadData(),y.errorHandler=gi(e),y}var Ti=function(){function t(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}return t}();function Ii(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(i){hi(!1)}var r=e||["active"];return hi(!!n&&-1!==r.indexOf(n)),n}function ki(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=Ei(e,r,i),a={name:s["fullPath"]},c=Pr(o,t.host),u="POST",l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":s["contentType"],"Content-Type":"application/json; charset=utf-8"},h=oi(s,n),f=t.maxUploadRetryTime;function d(t){var e;Ii(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){hi(!1)}return hi(Cr(e)),e}var p=new li(c,u,d,f);return p.urlParams=a,p.headers=l,p.body=h,p.errorHandler=gi(e),p}function Si(t,e,n,r){var i={"X-Goog-Upload-Command":"query"};function o(t){var e=Ii(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){hi(!1)}n||hi(!1);var i=Number(n);return hi(!isNaN(i)),new Ti(i,r.size(),"final"===e)}var s="POST",a=t.maxUploadRetryTime,c=new li(n,s,o,a);return c.headers=i,c.errorHandler=gi(e),c}var Ci=262144;function Ai(t,e,n,r,i,o,s,a){var c=new Ti(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw Xn();var u=c.total-c.current,l=u;i>0&&(l=Math.min(l,i));var h=c.current,f=h+l,d=l===u?"upload, finalize":"upload",p={"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":""+c.current},g=r.slice(h,f);if(null===g)throw Qn();function m(t,n){var i,s=Ii(t,["active","final"]),a=c.current+l,u=r.size();return i="final"===s?fi(e,o)(t,n):null,new Ti(a,u,"final"===s,i)}var v="POST",y=e.maxUploadRetryTime,b=new li(n,v,m,y);return b.headers=p,b.body=g.uploadData(),b.progressCallback=a||null,b.errorHandler=gi(t),b}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ji=function(){function t(t,e,n){var r=kr(t)||null!=e||null!=n;if(r)this.next=t,this.error=e,this.complete=n;else{var i=t;this.next=i.next,this.error=i.error,this.complete=i.complete}}return t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pi=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=ti(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(e._state){case"running":t(r,i);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused");break}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e,n){var r=ki(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n,r){var i=Si(t._ref.storage,t._ref._location,e,t._blob),o=t._ref.storage._makeRequest(i,n,r);t._request=o,o.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=Ci*this._chunkMultiplier,n=new Ti(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var s;try{s=Ai(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(c){return t._error=c,void t._transition("error")}var a=t._ref.storage._makeRequest(s,i,o);t._request=a,a.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){var t=Ci*this._chunkMultiplier;t<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e,n){var r=vi(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition("success")}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e,n){var r=Oi(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,void 0!==this._request&&this._request.cancel();break;case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Kn(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=yr(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new ji(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise();var e=this._observers.slice();e.forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(yr(this._state)){case vr.SUCCESS:Ni(this._resolve.bind(null,this.snapshot))();break;case vr.CANCELED:case vr.ERROR:var e=this._reject;Ni(e.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){var e=yr(this._state);switch(e){case vr.RUNNING:case vr.PAUSED:t.next&&Ni(t.next.bind(t,this.snapshot))();break;case vr.SUCCESS:t.complete&&Ni(t.complete.bind(t))();break;case vr.CANCELED:case vr.ERROR:t.error&&Ni(t.error.bind(t,this._error))();break;default:t.error&&Ni(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),Di=function(){function t(t,e){this._service=t,this._location=e instanceof xr?e:xr.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new xr(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return Yr(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=Gr(this._location.path);if(null===e)return null;var n=new xr(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw er(t)},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Pi(t,new Hr(e),n)}function Mi(t){var e={prefixes:[],items:[]};return Li(t,e).then((function(){return e}))}function Li(t,e,n){return An(this,void 0,void 0,(function(){var r,i,o,s;return jn(this,(function(a){switch(a.label){case 0:return r={pageToken:n},[4,Fi(t,r)];case 1:return i=a.sent(),(o=e.prefixes).push.apply(o,i.prefixes),(s=e.items).push.apply(s,i.items),null==i.nextPageToken?[3,3]:[4,Li(t,e,i.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Fi(t,e){return An(this,void 0,void 0,(function(){var n,r;return jn(this,(function(i){switch(i.label){case 0:return null!=e&&"number"===typeof e.maxResults&&Nr("options.maxResults",1,1e3,e.maxResults),n=e||{},r=yi(t.storage,t._location,"/",n.pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function Ui(t){return An(this,void 0,void 0,(function(){var e;return jn(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=vi(t.storage,t._location,ti()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}function Vi(t,e){return An(this,void 0,void 0,(function(){var n;return jn(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=_i(t.storage,t._location,e,ti()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function Bi(t){return An(this,void 0,void 0,(function(){var e;return jn(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=bi(t.storage,t._location,ti()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then((function(t){if(null===t)throw Jn();return t}))]}}))}))}function qi(t){return An(this,void 0,void 0,(function(){var e;return jn(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=wi(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}function zi(t,e){var n=$r(t._location.path,e),r=new xr(t._location.bucket,n);return new Di(t.storage,r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(t){return/^[A-Za-z]+:\/\//.test(t)}function Hi(t,e){return new Di(t,e)}function Ki(t,e){if(t instanceof Qi){var n=t;if(null==n._bucket)throw Yn();var r=new Di(n,n._bucket);return null!=e?Ki(r,e):r}return void 0!==e?zi(t,e):t}function Gi(t,e){if(e&&Wi(e)){if(t instanceof Qi)return Hi(t,e);throw Zn("To use ref(service, url), the first argument must be a Storage instance.")}return Ki(t,e)}function $i(t,e){var n=null===e||void 0===e?void 0:e[Dn];return null==n?null:xr.makeFromBucketSpec(n,t)}function Yi(t,e,n,r){void 0===r&&(r={}),t.host="http://"+e+":"+n;var i=r.mockUserToken;i&&(t._overrideAuthToken="string"===typeof i?i:Object(o["createMockUserToken"])(i,t.app.options.projectId))}var Qi=function(){function t(t,e,n,r,i,o){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Pn,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Rn,this._maxUploadRetryTime=Mn,this._requests=new Set,this._bucket=null!=i?xr.makeFromBucketSpec(i,this._host):$i(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,null!=this._url?this._bucket=xr.makeFromBucketSpec(this._url,t):this._bucket=$i(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Nr("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Nr("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return An(this,void 0,void 0,(function(){var t,e;return jn(this,(function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(e=n.sent(),null!==e)return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._getAppCheckToken=function(){return An(this,void 0,void 0,(function(){var t,e;return jn(this,(function(n){switch(n.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return e=n.sent(),[2,e.token];case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear()),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new Di(this,t)},t.prototype._makeRequest=function(t,e,n){var r=this;if(this._deleted)return new Er(tr());var i=Br(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},t.prototype.makeRequestWithTokens=function(t){return An(this,void 0,void 0,(function(){var e,n,r;return jn(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=i.sent(),n=e[0],r=e[1],[2,this._makeRequest(t,n,r)]}}))}))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(t,e,n){return t=Object(o["getModularInstance"])(t),Ri(t,e,n)}function Ji(t){return t=Object(o["getModularInstance"])(t),Ui(t)}function Zi(t,e){return t=Object(o["getModularInstance"])(t),Vi(t,e)}function to(t,e){return t=Object(o["getModularInstance"])(t),Fi(t,e)}function eo(t){return t=Object(o["getModularInstance"])(t),Mi(t)}function no(t){return t=Object(o["getModularInstance"])(t),Bi(t)}function ro(t){return t=Object(o["getModularInstance"])(t),qi(t)}function io(t,e){return t=Object(o["getModularInstance"])(t),Gi(t,e)}function oo(t,e){return zi(t,e)}function so(t,e,n,r){void 0===r&&(r={}),Yi(t,e,n,r)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ao=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),co=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new ao(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new ao(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"===typeof e?function(t){return e(new ao(t,i,i._ref))}:{next:e.next?function(t){return e.next(new ao(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),uo=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new lo(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new lo(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),lo=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){var n=oo(this._delegate,e);return new t(n,this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new co(Xi(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=or.RAW),this._throwIfRoot("putString");var r=ar(e,t),i=Cn({},n);return null==i["contentType"]&&null!=r.contentType&&(i["contentType"]=r.contentType),new co(new Pi(this._delegate,new Hr(r.data,!0),i),this)},t.prototype.listAll=function(){var t=this;return eo(this._delegate).then((function(e){return new uo(e,t.storage)}))},t.prototype.list=function(t){var e=this;return to(this._delegate,t||void 0).then((function(t){return new uo(t,e.storage)}))},t.prototype.getMetadata=function(){return Ji(this._delegate)},t.prototype.updateMetadata=function(t){return Zi(this._delegate,t)},t.prototype.getDownloadURL=function(){return no(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),ro(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw er(t)},t}(),ho=function(){function t(t,e){this.app=t,this._delegate=e}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(Wi(t))throw Zn("ref() expected a child path but got a URL, use refFromURL instead.");return new lo(io(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!Wi(t))throw Zn("refFromURL() expected a full URL but got a child path, use ref() instead.");try{xr.makeFromUrl(t,this._delegate.host)}catch(e){throw Zn("refFromUrl() expected a valid full URL but got an invalid one.")}return new lo(io(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),so(this._delegate,t,e,n)},t}(),fo="@firebase/storage",po="0.7.0",go="storage";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(t,e){var n=e.instanceIdentifier,i=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal"),a=new ho(i,new Qi(i,o,s,new wr,n,r["default"].SDK_VERSION));return a}function vo(t){var e={TaskState:vr,TaskEvent:mr,StringFormat:or,Storage:Qi,Reference:lo};t.INTERNAL.registerComponent(new f["Component"](go,mo,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(fo,po)}vo(r["default"]);var yo=function(){return yo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},yo.apply(this,arguments)};Object.create;function bo(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;var _o,wo,xo,Eo="@firebase/performance",Oo="0.4.18",To=Oo,Io="FB-PERF-TRACE-START",ko="FB-PERF-TRACE-STOP",So="FB-PERF-TRACE-MEASURE",Co="_wt_",Ao="_fp",jo="_fcp",No="_fid",Po="@firebase/performance/config",Do="@firebase/performance/configexpire",Ro="performance",Mo="Performance",Lo=(_o={},_o["trace started"]="Trace {$traceName} was started before.",_o["trace stopped"]="Trace {$traceName} is not running.",_o["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",_o["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",_o["no window"]="Window is not available.",_o["no app id"]="App id is not available.",_o["no project id"]="Project id is not available.",_o["no api key"]="Api key is not available.",_o["invalid cc log"]="Attempted to queue invalid cc event",_o["FB not default"]="Performance can only start when Firebase app instance is the default one.",_o["RC response not ok"]="RC response is not ok",_o["invalid attribute name"]="Attribute name {$attributeName} is invalid.",_o["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",_o["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",_o["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",_o),Fo=new o["ErrorFactory"](Ro,Mo,Lo),Uo=new s["Logger"](Mo);Uo.logLevel=s["LogLevel"].INFO;var Vo,Bo=function(){function t(t){if(this.window=t,!t)throw Fo.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Object(o["isIndexedDBAvailable"])()||(Uo.info("IndexedDB is not supported by current browswer"),!1):(Uo.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){if(this.PerformanceObserver){var n=new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++){var i=r[n];e(i)}}));n.observe({entryTypes:[t]})}},t.getInstance=function(){return void 0===wo&&(wo=new t(xo)),wo},t}();function qo(t){xo=t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(t,e){var n=t.length-e.length;if(n<0||n>1)throw Fo.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wo,Ho,Ko=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=zo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=zo("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw Fo.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw Fo.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw Fo.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===Vo&&(Vo=new t),Vo},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(){var t=Ko.getInstance().installationsService.getId();return t.then((function(t){Wo=t})),t}function $o(){return Wo}function Yo(){var t=Ko.getInstance().installationsService.getToken();return t.then((function(t){})),t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){t[t["UNKNOWN"]=0]="UNKNOWN",t[t["VISIBLE"]=1]="VISIBLE",t[t["HIDDEN"]=2]="HIDDEN"})(Ho||(Ho={}));var Qo=["firebase_","google_","ga_"],Xo=new RegExp("^[a-zA-Z]\\w*$"),Jo=40,Zo=100;function ts(){var t=Bo.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function es(){var t=Bo.getInstance().document,e=t.visibilityState;switch(e){case"visible":return Ho.VISIBLE;case"hidden":return Ho.HIDDEN;default:return Ho.UNKNOWN}}function ns(){var t=Bo.getInstance().navigator,e=t.connection,n=e&&e.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function rs(t){if(0===t.length||t.length>Jo)return!1;var e=Qo.some((function(e){return t.startsWith(e)}));return!e&&!!t.match(Xo)}function is(t){return 0!==t.length&&t.length<=Zo}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var os="0.0.1",ss={loggingEnabled:!0},as="FIREBASE_INSTALLATIONS_AUTH";function cs(t){var e=us();return e?(ds(e),Promise.resolve()):fs(t).then(ds).then((function(t){return ls(t)}),(function(){}))}function us(){var t=Bo.getInstance().localStorage;if(t){var e=t.getItem(Do);if(e&&ps(e)){var n=t.getItem(Po);if(n)try{var r=JSON.parse(n);return r}catch(i){return}}}}function ls(t){var e=Bo.getInstance().localStorage;t&&e&&(e.setItem(Po,JSON.stringify(t)),e.setItem(Do,String(Date.now()+60*Ko.getInstance().configTimeToLive*60*1e3)))}var hs="Could not fetch config, will use default configs";function fs(t){return Yo().then((function(e){var n=Ko.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+Ko.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:as+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:Ko.getInstance().getAppId(),app_version:To,sdk_version:os})});return fetch(i).then((function(t){if(t.ok)return t.json();throw Fo.create("RC response not ok")}))})).catch((function(){Uo.info(hs)}))}function ds(t){if(!t)return t;var e=Ko.getInstance(),n=t.entries||{};return void 0!==n.fpr_enabled?e.loggingEnabled="true"===String(n.fpr_enabled):e.loggingEnabled=ss.loggingEnabled,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=gs(e.tracesSamplingRate),e.logNetworkAfterSampling=gs(e.networkRequestsSamplingRate),t}function ps(t){return Number(t)>Date.now()}function gs(t){return Math.random()<=t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ms,vs=1;function ys(){return vs=2,ms=ms||_s(),ms}function bs(){return 3===vs}function _s(){return ws().then((function(){return Go()})).then((function(t){return cs(t)})).then((function(){return xs()}),(function(){return xs()}))}function ws(){var t=Bo.getInstance().document;return new Promise((function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()}))}function xs(){vs=3}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Es,Os=1e4,Ts=5500,Is=3,ks=1e3,Ss=Is,Cs=[],As=!1;function js(){As||(Ns(Ts),As=!0)}function Ns(t){setTimeout((function(){if(0!==Ss)return Cs.length?void Ps():Ns(Os)}),t)}function Ps(){var t=Cs.splice(0,ks),e=t.map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}})),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Ko.getInstance().logSource,log_event:e};Ds(n,t).catch((function(){Cs=bo(bo([],t),Cs),Ss--,Uo.info("Tries left: "+Ss+"."),Ns(Os)}))}function Ds(t,e){return Rs(t).then((function(t){return t.ok||Uo.info("Call to Firebase backend failed."),t.json()})).then((function(t){var n=Number(t.nextRequestWaitMillis),r=Os;isNaN(n)||(r=Math.max(n,r));var i=t.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(Cs=bo(bo([],e),Cs),Uo.info("Retry transport request later.")),Ss=Is,Ns(r)}))}function Rs(t){var e=Ko.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}function Ms(t){if(!t.eventTime||!t.message)throw Fo.create("invalid cc log");Cs=bo(bo([],Cs),[t])}function Ls(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(void 0,e);Ms({message:r,eventTime:Date.now()})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(t,e){Es||(Es=Ls(qs)),Es(t,e)}function Us(t){var e=Ko.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&Bo.getInstance().requiredApisAvailable()&&(t.isAuto&&es()!==Ho.VISIBLE||(bs()?Vs(t):ys().then((function(){return Vs(t)}),(function(){return Vs(t)}))))}function Vs(t){if($o()){var e=Ko.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout((function(){return Fs(t,1)}),0)}}function Bs(t){var e=Ko.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout((function(){return Fs(t,0)}),0)}}function qs(t,e){return 0===e?zs(t):Ws(t)}function zs(t){var e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:Hs(),network_request_metric:e};return JSON.stringify(n)}function Ws(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:Hs(),trace_metric:e};return JSON.stringify(r)}function Hs(){return{google_app_id:Ko.getInstance().getAppId(),app_instance_id:$o(),web_app_info:{sdk_version:To,page_url:Bo.getInstance().getUrl(),service_worker_status:ts(),visibility_state:es(),effective_connection_type:ns()},application_process_state:0}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ks=100,Gs="_",$s=[Ao,jo,No];function Ys(t,e){return!(0===t.length||t.length>Ks)&&(e&&e.startsWith(Co)&&$s.indexOf(t)>-1||!t.startsWith(Gs))}function Qs(t){var e=Math.floor(t);return e<t&&Uo.info("Metric value should be an Integer, setting the value as : "+e+"."),e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xs=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=Bo.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=Io+"-"+this.randomId+"-"+this.name,this.traceStopMark=ko+"-"+this.randomId+"-"+this.name,this.traceMeasure=n||So+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw Fo.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw Fo.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Us(this)},t.prototype.record=function(t,e,n){if(t<=0)throw Fo.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw Fo.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=yo({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}Us(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]?this.putMetric(t,e):this.putMetric(t,this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(!Ys(t,this.name))throw Fo.create("invalid custom metric name",{customMetricName:t});this.counters[t]=Qs(e)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n=rs(t),r=is(e);if(n&&r)this.customAttributes[t]=e;else{if(!n)throw Fo.create("invalid attribute name",{attributeName:t});if(!r)throw Fo.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return yo({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=Bo.getInstance().getUrl();if(i){var o=new t(Co+i,!0),s=Math.floor(1e3*Bo.getInstance().getTimeOrigin());o.setStartTime(s),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd)));var a="first-paint",c="first-contentful-paint";if(n){var u=n.find((function(t){return t.name===a}));u&&u.startTime&&o.putMetric(Ao,Math.floor(1e3*u.startTime));var l=n.find((function(t){return t.name===c}));l&&l.startTime&&o.putMetric(jo,Math.floor(1e3*l.startTime)),r&&o.putMetric(No,Math.floor(1e3*r))}Us(o)}},t.createUserTimingTrace=function(e){var n=new t(e,!1,e);Us(n)},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(t){var e=t;if(e&&void 0!==e.responseStart){var n=Bo.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime)),s=e.name&&e.name.split("?")[0],a={url:s,responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o};Bs(a)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zs=5e3;function ta(){$o()&&(setTimeout((function(){return na()}),0),setTimeout((function(){return ea()}),0),setTimeout((function(){return ra()}),0))}function ea(){for(var t=Bo.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){var i=r[n];Js(i)}t.setupObserver("resource",Js)}function na(){var t=Bo.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout((function(){Xs.createOobTrace(e,n),r=void 0}),Zs);t.onFirstInputDelay((function(t){r&&(clearTimeout(r),Xs.createOobTrace(e,n,t))}))}else Xs.createOobTrace(e,n)}function ra(){for(var t=Bo.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){var i=r[n];ia(i)}t.setupObserver("measure",ia)}function ia(t){var e=t.name;e.substring(0,So.length)!==So&&Xs.createUserTimingTrace(e)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oa=function(){function t(t){this.app=t,Bo.getInstance().requiredApisAvailable()&&Object(o["validateIndexedDBOpenable"])().then((function(t){t&&(js(),ys().then(ta,ta))})).catch((function(t){Uo.info("Environment doesn't support IndexedDB: "+t)}))}return t.prototype.trace=function(t){return new Xs(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return Ko.getInstance().instrumentationEnabled},set:function(t){Ko.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return Ko.getInstance().dataCollectionEnabled},set:function(t){Ko.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}(),sa="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(t){var e=function(t,e){if(t.name!==sa)throw Fo.create("FB not default");if("undefined"===typeof window)throw Fo.create("no window");return qo(window),Ko.getInstance().firebaseAppInstance=t,Ko.getInstance().installationsService=e,new oa(t)};t.INTERNAL.registerComponent(new f["Component"]("performance",(function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();return e(n,r)}),"PUBLIC")),t.registerVersion(Eo,Oo)}aa(r["default"]);var ca=function(){return ca=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},ca.apply(this,arguments)};function ua(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r["throw"](t))}catch(e){o(e)}}function c(t){t.done?n(t.value):i(t.value).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function la(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return c([t,e])}}function c(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}Object.create;Object.create;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ha,fa,da="firebase_id",pa="origin",ga=6e4,ma="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",va="https://www.googletagmanager.com/gtag/js";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ya(t,e,n,r,i){return ua(this,void 0,void 0,(function(){var o,s;return la(this,(function(a){switch(a.label){case 0:return i&&i.global?(t(ha.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=a.sent(),s=ca(ca({},r),{send_to:o}),t(ha.EVENT,n,s),a.label=3;case 3:return[2]}}))}))}function ba(t,e,n,r){return ua(this,void 0,void 0,(function(){var i;return la(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(ha.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(ha.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))}function _a(t,e,n,r){return ua(this,void 0,void 0,(function(){var i;return la(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(ha.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(ha.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))}function wa(t,e,n,r){return ua(this,void 0,void 0,(function(){var i,o,s,a,c;return la(this,(function(u){switch(u.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,s=Object.keys(n);o<s.length;o++)a=s[o],i["user_properties."+a]=n[a];return t(ha.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:c=u.sent(),t(ha.CONFIG,c,{update:!0,user_properties:n}),u.label=3;case 3:return[2]}}))}))}function xa(t,e){return ua(this,void 0,void 0,(function(){var n;return la(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){t["EVENT"]="event",t["SET"]="set",t["CONFIG"]="config"})(ha||(ha={})),function(t){t["ADD_SHIPPING_INFO"]="add_shipping_info",t["ADD_PAYMENT_INFO"]="add_payment_info",t["ADD_TO_CART"]="add_to_cart",t["ADD_TO_WISHLIST"]="add_to_wishlist",t["BEGIN_CHECKOUT"]="begin_checkout",t["CHECKOUT_PROGRESS"]="checkout_progress",t["EXCEPTION"]="exception",t["GENERATE_LEAD"]="generate_lead",t["LOGIN"]="login",t["PAGE_VIEW"]="page_view",t["PURCHASE"]="purchase",t["REFUND"]="refund",t["REMOVE_FROM_CART"]="remove_from_cart",t["SCREEN_VIEW"]="screen_view",t["SEARCH"]="search",t["SELECT_CONTENT"]="select_content",t["SELECT_ITEM"]="select_item",t["SELECT_PROMOTION"]="select_promotion",t["SET_CHECKOUT_OPTION"]="set_checkout_option",t["SHARE"]="share",t["SIGN_UP"]="sign_up",t["TIMING_COMPLETE"]="timing_complete",t["VIEW_CART"]="view_cart",t["VIEW_ITEM"]="view_item",t["VIEW_ITEM_LIST"]="view_item_list",t["VIEW_PROMOTION"]="view_promotion",t["VIEW_SEARCH_RESULTS"]="view_search_results"}(fa||(fa={}));var Ea,Oa=new s["Logger"]("@firebase/analytics");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(t,e){var n=document.createElement("script");n.src=va+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}function Ia(t){var e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function ka(t,e,n,r,i,o){return ua(this,void 0,void 0,(function(){var s,a,c,u;return la(this,(function(l){switch(l.label){case 0:s=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),s?[4,e[s]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return a=l.sent(),c=a.find((function(t){return t.measurementId===i})),c?[4,e[c.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return u=l.sent(),Oa.error(u),[3,8];case 8:return t(ha.CONFIG,i,o),[2]}}))}))}function Sa(t,e,n,r,i){return ua(this,void 0,void 0,(function(){var o,s,a,c,u,l,h,f,d;return la(this,(function(p){switch(p.label){case 0:return p.trys.push([0,4,,5]),o=[],i&&i["send_to"]?(s=i["send_to"],Array.isArray(s)||(s=[s]),[4,Promise.all(n)]):[3,2];case 1:for(a=p.sent(),c=function(t){var n=a.find((function(e){return e.measurementId===t})),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},u=0,l=s;u<l.length;u++)if(h=l[u],f=c(h),"break"===f)break;p.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return p.sent(),t(ha.EVENT,r,i||{}),[3,5];case 4:return d=p.sent(),Oa.error(d),[3,5];case 5:return[2]}}))}))}function Ca(t,e,n,r){function i(i,o,s){return ua(this,void 0,void 0,(function(){var a;return la(this,(function(c){switch(c.label){case 0:return c.trys.push([0,6,,7]),i!==ha.EVENT?[3,2]:[4,Sa(t,e,n,o,s)];case 1:return c.sent(),[3,5];case 2:return i!==ha.CONFIG?[3,4]:[4,ka(t,e,n,r,o,s)];case 3:return c.sent(),[3,5];case 4:t(ha.SET,o),c.label=5;case 5:return[3,7];case 6:return a=c.sent(),Oa.error(a),[3,7];case 7:return[2]}}))}))}return i}function Aa(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=Ca(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function ja(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(va))return r}return null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Na=(Ea={},Ea["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Ea["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Ea["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Ea["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Ea["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Ea["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Ea["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Ea["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Ea["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Ea),Pa=new o["ErrorFactory"]("analytics","Analytics",Na),Da=30,Ra=1e3,Ma=function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=Ra),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}(),La=new Ma;function Fa(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Ua(t){var e;return ua(this,void 0,void 0,(function(){var n,r,i,o,s,a,c;return la(this,(function(u){switch(u.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:Fa(r)},o=ma.replace("{app-id}",n),[4,fetch(o,i)];case 1:if(s=u.sent(),200===s.status||304===s.status)return[3,6];a="",u.label=2;case 2:return u.trys.push([2,4,,5]),[4,s.json()];case 3:return c=u.sent(),(null===(e=c.error)||void 0===e?void 0:e.message)&&(a=c.error.message),[3,5];case 4:return u.sent(),[3,5];case 5:throw Pa.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a});case 6:return[2,s.json()]}}))}))}function Va(t,e,n){return void 0===e&&(e=La),ua(this,void 0,void 0,(function(){var r,i,o,s,a,c,u=this;return la(this,(function(l){if(r=t.options,i=r.appId,o=r.apiKey,s=r.measurementId,!i)throw Pa.create("no-app-id");if(!o){if(s)return[2,{measurementId:s,appId:i}];throw Pa.create("no-api-key")}return a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Wa,setTimeout((function(){return ua(u,void 0,void 0,(function(){return la(this,(function(t){return c.abort(),[2]}))}))}),void 0!==n?n:ga),[2,Ba({appId:i,apiKey:o,measurementId:s},a,c,e)]}))}))}function Ba(t,e,n,r){var i=e.throttleEndTimeMillis,s=e.backoffCount;return void 0===r&&(r=La),ua(this,void 0,void 0,(function(){var e,a,c,u,l,h,f;return la(this,(function(d){switch(d.label){case 0:e=t.appId,a=t.measurementId,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,qa(n,i)];case 2:return d.sent(),[3,4];case 3:if(c=d.sent(),a)return Oa.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:e,measurementId:a}];throw c;case 4:return d.trys.push([4,6,,7]),[4,Ua(t)];case 5:return u=d.sent(),r.deleteThrottleMetadata(e),[2,u];case 6:if(l=d.sent(),!za(l)){if(r.deleteThrottleMetadata(e),a)return Oa.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+l.message+"]"),[2,{appId:e,measurementId:a}];throw l}return h=503===Number(l.customData.httpStatus)?Object(o["calculateBackoffMillis"])(s,r.intervalMillis,Da):Object(o["calculateBackoffMillis"])(s,r.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:s+1},r.setThrottleMetadata(e,f),Oa.debug("Calling attemptFetch again in "+h+" millis"),[2,Ba(t,f,n,r)];case 7:return[2]}}))}))}function qa(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(Pa.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}function za(t){if(!(t instanceof o["FirebaseError"])||!t.customData)return!1;var e=Number(t.customData["httpStatus"]);return 429===e||500===e||503===e||504===e}var Wa=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(){return ua(this,void 0,void 0,(function(){var t;return la(this,(function(e){switch(e.label){case 0:return Object(o["isIndexedDBAvailable"])()?[3,1]:(Oa.warn(Pa.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Object(o["validateIndexedDBOpenable"])()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),Oa.warn(Pa.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}function Ka(t,e,n,r,i,o){return ua(this,void 0,void 0,(function(){var s,a,c,u,l,h,f;return la(this,(function(d){switch(d.label){case 0:return s=Va(t),s.then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Oa.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return Oa.error(t)})),e.push(s),a=Ha().then((function(t){return t?r.getId():void 0})),[4,Promise.all([s,a])];case 1:return c=d.sent(),u=c[0],l=c[1],ja()||Ta(o,u.measurementId),i("js",new Date),f={},f[pa]="firebase",f.update=!0,h=f,null!=l&&(h[da]=l),i(ha.CONFIG,u.measurementId,h),[2,u.measurementId]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ga,$a,Ya={},Qa=[],Xa={},Ja="dataLayer",Za="gtag",tc=!1;function ec(t){if(tc)throw Pa.create("already-initialized");t.dataLayerName&&(Ja=t.dataLayerName),t.gtagName&&(Za=t.gtagName)}function nc(){var t=[];if(Object(o["isBrowserExtension"])()&&t.push("This is a browser extension environment."),Object(o["areCookiesEnabled"])()||t.push("Cookies are not available."),t.length>0){var e=t.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),n=Pa.create("invalid-analytics-context",{errorInfo:e});Oa.warn(n.message)}}function rc(t,e){nc();var n=t.options.appId;if(!n)throw Pa.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Pa.create("no-api-key");Oa.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Ya[n])throw Pa.create("already-exists",{id:n});if(!tc){Ia(Ja);var r=Aa(Ya,Qa,Xa,Ja,Za),i=r.wrappedGtag,o=r.gtagCore;$a=i,Ga=o,tc=!0}Ya[n]=Ka(t,Qa,Xa,e,Ga,Ja);var s={app:t,logEvent:function(t,e,r){ya($a,Ya[n],t,e,r).catch((function(t){return Oa.error(t)}))},setCurrentScreen:function(t,e){ba($a,Ya[n],t,e).catch((function(t){return Oa.error(t)}))},setUserId:function(t,e){_a($a,Ya[n],t,e).catch((function(t){return Oa.error(t)}))},setUserProperties:function(t,e){wa($a,Ya[n],t,e).catch((function(t){return Oa.error(t)}))},setAnalyticsCollectionEnabled:function(t){xa(Ya[n],t).catch((function(t){return Oa.error(t)}))},INTERNAL:{delete:function(){return delete Ya[n],Promise.resolve()}}};return s}var ic="@firebase/analytics",oc="0.6.18",sc="analytics";function ac(t){function e(t){try{var e=t.getProvider(sc).getImmediate();return{logEvent:e.logEvent}}catch(n){throw Pa.create("interop-component-reg-failed",{reason:n})}}t.INTERNAL.registerComponent(new f["Component"](sc,(function(t){var e=t.getProvider("app").getImmediate(),n=t.getProvider("installations").getImmediate();return rc(e,n)}),"PUBLIC").setServiceProps({settings:ec,EventName:fa,isSupported:cc})),t.INTERNAL.registerComponent(new f["Component"]("analytics-internal",e,"PRIVATE")),t.registerVersion(ic,oc)}function cc(){return ua(this,void 0,void 0,(function(){var t;return la(this,(function(e){switch(e.label){case 0:if(Object(o["isBrowserExtension"])())return[2,!1];if(!Object(o["areCookiesEnabled"])())return[2,!1];if(!Object(o["isIndexedDBAvailable"])())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Object(o["validateIndexedDBOpenable"])()];case 2:return t=e.sent(),[2,t];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */ac(r["default"]);var uc=function(){return uc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},uc.apply(this,arguments)};function lc(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r["throw"](t))}catch(e){o(e)}}function c(t){t.done?n(t.value):i(t.value).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function hc(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return c([t,e])}}function c(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}Object.create;Object.create;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var fc,dc=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return lc(this,void 0,void 0,(function(){var e,n,r,i,o;return hc(this,(function(s){switch(s.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=s.sent(),n=e[0],r=e[1],r&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return i=s.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return s.sent(),[2,i]}}))}))},t}(),pc=(fc={},fc["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",fc["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",fc["registration-api-key"]="Undefined API key. Check Firebase app initialization.",fc["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",fc["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",fc["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",fc["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",fc["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",fc["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",fc["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',fc["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',fc["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",fc["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",fc),gc=new o["ErrorFactory"]("remoteconfig","Remote Config",pc);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(t,e){return t instanceof o["FirebaseError"]&&-1!==t.code.indexOf(e)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(t){return void 0===t&&(t=navigator),t.languages&&t.languages[0]||t.language}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yc=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return lc(this,void 0,void 0,(function(){var e,n,r,i,o,s,a,c,u,l,h,f,d,p,g,m,v,y,b;return hc(this,(function(_){switch(_.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=_.sent(),n=e[0],r=e[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},a={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:vc()},c={method:"POST",headers:s,body:JSON.stringify(a)},u=fetch(o,c),l=new Promise((function(e,n){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)}))})),_.label=2;case 2:return _.trys.push([2,5,,6]),[4,Promise.race([u,l])];case 3:return _.sent(),[4,u];case 4:return h=_.sent(),[3,6];case 5:throw f=_.sent(),d="fetch-client-network","AbortError"===f.name&&(d="fetch-timeout"),gc.create(d,{originalErrorMessage:f.message});case 6:if(p=h.status,g=h.headers.get("ETag")||void 0,200!==h.status)return[3,11];y=void 0,_.label=7;case 7:return _.trys.push([7,9,,10]),[4,h.json()];case 8:return y=_.sent(),[3,10];case 9:throw b=_.sent(),gc.create("fetch-client-parse",{originalErrorMessage:b.message});case 10:m=y["entries"],v=y["state"],_.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===v?p=500:"NO_CHANGE"===v?p=304:"NO_TEMPLATE"!==v&&"EMPTY_CONFIG"!==v||(m={}),304!==p&&200!==p)throw gc.create("fetch-status",{httpStatus:p});return[2,{status:p,eTag:g,config:m}]}}))}))},t}(),bc=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),_c=!1,wc="",xc=0,Ec=["1","true","t","yes","y","on"],Oc=function(){function t(t,e){void 0===e&&(e=wc),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"===this._source?_c:Ec.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return xc;var t=Number(this._value);return isNaN(t)&&(t=xc),t},t.prototype.getSource=function(){return this._source},t}(),Tc=6e4,Ic=432e5,kc=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:Tc,minimumFetchIntervalMillis:Ic},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=s["LogLevel"].DEBUG;break;case"silent":this._logger.logLevel=s["LogLevel"].SILENT;break;default:this._logger.logLevel=s["LogLevel"].ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return lc(this,void 0,void 0,(function(){var t,e,n;return hc(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),e=t[0],n=t[1],e&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},t.prototype.fetch=function(){return lc(this,void 0,void 0,(function(){var t,e,n,r=this;return hc(this,(function(i){switch(i.label){case 0:t=new bc,setTimeout((function(){return lc(r,void 0,void 0,(function(){return hc(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),n=mc(e,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}}))}))},t.prototype.fetchAndActivate=function(){return lc(this,void 0,void 0,(function(){return hc(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},t.prototype.getAll=function(){var t=this;return Sc(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(e,n){return e[n]=t.getValue(n),e}),{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new Oc("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new Oc("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new Oc("static"))},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(uc(uc({},t),e))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(t,e){var n=t.target.error||void 0;return gc.create(e,{originalErrorMessage:n&&n.message})}var Ac="app_namespace_store",jc="firebase_remote_config",Nc=1;function Pc(){return new Promise((function(t,e){var n=indexedDB.open(jc,Nc);n.onerror=function(t){e(Cc(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(Ac,{keyPath:"compositeKey"})}}}))}var Dc=function(){function t(t,e,n,r){void 0===r&&(r=Pc()),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return lc(this,void 0,void 0,(function(){var e,n=this;return hc(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction([Ac],"readonly"),s=o.objectStore(Ac),a=n.createCompositeKey(t);try{var c=s.get(a);c.onerror=function(t){i(Cc(t,"storage-get"))},c.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(u){i(gc.create("storage-get",{originalErrorMessage:u&&u.message}))}}))]}}))}))},t.prototype.set=function(t,e){return lc(this,void 0,void 0,(function(){var n,r=this;return hc(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var s=n.transaction([Ac],"readwrite"),a=s.objectStore(Ac),c=r.createCompositeKey(t);try{var u=a.put({compositeKey:c,value:e});u.onerror=function(t){o(Cc(t,"storage-set"))},u.onsuccess=function(){i()}}catch(l){o(gc.create("storage-set",{originalErrorMessage:l&&l.message}))}}))]}}))}))},t.prototype.delete=function(t){return lc(this,void 0,void 0,(function(){var e,n=this;return hc(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction([Ac],"readwrite"),s=o.objectStore(Ac),a=n.createCompositeKey(t);try{var c=s.delete(a);c.onerror=function(t){i(Cc(t,"storage-delete"))},c.onsuccess=function(){r()}}catch(u){i(gc.create("storage-delete",{originalErrorMessage:u&&u.message}))}}))]}}))}))},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),Rc=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return lc(this,void 0,void 0,(function(){var t,e,n,r,i,o;return hc(this,(function(s){switch(s.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return r=s.sent(),r&&(this.lastFetchStatus=r),[4,e];case 2:return i=s.sent(),i&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return o=s.sent(),o&&(this.activeConfig=o),[2]}}))}))},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Mc(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(gc.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}function Lc(t){if(!(t instanceof o["FirebaseError"])||!t.customData)return!1;var e=Number(t.customData["httpStatus"]);return 429===e||500===e||503===e||504===e}var Fc=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return lc(this,void 0,void 0,(function(){var e;return hc(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return lc(this,void 0,void 0,(function(){var e,i,s;return hc(this,(function(a){switch(a.label){case 0:return[4,Mc(t.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,e];case 5:if(i=a.sent(),!Lc(i))throw i;return s={throttleEndTimeMillis:Date.now()+Object(o["calculateBackoffMillis"])(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(s)];case 6:return a.sent(),[2,this.attemptFetch(t,s)];case 7:return[2]}}))}))},t}(),Uc="@firebase/remote-config",Vc="0.1.43";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Bc(t){function e(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("installations").getImmediate();if("undefined"===typeof window)throw gc.create("registration-window");var a=i.options,c=a.projectId,u=a.apiKey,l=a.appId;if(!c)throw gc.create("registration-project-id");if(!u)throw gc.create("registration-api-key");if(!l)throw gc.create("registration-app-id");r=r||"firebase";var h=new Dc(l,i.name,r),f=new Rc(h),d=new s["Logger"](Uc);d.logLevel=s["LogLevel"].ERROR;var p=new yc(o,t.SDK_VERSION,r,c,u,l),g=new Fc(p,h),m=new dc(g,h,f,d),v=new kc(i,m,f,h,d);return v.ensureInitialized(),v}t.INTERNAL.registerComponent(new f["Component"]("remoteConfig",e,"PUBLIC").setMultipleInstances(!0)),t.registerVersion(Uc,Vc)}Bc(r["default"]);n("5fcf");var qc="firebase",zc="8.10.0";
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
r["default"].registerVersion(qc,zc,"app"),r["default"].SDK_VERSION=zc;var Wc="firebase",Hc="8.10.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),r["default"].registerVersion(Wc,Hc)},"260b":function(t,e,n){"use strict";var r=n("cc84");n.d(e,"a",(function(){return r["default"]}));var i="firebase",o="8.10.0";
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
r["default"].registerVersion(i,o,"app"),r["default"].SDK_VERSION=o},2626:function(t,e,n){"use strict";var r=n("d066"),i=n("9bf2"),o=n("b622"),s=n("83ab"),a=o("species");t.exports=function(t){var e=r(t),n=i.f;s&&e&&!e[a]&&n(e,a,{configurable:!0,get:function(){return this}})}},2767:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return s}));var r=n("1fc0");function i(t){var e=Object(r["a"])(t).Element;return t instanceof e||t instanceof Element}function o(t){var e=Object(r["a"])(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function s(t){if("undefined"===typeof ShadowRoot)return!1;var e=Object(r["a"])(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}},"28bf":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("5788"),i=n("ef52"),o=n("2767");function s(t){return"html"===Object(r["a"])(t)?t:t.assignedSlot||t.parentNode||(Object(o["c"])(t)?t.host:null)||Object(i["a"])(t)}},2909:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("6b75");function i(t){if(Array.isArray(t))return Object(r["a"])(t)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("a630");function o(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var s=n("06c5");function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return i(t)||o(t)||Object(s["a"])(t)||a()}},"2a62":function(t,e,n){var r=n("825a");t.exports=function(t,e,n){var i,o;r(t);try{if(i=t["return"],void 0===i){if("throw"===e)throw n;return n}i=i.call(t)}catch(s){o=!0,i=s}if("throw"===e)throw n;if(o)throw i;return r(i),n}},"2cf4":function(t,e,n){var r,i,o,s,a=n("da84"),c=n("d039"),u=n("0366"),l=n("1be4"),h=n("cc12"),f=n("1cdc"),d=n("605d"),p=a.setImmediate,g=a.clearImmediate,m=a.process,v=a.MessageChannel,y=a.Dispatch,b=0,_={},w="onreadystatechange";try{r=a.location}catch(I){}var x=function(t){if(_.hasOwnProperty(t)){var e=_[t];delete _[t],e()}},E=function(t){return function(){x(t)}},O=function(t){x(t.data)},T=function(t){a.postMessage(String(t),r.protocol+"//"+r.host)};p&&g||(p=function(t){var e=[],n=arguments.length,r=1;while(n>r)e.push(arguments[r++]);return _[++b]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},i(b),b},g=function(t){delete _[t]},d?i=function(t){m.nextTick(E(t))}:y&&y.now?i=function(t){y.now(E(t))}:v&&!f?(o=new v,s=o.port2,o.port1.onmessage=O,i=u(s.postMessage,s,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&r&&"file:"!==r.protocol&&!c(T)?(i=T,a.addEventListener("message",O,!1)):i=w in h("script")?function(t){l.appendChild(h("script"))[w]=function(){l.removeChild(this),x(t)}}:function(t){setTimeout(E(t),0)}),t.exports={set:p,clear:g}},"2d00":function(t,e,n){var r,i,o=n("da84"),s=n("342f"),a=o.process,c=o.Deno,u=a&&a.versions||c&&c.version,l=u&&u.v8;l?(r=l.split("."),i=r[0]<4?1:r[0]+r[1]):s&&(r=s.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/),r&&(i=r[1]))),t.exports=i&&+i},"342f":function(t,e,n){var r=n("d066");t.exports=r("navigator","userAgent")||""},"35a1":function(t,e,n){var r=n("f5df"),i=n("3f8c"),o=n("b622"),s=o("iterator");t.exports=function(t){if(void 0!=t)return t[s]||t["@@iterator"]||i[r(t)]}},"35f6":function(t,e,n){"use strict";function r(){return{top:0,right:0,bottom:0,left:0}}n.d(e,"a",(function(){return r}))},"37e8":function(t,e,n){var r=n("83ab"),i=n("9bf2"),o=n("825a"),s=n("df75");t.exports=r?Object.defineProperties:function(t,e){o(t);var n,r=s(e),a=r.length,c=0;while(a>c)i.f(t,n=r[c++],e[n]);return t}},"39c3":function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n("6cee"),i=n("ad6e"),o=n("134a"),s=n("7cda"),a=n("0ab4"),c=n("9835"),u=n("ecb2"),l=n("9435"),h=n("0929"),f=n("1d6c"),d=[i["a"],o["a"],s["a"],a["a"],c["a"],u["a"],l["a"],h["a"],f["a"]],p=Object(r["b"])({defaultModifiers:d})},"3bbe":function(t,e,n){var r=n("861d");t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},"3ca3":function(t,e,n){"use strict";var r=n("6547").charAt,i=n("577e"),o=n("69f3"),s=n("7dd0"),a="String Iterator",c=o.set,u=o.getterFor(a);s(String,"String",(function(t){c(this,{type:a,string:i(t),index:0})}),(function(){var t,e=u(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})}))},"3d8d":function(t,e,n){"use strict";function r(t){return t.split("-")[1]}n.d(e,"a",(function(){return r}))},"3f4e":function(t,e,n){"use strict";n.d(e,"setupDevtoolsPlugin",(function(){return o}));var r=n("abc5"),i=n("b774");function o(t,e){const n=Object(r["a"])();if(n)n.emit(i["a"],t,e);else{const n=Object(r["b"])(),i=n.__VUE_DEVTOOLS_PLUGINS__=n.__VUE_DEVTOOLS_PLUGINS__||[];i.push({pluginDescriptor:t,setupFn:e})}}},"3f8c":function(t,e){t.exports={}},"408a":function(t,e){var n=1..valueOf;t.exports=function(t){return n.call(t)}},"428f":function(t,e,n){var r=n("da84");t.exports=r},4362:function(t,e,n){e.nextTick=function(t){var e=Array.prototype.slice.call(arguments);e.shift(),setTimeout((function(){t.apply(null,e)}),0)},e.platform=e.arch=e.execPath=e.title="browser",e.pid=1,e.browser=!0,e.env={},e.argv=[],e.binding=function(t){throw new Error("No such module. (Possibly not yet loaded)")},function(){var t,r="/";e.cwd=function(){return r},e.chdir=function(e){t||(t=n("df7c")),r=t.resolve(e,r)}}(),e.exit=e.kill=e.umask=e.dlopen=e.uptime=e.memoryUsage=e.uvCounters=function(){},e.features={}},"44ad":function(t,e,n){var r=n("d039"),i=n("c6b6"),o="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},"44d2":function(t,e,n){var r=n("b622"),i=n("7c73"),o=n("9bf2"),s=r("unscopables"),a=Array.prototype;void 0==a[s]&&o.f(a,s,{configurable:!0,value:i(null)}),t.exports=function(t){a[s][t]=!0}},"44de":function(t,e,n){var r=n("da84");t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},"44e7":function(t,e,n){var r=n("861d"),i=n("c6b6"),o=n("b622"),s=o("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==i(t))}},"45d1":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("6cee"),i=n("ad6e"),o=n("134a"),s=n("7cda"),a=n("0ab4"),c=[i["a"],o["a"],s["a"],a["a"]],u=Object(r["b"])({defaultModifiers:c})},4840:function(t,e,n){var r=n("825a"),i=n("1c0b"),o=n("b622"),s=o("species");t.exports=function(t,e){var n,o=r(t).constructor;return void 0===o||void 0==(n=r(o)[s])?e:i(n)}},"485a":function(t,e,n){var r=n("861d");t.exports=function(t,e){var n,i;if("string"===e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if("string"!==e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},4930:function(t,e,n){var r=n("2d00"),i=n("d039");t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},"4d64":function(t,e,n){var r=n("fc6a"),i=n("50c4"),o=n("23cb"),s=function(t){return function(e,n,s){var a,c=r(e),u=i(c.length),l=o(s,u);if(t&&n!=n){while(u>l)if(a=c[l++],a!=a)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},"4de4":function(t,e,n){"use strict";var r=n("23e7"),i=n("b727").filter,o=n("1dde"),s=o("filter");r({target:"Array",proto:!0,forced:!s},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(t,e,n){"use strict";var r=n("0366"),i=n("7b0b"),o=n("9bdd"),s=n("e95a"),a=n("50c4"),c=n("8418"),u=n("9a1f"),l=n("35a1");t.exports=function(t){var e,n,h,f,d,p,g=i(t),m="function"==typeof this?this:Array,v=arguments.length,y=v>1?arguments[1]:void 0,b=void 0!==y,_=l(g),w=0;if(b&&(y=r(y,v>2?arguments[2]:void 0,2)),void 0==_||m==Array&&s(_))for(e=a(g.length),n=new m(e);e>w;w++)p=b?y(g[w],w):g[w],c(n,w,p);else for(f=u(g,_),d=f.next,n=new m;!(h=d.call(f)).done;w++)p=b?o(f,y,[h.value,w],!0):h.value,c(n,w,p);return n.length=w,n}},"4e82":function(t,e,n){"use strict";var r=n("23e7"),i=n("1c0b"),o=n("7b0b"),s=n("50c4"),a=n("577e"),c=n("d039"),u=n("addb"),l=n("a640"),h=n("04d1"),f=n("d998"),d=n("2d00"),p=n("512c"),g=[],m=g.sort,v=c((function(){g.sort(void 0)})),y=c((function(){g.sort(null)})),b=l("sort"),_=!c((function(){if(d)return d<70;if(!(h&&h>3)){if(f)return!0;if(p)return p<603;var t,e,n,r,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)g.push({k:e+r,v:n})}for(g.sort((function(t,e){return e.v-t.v})),r=0;r<g.length;r++)e=g[r].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}})),w=v||!y||!b||!_,x=function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:a(e)>a(n)?1:-1}};r({target:"Array",proto:!0,forced:w},{sort:function(t){void 0!==t&&i(t);var e=o(this);if(_)return void 0===t?m.call(e):m.call(e,t);var n,r,a=[],c=s(e.length);for(r=0;r<c;r++)r in e&&a.push(e[r]);a=u(a,x(t)),n=a.length,r=0;while(r<n)e[r]=a[r++];while(r<c)delete e[r++];return e}})},"50c4":function(t,e,n){var r=n("a691"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},"512c":function(t,e,n){var r=n("342f"),i=r.match(/AppleWebKit\/(\d+)\./);t.exports=!!i&&+i[1]},5135:function(t,e,n){var r=n("7b0b"),i={}.hasOwnProperty;t.exports=Object.hasOwn||function(t,e){return i.call(r(t),e)}},5319:function(t,e,n){"use strict";var r=n("d784"),i=n("d039"),o=n("825a"),s=n("a691"),a=n("50c4"),c=n("577e"),u=n("1d80"),l=n("8aa5"),h=n("0cb2"),f=n("14c3"),d=n("b622"),p=d("replace"),g=Math.max,m=Math.min,v=function(t){return void 0===t?t:String(t)},y=function(){return"$0"==="a".replace(/./,"$0")}(),b=function(){return!!/./[p]&&""===/./[p]("a","$0")}(),_=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));r("replace",(function(t,e,n){var r=b?"$":"$0";return[function(t,n){var r=u(this),i=void 0==t?void 0:t[p];return void 0!==i?i.call(t,r,n):e.call(c(r),t,n)},function(t,i){var u=o(this),d=c(t);if("string"===typeof i&&-1===i.indexOf(r)&&-1===i.indexOf("$<")){var p=n(e,u,d,i);if(p.done)return p.value}var y="function"===typeof i;y||(i=c(i));var b=u.global;if(b){var _=u.unicode;u.lastIndex=0}var w=[];while(1){var x=f(u,d);if(null===x)break;if(w.push(x),!b)break;var E=c(x[0]);""===E&&(u.lastIndex=l(d,a(u.lastIndex),_))}for(var O="",T=0,I=0;I<w.length;I++){x=w[I];for(var k=c(x[0]),S=g(m(s(x.index),d.length),0),C=[],A=1;A<x.length;A++)C.push(v(x[A]));var j=x.groups;if(y){var N=[k].concat(C,S,d);void 0!==j&&N.push(j);var P=c(i.apply(void 0,N))}else P=h(k,d,S,C,j,i);S>=T&&(O+=d.slice(T,S)+P,T=S+k.length)}return O+d.slice(T)}]}),!_||!y||b)},5325:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return c})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return h})),n.d(e,"__createBinding",(function(){return f})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return g})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return v})),n.d(e,"__spreadArray",(function(){return y})),n.d(e,"__await",(function(){return b})),n.d(e,"__asyncGenerator",(function(){return _})),n.d(e,"__asyncDelegator",(function(){return w})),n.d(e,"__asyncValues",(function(){return x})),n.d(e,"__makeTemplateObject",(function(){return E})),n.d(e,"__importStar",(function(){return T})),n.d(e,"__importDefault",(function(){return I})),n.d(e,"__classPrivateFieldGet",(function(){return k})),n.d(e,"__classPrivateFieldSet",(function(){return S}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function c(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r["throw"](t))}catch(e){o(e)}}function c(t){t.done?n(t.value):i(t.value).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return c([t,e])}}function c(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}var f=Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]};function d(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||f(e,t,n)}function p(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return s}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function v(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function y(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function b(t){return this instanceof b?(this.v=t,this):new b(t)}function _(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{c(i[t](e))}catch(n){h(o[0][3],n)}}function c(t){t.value instanceof b?Promise.resolve(t.value.v).then(u,l):h(o[0][2],t)}function u(t){a("next",t)}function l(t){a("throw",t)}function h(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:b(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function x(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t="function"===typeof p?p(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){e=t[n](e),i(r,o,e.done,e.value)}))}}function i(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var O=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t["default"]=e};function T(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&f(e,t,n);return O(e,t),e}function I(t){return t&&t.__esModule?t:{default:t}}function k(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}function S(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n}},5530:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=n("ade3");function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},5692:function(t,e,n){var r=n("c430"),i=n("c6cd");(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.17.2",mode:r?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},"56ef":function(t,e,n){var r=n("d066"),i=n("241c"),o=n("7418"),s=n("825a");t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(s(t)),n=o.f;return n?e.concat(n(t)):e}},"577e":function(t,e,n){var r=n("d9b5");t.exports=function(t){if(r(t))throw TypeError("Cannot convert a Symbol value to a string");return String(t)}},5788:function(t,e,n){"use strict";function r(t){return t?(t.nodeName||"").toLowerCase():null}n.d(e,"a",(function(){return r}))},5899:function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},"58a8":function(t,e,n){var r=n("1d80"),i=n("577e"),o=n("5899"),s="["+o+"]",a=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),u=function(t){return function(e){var n=i(r(e));return 1&t&&(n=n.replace(a,"")),2&t&&(n=n.replace(c,"")),n}};t.exports={start:u(1),end:u(2),trim:u(3)}},"5c6c":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"5d7e":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("b50e"),i=n("3d8d"),o=n("ad9d"),s=n("77f9");function a(t){var e,n=t.reference,a=t.element,c=t.placement,u=c?Object(r["a"])(c):null,l=c?Object(i["a"])(c):null,h=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2;switch(u){case s["u"]:e={x:h,y:n.y-a.height};break;case s["i"]:e={x:h,y:n.y+n.height};break;case s["s"]:e={x:n.x+n.width,y:f};break;case s["l"]:e={x:n.x-a.width,y:f};break;default:e={x:n.x,y:n.y}}var d=u?Object(o["a"])(u):null;if(null!=d){var p="y"===d?"height":"width";switch(l){case s["t"]:e[d]=e[d]-(n[p]/2-a[p]/2);break;case s["k"]:e[d]=e[d]+(n[p]/2-a[p]/2);break;default:}}return e}},"5fcf":function(t,e,n){"use strict";var r=n("cc84"),i=n("ffa6"),o=n("5325"),s=n("a8e9"),a=n("abfd");function c(t){return t&&"object"===typeof t&&"default"in t?t:{default:t}}var u,l=c(r),h=(u={},u["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",u["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",u["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",u["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",u["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",u["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",u["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",u["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",u["recaptcha-error"]="ReCAPTCHA error.",u),f=new s.ErrorFactory("appCheck","AppCheck",h),d=new Map,p={activated:!1,tokenObservers:[]},g={enabled:!1};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m(t){return d.get(t)||p}function v(t,e){d.set(t,e)}function y(){return g}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b="https://content-firebaseappcheck.googleapis.com/v1beta",_="exchangeRecaptchaToken",w="exchangeDebugToken",x={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4},E=function(){function t(t,e,n,r,i){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return t.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))},t.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},t.prototype.isRunning=function(){return!!this.pending},t.prototype.process=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new s.Deferred,[4,O(this.getNextRun(t))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new s.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch((function(){})),[3,7];case 6:return e=n.sent(),this.retryPolicy(e)?this.process(!1).catch((function(){})):this.stop(),[3,7];case 7:return[2]}}))}))},t.prototype.getNextRun=function(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e},t}();function O(t){return new Promise((function(e){setTimeout(e,t)}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T(){return self.grecaptcha}function I(t){if(!m(t).activated)throw f.create("use-before-activation",{appName:t.name})}function k(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,n="x"===t?e:3&e|8;return n.toString(16)}))}function S(t){return s.base64.encodeString(JSON.stringify(t),!1)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C(t,e){var n=t.url,r=t.body;return o.__awaiter(this,void 0,void 0,(function(){var t,i,s,a,c,u,l,h,d,p;return o.__generator(this,(function(o){switch(o.label){case 0:t={"Content-Type":"application/json"},i=e.getImmediate({optional:!0}),i&&(t["X-Firebase-Client"]=i.getPlatformInfoString()),s={method:"POST",body:JSON.stringify(r),headers:t},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(n,s)];case 2:return a=o.sent(),[3,4];case 3:throw c=o.sent(),f.create("fetch-network-error",{originalErrorMessage:c.message});case 4:if(200!==a.status)throw f.create("fetch-status-error",{httpStatus:a.status});o.label=5;case 5:return o.trys.push([5,7,,8]),[4,a.json()];case 6:return u=o.sent(),[3,8];case 7:throw l=o.sent(),f.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(h=u.ttl.match(/^([\d.]+)(s)$/),!h||!h[2]||isNaN(Number(h[1])))throw f.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+u.ttl});return d=1e3*Number(h[1]),p=Date.now(),[2,{token:u.attestationToken,expireTimeMillis:p+d,issuedAtTimeMillis:p}]}}))}))}function A(t,e){var n=t.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:b+"/projects/"+r+"/apps/"+i+":"+_+"?key="+o,body:{recaptcha_token:e}}}function j(t,e){var n=t.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:b+"/projects/"+r+"/apps/"+i+":"+w+"?key="+o,body:{debug_token:e}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N="firebase-app-check-database",P=1,D="firebase-app-check-store",R="debug-token",M=null;function L(){return M||(M=new Promise((function(t,e){try{var n=indexedDB.open(N,P);n.onsuccess=function(e){t(e.target.result)},n.onerror=function(t){var n;e(f.create("storage-open",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(D,{keyPath:"compositeKey"})}}}catch(r){e(f.create("storage-open",{originalErrorMessage:r.message}))}})),M)}function F(t){return z(W(t))}function U(t,e){return q(W(t),e)}function V(t){return q(R,t)}function B(){return z(R)}function q(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,L()];case 1:return n=o.sent(),r=n.transaction(D,"readwrite"),i=r.objectStore(D),s=i.put({compositeKey:t,value:e}),[2,new Promise((function(t,e){s.onsuccess=function(e){t()},r.onerror=function(t){var n;e(f.create("storage-set",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function z(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,L()];case 1:return e=o.sent(),n=e.transaction(D,"readonly"),r=n.objectStore(D),i=r.get(t),[2,new Promise((function(t,e){i.onsuccess=function(e){var n=e.target.result;t(n?n.value:void 0)},n.onerror=function(t){var n;e(f.create("storage-get",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function W(t){return t.options.appId+"-"+t.name}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H=new a.Logger("@firebase/app-check");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!s.isIndexedDBAvailable())return[3,5];e=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,F(t)];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),H.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,e];case 5:return[2,void 0]}}))}))}function G(t,e){return s.isIndexedDBAvailable()?U(t,e).catch((function(t){H.warn("Failed to write token to indexeddb. Error: "+t)})):Promise.resolve()}function $(){return o.__awaiter(this,void 0,void 0,(function(){var t,e;return o.__generator(this,(function(n){switch(n.label){case 0:t=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,B()];case 2:return t=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return t?[2,t]:(e=k(),V(e).catch((function(t){return H.warn("Failed to persist debug token to indexeddb. Error: "+t)})),console.log("AppCheck debug token: "+e+". You will need to whitelist it in the Firebase console for it to work"),[2,e])}}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(){var t=y();return t.enabled}function Q(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){if(t=y(),t.enabled&&t.token)return[2,t.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")}))}))}function X(){var t=s.getGlobal();if("string"===typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===t.FIREBASE_APPCHECK_DEBUG_TOKEN){var e=y();e.enabled=!0;var n=new s.Deferred;e.token=n,"string"===typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve($())}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J={error:"UNKNOWN_ERROR"};function Z(t,e,n){return void 0===n&&(n=!1),o.__awaiter(this,void 0,void 0,(function(){var r,i,s,a,c,u,l,h,f,d;return o.__generator(this,(function(p){switch(p.label){case 0:return I(t),r=m(t),i=r.token,s=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:a=p.sent(),a&&it(a)&&(i=a,v(t,o.__assign(o.__assign({},r),{token:i})),rt(t,{token:i.token})),p.label=2;case 2:return!n&&i&&it(i)?[2,{token:i.token}]:Y()?(u=C,l=j,h=[t],[4,Q()]):[3,6];case 3:return[4,u.apply(void 0,[l.apply(void 0,h.concat([p.sent()])),e])];case 4:return c=p.sent(),[4,G(t,c)];case 5:return p.sent(),v(t,o.__assign(o.__assign({},r),{token:c})),[2,{token:c.token}];case 6:return p.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=p.sent(),[3,9];case 8:return f=p.sent(),H.error(f),s=f,[3,9];case 9:return i?[3,10]:(d=ot(s),[3,12]);case 10:return d={token:i.token},v(t,o.__assign(o.__assign({},r),{token:i})),[4,G(t,i)];case 11:p.sent(),p.label=12;case 12:return rt(t,d),[2,d]}}))}))}function tt(t,e,n,r,i){var s=m(t),a={next:r,error:i,type:n},c=o.__assign(o.__assign({},s),{tokenObservers:o.__spreadArray(o.__spreadArray([],s.tokenObservers),[a])});if(!c.tokenRefresher){var u=nt(t,e);c.tokenRefresher=u}if(!c.tokenRefresher.isRunning()&&s.isTokenAutoRefreshEnabled&&c.tokenRefresher.start(),s.token&&it(s.token)){var l=s.token;Promise.resolve().then((function(){return r({token:l.token})})).catch((function(){}))}else null==s.token&&s.cachedTokenPromise.then((function(t){t&&it(t)&&r({token:t.token})})).catch((function(){}));v(t,c)}function et(t,e){var n=m(t),r=n.tokenObservers.filter((function(t){return t.next!==e}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),v(t,o.__assign(o.__assign({},n),{tokenObservers:r}))}function nt(t,e){var n=this;return new E((function(){return o.__awaiter(n,void 0,void 0,(function(){var n,r;return o.__generator(this,(function(i){switch(i.label){case 0:return n=m(t),n.token?[3,2]:[4,Z(t,e)];case 1:return r=i.sent(),[3,4];case 2:return[4,Z(t,e,!0)];case 3:r=i.sent(),i.label=4;case 4:if(r.error)throw r.error;return[2]}}))}))}),(function(){return!0}),(function(){var e=m(t);if(e.token){var n=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5,r=e.token.expireTimeMillis-3e5;return n=Math.min(n,r),Math.max(0,n-Date.now())}return 0}),x.RETRIAL_MIN_WAIT,x.RETRIAL_MAX_WAIT)}function rt(t,e){for(var n=m(t).tokenObservers,r=0,i=n;r<i.length;r++){var o=i[r];try{"EXTERNAL"===o.type&&null!=e.error?o.error(e.error):o.next(e)}catch(s){}}}function it(t){return t.expireTimeMillis-Date.now()>0}function ot(t){return{token:S(J),error:t}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st="https://www.google.com/recaptcha/api.js";function at(t,e){var n=m(t),r=new s.Deferred;v(t,o.__assign(o.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+t.name,a=document.createElement("div");a.id=i,a.style.display="none",document.body.appendChild(a);var c=T();return c?c.ready((function(){ut(t,e,c,i),r.resolve(c)})):lt((function(){var n=T();if(!n)throw new Error("no recaptcha");n.ready((function(){ut(t,e,n,i),r.resolve(n)}))})),r.promise}function ct(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:return I(t),e=m(t).reCAPTCHAState,[4,e.initialized.promise];case 1:return n=r.sent(),[2,new Promise((function(e,r){var i=m(t).reCAPTCHAState;n.ready((function(){e(n.execute(i.widgetId,{action:"fire_app_check"}))}))}))]}}))}))}function ut(t,e,n,r){var i=n.render(r,{sitekey:e,size:"invisible"}),s=m(t);v(t,o.__assign(o.__assign({},s),{reCAPTCHAState:o.__assign(o.__assign({},s.reCAPTCHAState),{widgetId:i})}))}function lt(t){var e=document.createElement("script");e.src=""+st,e.onload=t,document.head.appendChild(e)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht=function(){function t(t){this._siteKey=t}return t.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:if(!this._app||!this._platformLoggerProvider)throw f.create("use-before-activation",{appName:""});e.label=1;case 1:return e.trys.push([1,3,,4]),[4,ct(this._app)];case 2:return t=e.sent(),[3,4];case 3:throw e.sent(),f.create("recaptcha-error");case 4:return[2,C(A(this._app,t),this._platformLoggerProvider)]}}))}))},t.prototype.initialize=function(t,e){this._app=t,this._platformLoggerProvider=e,at(t,this._siteKey).catch((function(){}))},t}(),ft=function(){function t(t){this._customProviderOptions=t}return t.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!this._app)throw f.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return t=r.sent(),e=s.issuedAtTime(t.token),n=null!==e&&e<Date.now()&&e>0?1e3*e:Date.now(),[2,o.__assign(o.__assign({},t),{issuedAtTimeMillis:n})]}}))}))},t.prototype.initialize=function(t){this._app=t},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function dt(t,e,n,r){var i=m(t);if(i.activated)throw f.create("already-activated",{appName:t.name});var s=o.__assign(o.__assign({},i),{activated:!0});s.cachedTokenPromise=K(t).then((function(e){return e&&it(e)&&v(t,o.__assign(o.__assign({},m(t)),{token:e})),e})),s.provider="string"===typeof e?new ht(e):e instanceof ht||e instanceof ft?e:new ft({getToken:e.getToken}),s.isTokenAutoRefreshEnabled=void 0===r?t.automaticDataCollectionEnabled:r,v(t,s),s.provider.initialize(t,n)}function pt(t,e){var n=m(t);n.tokenRefresher&&(!0===e?n.tokenRefresher.start():n.tokenRefresher.stop()),v(t,o.__assign(o.__assign({},n),{isTokenAutoRefreshEnabled:e}))}function gt(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,Z(t,e,n)];case 1:if(r=i.sent(),r.error)throw r.error;return[2,{token:r.token}]}}))}))}function mt(t,e,n,r,i){var o=function(){},s=function(){};return o=null!=n.next?n.next.bind(n):n,null!=n.error?s=n.error.bind(n):r&&(s=r),tt(t,e,"EXTERNAL",o,s),function(){return et(t,o)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t,e){return{app:t,activate:function(n,r){return dt(t,n,e,r)},setTokenAutoRefreshEnabled:function(e){return pt(t,e)},getToken:function(n){return gt(t,e,n)},onTokenChanged:function(n,r,i){return mt(t,e,n,r)},INTERNAL:{delete:function(){for(var e=m(t).tokenObservers,n=0,r=e;n<r.length;n++){var i=r[n];et(t,i.next)}return Promise.resolve()}}}}function yt(t,e){return{getToken:function(n){return Z(t,e,n)},addTokenListener:function(n){return tt(t,e,"INTERNAL",n)},removeTokenListener:function(e){return et(t,e)}}}var bt="@firebase/app-check",_t="0.3.2",wt="appCheck",xt="app-check-internal";function Et(t){t.INTERNAL.registerComponent(new i.Component(wt,(function(t){var e=t.getProvider("app").getImmediate(),n=t.getProvider("platform-logger");return vt(e,n)}),"PUBLIC").setServiceProps({ReCaptchaV3Provider:ht,CustomProvider:ft}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(t,e,n){var r=t.getProvider(xt);r.initialize()}))),t.INTERNAL.registerComponent(new i.Component(xt,(function(t){var e=t.getProvider("app").getImmediate(),n=t.getProvider("platform-logger");return yt(e,n)}),"PUBLIC").setInstantiationMode("EXPLICIT")),t.registerVersion(bt,_t)}Et(l["default"]),X()},"605d":function(t,e,n){var r=n("c6b6"),i=n("da84");t.exports="process"==r(i.process)},6069:function(t,e){t.exports="object"==typeof window},"60da":function(t,e,n){"use strict";var r=n("83ab"),i=n("d039"),o=n("df75"),s=n("7418"),a=n("d1e7"),c=n("7b0b"),u=n("44ad"),l=Object.assign,h=Object.defineProperty;t.exports=!l||i((function(){if(r&&1!==l({b:1},l(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||o(l({},e)).join("")!=i}))?function(t,e){var n=c(t),i=arguments.length,l=1,h=s.f,f=a.f;while(i>l){var d,p=u(arguments[l++]),g=h?o(p).concat(h(p)):o(p),m=g.length,v=0;while(m>v)d=g[v++],r&&!f.call(p,d)||(n[d]=p[d])}return n}:l},6125:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("0f88"),i=n("ef52"),o=n("a321");function s(t){return Object(r["a"])(Object(i["a"])(t)).left+Object(o["a"])(t).scrollLeft}},6547:function(t,e,n){var r=n("a691"),i=n("577e"),o=n("1d80"),s=function(t){return function(e,n){var s,a,c=i(o(e)),u=r(n),l=c.length;return u<0||u>=l?t?"":void 0:(s=c.charCodeAt(u),s<55296||s>56319||u+1===l||(a=c.charCodeAt(u+1))<56320||a>57343?t?c.charAt(u):s:t?c.slice(u,u+2):a-56320+(s-55296<<10)+65536)}};t.exports={codeAt:s(!1),charAt:s(!0)}},"65f0":function(t,e,n){var r=n("0b42");t.exports=function(t,e){return new(r(t))(0===e?0:e)}},"69f3":function(t,e,n){var r,i,o,s=n("7f9a"),a=n("da84"),c=n("861d"),u=n("9112"),l=n("5135"),h=n("c6cd"),f=n("f772"),d=n("d012"),p="Object already initialized",g=a.WeakMap,m=function(t){return o(t)?i(t):r(t,{})},v=function(t){return function(e){var n;if(!c(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}};if(s||h.state){var y=h.state||(h.state=new g),b=y.get,_=y.has,w=y.set;r=function(t,e){if(_.call(y,t))throw new TypeError(p);return e.facade=t,w.call(y,t,e),e},i=function(t){return b.call(y,t)||{}},o=function(t){return _.call(y,t)}}else{var x=f("state");d[x]=!0,r=function(t,e){if(l(t,x))throw new TypeError(p);return e.facade=t,u(t,x,e),e},i=function(t){return l(t,x)?t[x]:{}},o=function(t){return l(t,x)}}t.exports={set:r,get:i,has:o,enforce:m,getterFor:v}},"6b75":function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",(function(){return r}))},"6c02":function(t,e,n){"use strict";n.d(e,"a",(function(){return Zt})),n.d(e,"b",(function(){return W}));var r=n("7a23");n("3f4e");
/*!
  * vue-router v4.0.11
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */
const i="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag,o=t=>i?Symbol(t):"_vr_"+t,s=o("rvlm"),a=o("rvd"),c=o("r"),u=o("rl"),l=o("rvl"),h="undefined"!==typeof window;function f(t){return t.__esModule||i&&"Module"===t[Symbol.toStringTag]}const d=Object.assign;function p(t,e){const n={};for(const r in e){const i=e[r];n[r]=Array.isArray(i)?i.map(t):t(i)}return n}const g=()=>{};const m=/\/$/,v=t=>t.replace(m,"");function y(t,e,n="/"){let r,i={},o="",s="";const a=e.indexOf("?"),c=e.indexOf("#",a>-1?a:0);return a>-1&&(r=e.slice(0,a),o=e.slice(a+1,c>-1?c:e.length),i=t(o)),c>-1&&(r=r||e.slice(0,c),s=e.slice(c,e.length)),r=I(null!=r?r:e,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:s}}function b(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function _(t,e){return e&&t.toLowerCase().startsWith(e.toLowerCase())?t.slice(e.length)||"/":t}function w(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&x(e.matched[r],n.matched[i])&&E(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function x(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function E(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!O(t[n],e[n]))return!1;return!0}function O(t,e){return Array.isArray(t)?T(t,e):Array.isArray(e)?T(e,t):t===e}function T(t,e){return Array.isArray(e)?t.length===e.length&&t.every((t,n)=>t===e[n]):1===t.length&&t[0]===e}function I(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/");let i,o,s=n.length-1;for(i=0;i<r.length;i++)if(o=r[i],1!==s&&"."!==o){if(".."!==o)break;s--}return n.slice(0,s).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}var k,S;(function(t){t["pop"]="pop",t["push"]="push"})(k||(k={})),function(t){t["back"]="back",t["forward"]="forward",t["unknown"]=""}(S||(S={}));function C(t){if(!t)if(h){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return"/"!==t[0]&&"#"!==t[0]&&(t="/"+t),v(t)}const A=/^[^#]+#/;function j(t,e){return t.replace(A,"#")+e}function N(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const P=()=>({left:window.pageXOffset,top:window.pageYOffset});function D(t){let e;if("el"in t){const n=t.el,r="string"===typeof n&&n.startsWith("#");0;const i="string"===typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=N(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(null!=e.left?e.left:window.pageXOffset,null!=e.top?e.top:window.pageYOffset)}function R(t,e){const n=history.state?history.state.position-e:-1;return n+t}const M=new Map;function L(t,e){M.set(t,e)}function F(t){const e=M.get(t);return M.delete(t),e}let U=()=>location.protocol+"//"+location.host;function V(t,e){const{pathname:n,search:r,hash:i}=e,o=t.indexOf("#");if(o>-1){let e=i.includes(t.slice(o))?t.slice(o).length:1,n=i.slice(e);return"/"!==n[0]&&(n="/"+n),_(n,"")}const s=_(n,t);return s+r+i}function B(t,e,n,r){let i=[],o=[],s=null;const a=({state:o})=>{const a=V(t,location),c=n.value,u=e.value;let l=0;if(o){if(n.value=a,e.value=o,s&&s===c)return void(s=null);l=u?o.position-u.position:0}else r(a);i.forEach(t=>{t(n.value,c,{delta:l,type:k.pop,direction:l?l>0?S.forward:S.back:S.unknown})})};function c(){s=n.value}function u(t){i.push(t);const e=()=>{const e=i.indexOf(t);e>-1&&i.splice(e,1)};return o.push(e),e}function l(){const{history:t}=window;t.state&&t.replaceState(d({},t.state,{scroll:P()}),"")}function h(){for(const t of o)t();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",l)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",l),{pauseListeners:c,listen:u,destroy:h}}function q(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?P():null}}function z(t){const{history:e,location:n}=window,r={value:V(t,n)},i={value:e.state};function o(r,o,s){const a=t.indexOf("#"),c=a>-1?(n.host&&document.querySelector("base")?t:t.slice(a))+r:U()+t+r;try{e[s?"replaceState":"pushState"](o,"",c),i.value=o}catch(u){console.error(u),n[s?"replace":"assign"](c)}}function s(t,n){const s=d({},e.state,q(i.value.back,t,i.value.forward,!0),n,{position:i.value.position});o(t,s,!0),r.value=t}function a(t,n){const s=d({},i.value,e.state,{forward:t,scroll:P()});o(s.current,s,!0);const a=d({},q(r.value,t,null),{position:s.position+1},n);o(t,a,!1),r.value=t}return i.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0),{location:r,state:i,push:a,replace:s}}function W(t){t=C(t);const e=z(t),n=B(t,e.state,e.location,e.replace);function r(t,e=!0){e||n.pauseListeners(),history.go(t)}const i=d({location:"",base:t,go:r,createHref:j.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function H(t){return"string"===typeof t||t&&"object"===typeof t}function K(t){return"string"===typeof t||"symbol"===typeof t}const G={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},$=o("nf");var Y;(function(t){t[t["aborted"]=4]="aborted",t[t["cancelled"]=8]="cancelled",t[t["duplicated"]=16]="duplicated"})(Y||(Y={}));function Q(t,e){return d(new Error,{type:t,[$]:!0},e)}function X(t,e){return t instanceof Error&&$ in t&&(null==e||!!(t.type&e))}const J="[^/]+?",Z={sensitive:!1,strict:!1,start:!0,end:!0},tt=/[.+*?^${}()[\]/\\]/g;function et(t,e){const n=d({},Z,e),r=[];let i=n.start?"^":"";const o=[];for(const l of t){const t=l.length?[]:[90];n.strict&&!l.length&&(i+="/");for(let e=0;e<l.length;e++){const r=l[e];let s=40+(n.sensitive?.25:0);if(0===r.type)e||(i+="/"),i+=r.value.replace(tt,"\\$&"),s+=40;else if(1===r.type){const{value:t,repeatable:n,optional:a,regexp:c}=r;o.push({name:t,repeatable:n,optional:a});const h=c||J;if(h!==J){s+=10;try{new RegExp(`(${h})`)}catch(u){throw new Error(`Invalid custom RegExp for param "${t}" (${h}): `+u.message)}}let f=n?`((?:${h})(?:/(?:${h}))*)`:`(${h})`;e||(f=a&&l.length<2?`(?:/${f})`:"/"+f),a&&(f+="?"),i+=f,s+=20,a&&(s+=-8),n&&(s+=-20),".*"===h&&(s+=-50)}t.push(s)}r.push(t)}if(n.strict&&n.end){const t=r.length-1;r[t][r[t].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");function a(t){const e=t.match(s),n={};if(!e)return null;for(let r=1;r<e.length;r++){const t=e[r]||"",i=o[r-1];n[i.name]=t&&i.repeatable?t.split("/"):t}return n}function c(e){let n="",r=!1;for(const i of t){r&&n.endsWith("/")||(n+="/"),r=!1;for(const t of i)if(0===t.type)n+=t.value;else if(1===t.type){const{value:o,repeatable:s,optional:a}=t,c=o in e?e[o]:"";if(Array.isArray(c)&&!s)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const u=Array.isArray(c)?c.join("/"):c;if(!u){if(!a)throw new Error(`Missing required param "${o}"`);i.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=u}}return n}return{re:s,score:r,keys:o,parse:a,stringify:c}}function nt(t,e){let n=0;while(n<t.length&&n<e.length){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?1===t.length&&80===t[0]?-1:1:t.length>e.length?1===e.length&&80===e[0]?1:-1:0}function rt(t,e){let n=0;const r=t.score,i=e.score;while(n<r.length&&n<i.length){const t=nt(r[n],i[n]);if(t)return t;n++}return i.length-r.length}const it={type:0,value:""},ot=/[a-zA-Z0-9_]/;function st(t){if(!t)return[[]];if("/"===t)return[[it]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(t){throw new Error(`ERR (${n})/"${u}": ${t}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let a,c=0,u="",l="";function h(){u&&(0===n?o.push({type:0,value:u}):1===n||2===n||3===n?(o.length>1&&("*"===a||"+"===a)&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:l,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):e("Invalid state to consume buffer"),u="")}function f(){u+=a}while(c<t.length)if(a=t[c++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(u&&h(),s()):":"===a?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:"("===a?n=2:ot.test(a)?f():(h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&c--);break;case 2:")"===a?"\\"==l[l.length-1]?l=l.slice(0,-1)+a:n=3:l+=a;break;case 3:h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&c--,l="";break;default:e("Unknown state");break}else r=n,n=4;return 2===n&&e(`Unfinished custom RegExp for param "${u}"`),h(),s(),i}function at(t,e,n){const r=et(st(t.path),n);const i=d(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf===!e.record.aliasOf&&e.children.push(i),i}function ct(t,e){const n=[],r=new Map;function i(t){return r.get(t)}function o(t,n,r){const i=!r,a=lt(t);a.aliasOf=r&&r.record;const u=pt(e,t),l=[a];if("alias"in t){const e="string"===typeof t.alias?[t.alias]:t.alias;for(const t of e)l.push(d({},a,{components:r?r.record.components:a.components,path:t,aliasOf:r?r.record:a}))}let h,f;for(const e of l){const{path:l}=e;if(n&&"/"!==l[0]){const t=n.record.path,r="/"===t[t.length-1]?"":"/";e.path=n.record.path+(l&&r+l)}if(h=at(e,n,u),r?r.alias.push(h):(f=f||h,f!==h&&f.alias.push(h),i&&t.name&&!ft(h)&&s(t.name)),"children"in a){const t=a.children;for(let e=0;e<t.length;e++)o(t[e],h,r&&r.children[e])}r=r||h,c(h)}return f?()=>{s(f)}:g}function s(t){if(K(t)){const e=r.get(t);e&&(r.delete(t),n.splice(n.indexOf(e),1),e.children.forEach(s),e.alias.forEach(s))}else{const e=n.indexOf(t);e>-1&&(n.splice(e,1),t.record.name&&r.delete(t.record.name),t.children.forEach(s),t.alias.forEach(s))}}function a(){return n}function c(t){let e=0;while(e<n.length&&rt(t,n[e])>=0)e++;n.splice(e,0,t),t.record.name&&!ft(t)&&r.set(t.record.name,t)}function u(t,e){let i,o,s,a={};if("name"in t&&t.name){if(i=r.get(t.name),!i)throw Q(1,{location:t});s=i.record.name,a=d(ut(e.params,i.keys.filter(t=>!t.optional).map(t=>t.name)),t.params),o=i.stringify(a)}else if("path"in t)o=t.path,i=n.find(t=>t.re.test(o)),i&&(a=i.parse(o),s=i.record.name);else{if(i=e.name?r.get(e.name):n.find(t=>t.re.test(e.path)),!i)throw Q(1,{location:t,currentLocation:e});s=i.record.name,a=d({},e.params,t.params),o=i.stringify(a)}const c=[];let u=i;while(u)c.unshift(u.record),u=u.parent;return{name:s,path:o,params:a,matched:c,meta:dt(c)}}return e=pt({strict:!1,end:!0,sensitive:!1},e),t.forEach(t=>o(t)),{addRoute:o,resolve:u,removeRoute:s,getRoutes:a,getRecordMatcher:i}}function ut(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function lt(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:ht(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||{}:{default:t.component}}}function ht(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]="boolean"===typeof n?n:n[r];return e}function ft(t){while(t){if(t.record.aliasOf)return!0;t=t.parent}return!1}function dt(t){return t.reduce((t,e)=>d(t,e.meta),{})}function pt(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}const gt=/#/g,mt=/&/g,vt=/\//g,yt=/=/g,bt=/\?/g,_t=/\+/g,wt=/%5B/g,xt=/%5D/g,Et=/%5E/g,Ot=/%60/g,Tt=/%7B/g,It=/%7C/g,kt=/%7D/g,St=/%20/g;function Ct(t){return encodeURI(""+t).replace(It,"|").replace(wt,"[").replace(xt,"]")}function At(t){return Ct(t).replace(Tt,"{").replace(kt,"}").replace(Et,"^")}function jt(t){return Ct(t).replace(_t,"%2B").replace(St,"+").replace(gt,"%23").replace(mt,"%26").replace(Ot,"`").replace(Tt,"{").replace(kt,"}").replace(Et,"^")}function Nt(t){return jt(t).replace(yt,"%3D")}function Pt(t){return Ct(t).replace(gt,"%23").replace(bt,"%3F")}function Dt(t){return null==t?"":Pt(t).replace(vt,"%2F")}function Rt(t){try{return decodeURIComponent(""+t)}catch(e){}return""+t}function Mt(t){const e={};if(""===t||"?"===t)return e;const n="?"===t[0],r=(n?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const t=r[i].replace(_t," "),n=t.indexOf("="),o=Rt(n<0?t:t.slice(0,n)),s=n<0?null:Rt(t.slice(n+1));if(o in e){let t=e[o];Array.isArray(t)||(t=e[o]=[t]),t.push(s)}else e[o]=s}return e}function Lt(t){let e="";for(let n in t){const r=t[n];if(n=Nt(n),null==r){void 0!==r&&(e+=(e.length?"&":"")+n);continue}const i=Array.isArray(r)?r.map(t=>t&&jt(t)):[r&&jt(r)];i.forEach(t=>{void 0!==t&&(e+=(e.length?"&":"")+n,null!=t&&(e+="="+t))})}return e}function Ft(t){const e={};for(const n in t){const r=t[n];void 0!==r&&(e[n]=Array.isArray(r)?r.map(t=>null==t?null:""+t):null==r?r:""+r)}return e}function Ut(){let t=[];function e(e){return t.push(e),()=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function Vt(t,e,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((s,a)=>{const c=t=>{!1===t?a(Q(4,{from:n,to:e})):t instanceof Error?a(t):H(t)?a(Q(2,{from:e,to:t})):(o&&r.enterCallbacks[i]===o&&"function"===typeof t&&o.push(t),s())},u=t.call(r&&r.instances[i],e,n,c);let l=Promise.resolve(u);t.length<3&&(l=l.then(c)),l.catch(t=>a(t))})}function Bt(t,e,n,r){const i=[];for(const o of t)for(const t in o.components){let s=o.components[t];if("beforeRouteEnter"===e||o.instances[t])if(qt(s)){const a=s.__vccOpts||s,c=a[e];c&&i.push(Vt(c,n,r,o,t))}else{let a=s();0,i.push(()=>a.then(i=>{if(!i)return Promise.reject(new Error(`Couldn't resolve component "${t}" at "${o.path}"`));const s=f(i)?i.default:i;o.components[t]=s;const a=s.__vccOpts||s,c=a[e];return c&&Vt(c,n,r,o,t)()}))}}return i}function qt(t){return"object"===typeof t||"displayName"in t||"props"in t||"__vccOpts"in t}function zt(t){const e=Object(r["n"])(c),n=Object(r["n"])(u),i=Object(r["b"])(()=>e.resolve(Object(r["F"])(t.to))),o=Object(r["b"])(()=>{const{matched:t}=i.value,{length:e}=t,r=t[e-1],o=n.matched;if(!r||!o.length)return-1;const s=o.findIndex(x.bind(null,r));if(s>-1)return s;const a=$t(t[e-2]);return e>1&&$t(r)===a&&o[o.length-1].path!==a?o.findIndex(x.bind(null,t[e-2])):s}),s=Object(r["b"])(()=>o.value>-1&&Gt(n.params,i.value.params)),a=Object(r["b"])(()=>o.value>-1&&o.value===n.matched.length-1&&E(n.params,i.value.params));function l(n={}){return Kt(n)?e[Object(r["F"])(t.replace)?"replace":"push"](Object(r["F"])(t.to)).catch(g):Promise.resolve()}return{route:i,href:Object(r["b"])(()=>i.value.href),isActive:s,isExactActive:a,navigate:l}}const Wt=Object(r["k"])({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:zt,setup(t,{slots:e}){const n=Object(r["y"])(zt(t)),{options:i}=Object(r["n"])(c),o=Object(r["b"])(()=>({[Yt(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Yt(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:Object(r["m"])("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},i)}}}),Ht=Wt;function Kt(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&(void 0===t.button||0===t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Gt(t,e){for(const n in e){const r=e[n],i=t[n];if("string"===typeof r){if(r!==i)return!1}else if(!Array.isArray(i)||i.length!==r.length||r.some((t,e)=>t!==i[e]))return!1}return!0}function $t(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Yt=(t,e,n)=>null!=t?t:null!=e?e:n,Qt=Object(r["k"])({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(t,{attrs:e,slots:n}){const i=Object(r["n"])(l),o=Object(r["b"])(()=>t.route||i.value),c=Object(r["n"])(a,0),u=Object(r["b"])(()=>o.value.matched[c]);Object(r["w"])(a,c+1),Object(r["w"])(s,u),Object(r["w"])(l,o);const h=Object(r["z"])();return Object(r["I"])(()=>[h.value,u.value,t.name],([t,e,n],[r,i,o])=>{e&&(e.instances[n]=t,i&&i!==e&&t&&t===r&&(e.leaveGuards.size||(e.leaveGuards=i.leaveGuards),e.updateGuards.size||(e.updateGuards=i.updateGuards))),!t||!e||i&&x(e,i)&&r||(e.enterCallbacks[n]||[]).forEach(e=>e(t))},{flush:"post"}),()=>{const i=o.value,s=u.value,a=s&&s.components[t.name],c=t.name;if(!a)return Xt(n.default,{Component:a,route:i});const l=s.props[t.name],f=l?!0===l?i.params:"function"===typeof l?l(i):l:null,p=t=>{t.component.isUnmounted&&(s.instances[c]=null)},g=Object(r["m"])(a,d({},f,e,{onVnodeUnmounted:p,ref:h}));return Xt(n.default,{Component:g,route:i})||g}}});function Xt(t,e){if(!t)return null;const n=t(e);return 1===n.length?n[0]:n}const Jt=Qt;function Zt(t){const e=ct(t.routes,t),n=t.parseQuery||Mt,i=t.stringifyQuery||Lt,o=t.history;const s=Ut(),a=Ut(),f=Ut(),m=Object(r["D"])(G);let v=G;h&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const _=p.bind(null,t=>""+t),x=p.bind(null,Dt),E=p.bind(null,Rt);function O(t,n){let r,i;return K(t)?(r=e.getRecordMatcher(t),i=n):i=t,e.addRoute(i,r)}function T(t){const n=e.getRecordMatcher(t);n&&e.removeRoute(n)}function I(){return e.getRoutes().map(t=>t.record)}function S(t){return!!e.getRecordMatcher(t)}function C(t,r){if(r=d({},r||m.value),"string"===typeof t){const i=y(n,t,r.path),s=e.resolve({path:i.path},r),a=o.createHref(i.fullPath);return d(i,s,{params:E(s.params),hash:Rt(i.hash),redirectedFrom:void 0,href:a})}let s;if("path"in t)s=d({},t,{path:y(n,t.path,r.path).path});else{const e=d({},t.params);for(const t in e)null==e[t]&&delete e[t];s=d({},t,{params:x(t.params)}),r.params=x(r.params)}const a=e.resolve(s,r),c=t.hash||"";a.params=_(E(a.params));const u=b(i,d({},t,{hash:At(c),path:a.path})),l=o.createHref(u);return d({fullPath:u,hash:c,query:i===Lt?Ft(t.query):t.query||{}},a,{redirectedFrom:void 0,href:l})}function A(t){return"string"===typeof t?y(n,t,m.value.path):d({},t)}function j(t,e){if(v!==t)return Q(8,{from:e,to:t})}function N(t){return V(t)}function M(t){return N(d(A(t),{replace:!0}))}function U(t){const e=t.matched[t.matched.length-1];if(e&&e.redirect){const{redirect:n}=e;let r="function"===typeof n?n(t):n;return"string"===typeof r&&(r=r.includes("?")||r.includes("#")?r=A(r):{path:r},r.params={}),d({query:t.query,hash:t.hash,params:t.params},r)}}function V(t,e){const n=v=C(t),r=m.value,o=t.state,s=t.force,a=!0===t.replace,c=U(n);if(c)return V(d(A(c),{state:o,force:s,replace:a}),e||n);const u=n;let l;return u.redirectedFrom=e,!s&&w(i,r,n)&&(l=Q(16,{to:u,from:r}),rt(r,r,!0,!1)),(l?Promise.resolve(l):q(u,r)).catch(t=>X(t)?t:tt(t,u,r)).then(t=>{if(t){if(X(t,2))return V(d(A(t.to),{state:o,force:s,replace:a}),e||u)}else t=W(u,r,!0,a,o);return z(u,r,t),t})}function B(t,e){const n=j(t,e);return n?Promise.reject(n):Promise.resolve()}function q(t,e){let n;const[r,i,o]=ee(t,e);n=Bt(r.reverse(),"beforeRouteLeave",t,e);for(const s of r)s.leaveGuards.forEach(r=>{n.push(Vt(r,t,e))});const c=B.bind(null,t,e);return n.push(c),te(n).then(()=>{n=[];for(const r of s.list())n.push(Vt(r,t,e));return n.push(c),te(n)}).then(()=>{n=Bt(i,"beforeRouteUpdate",t,e);for(const r of i)r.updateGuards.forEach(r=>{n.push(Vt(r,t,e))});return n.push(c),te(n)}).then(()=>{n=[];for(const r of t.matched)if(r.beforeEnter&&!e.matched.includes(r))if(Array.isArray(r.beforeEnter))for(const i of r.beforeEnter)n.push(Vt(i,t,e));else n.push(Vt(r.beforeEnter,t,e));return n.push(c),te(n)}).then(()=>(t.matched.forEach(t=>t.enterCallbacks={}),n=Bt(o,"beforeRouteEnter",t,e),n.push(c),te(n))).then(()=>{n=[];for(const r of a.list())n.push(Vt(r,t,e));return n.push(c),te(n)}).catch(t=>X(t,8)?t:Promise.reject(t))}function z(t,e,n){for(const r of f.list())r(t,e,n)}function W(t,e,n,r,i){const s=j(t,e);if(s)return s;const a=e===G,c=h?history.state:{};n&&(r||a?o.replace(t.fullPath,d({scroll:a&&c&&c.scroll},i)):o.push(t.fullPath,i)),m.value=t,rt(t,e,n,a),nt()}let H;function $(){H=o.listen((t,e,n)=>{const r=C(t),i=U(r);if(i)return void V(d(i,{replace:!0}),r).catch(g);v=r;const s=m.value;h&&L(R(s.fullPath,n.delta),P()),q(r,s).catch(t=>X(t,12)?t:X(t,2)?(V(t.to,r).then(t=>{X(t,20)&&!n.delta&&n.type===k.pop&&o.go(-1,!1)}).catch(g),Promise.reject()):(n.delta&&o.go(-n.delta,!1),tt(t,r,s))).then(t=>{t=t||W(r,s,!1),t&&(n.delta?o.go(-n.delta,!1):n.type===k.pop&&X(t,20)&&o.go(-1,!1)),z(r,s,t)}).catch(g)})}let Y,J=Ut(),Z=Ut();function tt(t,e,n){nt(t);const r=Z.list();return r.length?r.forEach(r=>r(t,e,n)):console.error(t),Promise.reject(t)}function et(){return Y&&m.value!==G?Promise.resolve():new Promise((t,e)=>{J.add([t,e])})}function nt(t){Y||(Y=!0,$(),J.list().forEach(([e,n])=>t?n(t):e()),J.reset())}function rt(e,n,i,o){const{scrollBehavior:s}=t;if(!h||!s)return Promise.resolve();const a=!i&&F(R(e.fullPath,0))||(o||!i)&&history.state&&history.state.scroll||null;return Object(r["o"])().then(()=>s(e,n,a)).then(t=>t&&D(t)).catch(t=>tt(t,e,n))}const it=t=>o.go(t);let ot;const st=new Set,at={currentRoute:m,addRoute:O,removeRoute:T,hasRoute:S,getRoutes:I,resolve:C,options:t,push:N,replace:M,go:it,back:()=>it(-1),forward:()=>it(1),beforeEach:s.add,beforeResolve:a.add,afterEach:f.add,onError:Z.add,isReady:et,install(t){const e=this;t.component("RouterLink",Ht),t.component("RouterView",Jt),t.config.globalProperties.$router=e,Object.defineProperty(t.config.globalProperties,"$route",{enumerable:!0,get:()=>Object(r["F"])(m)}),h&&!ot&&m.value===G&&(ot=!0,N(o.location).catch(t=>{0}));const n={};for(const o in G)n[o]=Object(r["b"])(()=>m.value[o]);t.provide(c,e),t.provide(u,Object(r["y"])(n)),t.provide(l,m);const i=t.unmount;st.add(t),t.unmount=function(){st.delete(t),st.size<1&&(v=G,H&&H(),m.value=G,ot=!1,Y=!1),i()}}};return at}function te(t){return t.reduce((t,e)=>t.then(()=>e()),Promise.resolve())}function ee(t,e){const n=[],r=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let s=0;s<o;s++){const o=e.matched[s];o&&(t.matched.find(t=>x(t,o))?r.push(o):n.push(o));const a=t.matched[s];a&&(e.matched.find(t=>x(t,a))||i.push(a))}return[n,r,i]}},"6cee":function(t,e,n){"use strict";n.d(e,"b",(function(){return T})),n.d(e,"a",(function(){return I}));var r=n("0f88"),i=n("a321"),o=n("1fc0"),s=n("2767");function a(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function c(t){return t!==Object(o["a"])(t)&&Object(s["b"])(t)?a(t):Object(i["a"])(t)}var u=n("5788"),l=n("6125"),h=n("ef52"),f=n("ae6c");function d(t){var e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return 1!==n||1!==r}function p(t,e,n){void 0===n&&(n=!1);var i=Object(s["b"])(e),o=Object(s["b"])(e)&&d(e),a=Object(h["a"])(e),p=Object(r["a"])(t,o),g={scrollLeft:0,scrollTop:0},m={x:0,y:0};return(i||!i&&!n)&&(("body"!==Object(u["a"])(e)||Object(f["a"])(a))&&(g=c(e)),Object(s["b"])(e)?(m=Object(r["a"])(e,!0),m.x+=e.clientLeft,m.y+=e.clientTop):a&&(m.x=Object(l["a"])(a))),{x:p.left+g.scrollLeft-m.x,y:p.top+g.scrollTop-m.y,width:p.width,height:p.height}}var g=n("e2e9"),m=n("ea1a"),v=n("b62b"),y=n("77f9");function b(t){var e=new Map,n=new Set,r=[];function i(t){n.add(t.name);var o=[].concat(t.requires||[],t.requiresIfExists||[]);o.forEach((function(t){if(!n.has(t)){var r=e.get(t);r&&i(r)}})),r.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||i(t)})),r}function _(t){var e=b(t);return y["n"].reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}function w(t){var e;return function(){return e||(e=new Promise((function(n){Promise.resolve().then((function(){e=void 0,n(t())}))}))),e}}function x(t){var e=t.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{});return Object.keys(e).map((function(t){return e[t]}))}var E={placement:"bottom",modifiers:[],strategy:"absolute"};function O(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"===typeof t.getBoundingClientRect)}))}function T(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,r=void 0===n?[]:n,i=e.defaultOptions,o=void 0===i?E:i;return function(t,e,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},E,o),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},a=[],c=!1,u={state:i,setOptions:function(n){var a="function"===typeof n?n(i.options):n;h(),i.options=Object.assign({},o,i.options,a),i.scrollParents={reference:Object(s["a"])(t)?Object(m["a"])(t):t.contextElement?Object(m["a"])(t.contextElement):[],popper:Object(m["a"])(e)};var c=_(x([].concat(r,i.options.modifiers)));return i.orderedModifiers=c.filter((function(t){return t.enabled})),l(),u.update()},forceUpdate:function(){if(!c){var t=i.elements,e=t.reference,n=t.popper;if(O(e,n)){i.rects={reference:p(e,Object(v["a"])(n),"fixed"===i.options.strategy),popper:Object(g["a"])(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(t){return i.modifiersData[t.name]=Object.assign({},t.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],s=o.fn,a=o.options,l=void 0===a?{}:a,h=o.name;"function"===typeof s&&(i=s({state:i,options:l,name:h,instance:u})||i)}else i.reset=!1,r=-1}}},update:w((function(){return new Promise((function(t){u.forceUpdate(),t(i)}))})),destroy:function(){h(),c=!0}};if(!O(t,e))return u;function l(){i.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,r=void 0===n?{}:n,o=t.effect;if("function"===typeof o){var s=o({state:i,name:e,instance:u,options:r}),c=function(){};a.push(s||c)}}))}function h(){a.forEach((function(t){return t()})),a=[]}return u.setOptions(n).then((function(t){!c&&n.onFirstUpdate&&n.onFirstUpdate(t)})),u}}var I=T()},"6eeb":function(t,e,n){var r=n("da84"),i=n("9112"),o=n("5135"),s=n("ce4e"),a=n("8925"),c=n("69f3"),u=c.get,l=c.enforce,h=String(String).split("String");(t.exports=function(t,e,n,a){var c,u=!!a&&!!a.unsafe,f=!!a&&!!a.enumerable,d=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||i(n,"name",e),c=l(n),c.source||(c.source=h.join("string"==typeof e?e:""))),t!==r?(u?!d&&t[e]&&(f=!0):delete t[e],f?t[e]=n:i(t,e,n)):f?t[e]=n:s(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||a(this)}))},7156:function(t,e,n){var r=n("861d"),i=n("d2bb");t.exports=function(t,e,n){var o,s;return i&&"function"==typeof(o=e.constructor)&&o!==n&&r(s=o.prototype)&&s!==n.prototype&&i(t,s),t}},7418:function(t,e){e.f=Object.getOwnPropertySymbols},"746f":function(t,e,n){var r=n("428f"),i=n("5135"),o=n("e538"),s=n("9bf2").f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||s(e,t,{value:o.f(t)})}},"77f9":function(t,e,n){"use strict";n.d(e,"u",(function(){return r})),n.d(e,"i",(function(){return i})),n.d(e,"s",(function(){return o})),n.d(e,"l",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"e",(function(){return c})),n.d(e,"t",(function(){return u})),n.d(e,"k",(function(){return l})),n.d(e,"j",(function(){return h})),n.d(e,"w",(function(){return f})),n.d(e,"p",(function(){return d})),n.d(e,"r",(function(){return p})),n.d(e,"v",(function(){return g})),n.d(e,"o",(function(){return m})),n.d(e,"g",(function(){return v})),n.d(e,"q",(function(){return y})),n.d(e,"b",(function(){return b})),n.d(e,"f",(function(){return _})),n.d(e,"m",(function(){return w})),n.d(e,"a",(function(){return x})),n.d(e,"h",(function(){return E})),n.d(e,"x",(function(){return O})),n.d(e,"c",(function(){return T})),n.d(e,"n",(function(){return I}));var r="top",i="bottom",o="right",s="left",a="auto",c=[r,i,o,s],u="start",l="end",h="clippingParents",f="viewport",d="popper",p="reference",g=c.reduce((function(t,e){return t.concat([e+"-"+u,e+"-"+l])}),[]),m=[].concat(c,[a]).reduce((function(t,e){return t.concat([e,e+"-"+u,e+"-"+l])}),[]),v="beforeRead",y="read",b="afterRead",_="beforeMain",w="main",x="afterMain",E="beforeWrite",O="write",T="afterWrite",I=[v,y,b,_,w,x,E,O,T]},7839:function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7a23":function(t,e,n){"use strict";n.d(e,"b",(function(){return Kt})),n.d(e,"y",(function(){return Tt})),n.d(e,"z",(function(){return Ft})),n.d(e,"D",(function(){return Ut})),n.d(e,"F",(function(){return qt})),n.d(e,"p",(function(){return r["H"]})),n.d(e,"q",(function(){return r["I"]})),n.d(e,"E",(function(){return r["K"]})),n.d(e,"a",(function(){return Vn})),n.d(e,"d",(function(){return Jn})),n.d(e,"e",(function(){return hr})),n.d(e,"f",(function(){return Xn})),n.d(e,"g",(function(){return ir})),n.d(e,"h",(function(){return lr})),n.d(e,"i",(function(){return ur})),n.d(e,"j",(function(){return or})),n.d(e,"k",(function(){return xe})),n.d(e,"l",(function(){return Ir})),n.d(e,"m",(function(){return Ei})),n.d(e,"n",(function(){return he})),n.d(e,"o",(function(){return oi})),n.d(e,"r",(function(){return Ie})),n.d(e,"s",(function(){return ke})),n.d(e,"t",(function(){return Ue})),n.d(e,"u",(function(){return Kn})),n.d(e,"v",(function(){return te})),n.d(e,"w",(function(){return le})),n.d(e,"x",(function(){return Zt})),n.d(e,"A",(function(){return mr})),n.d(e,"B",(function(){return vr})),n.d(e,"C",(function(){return Mn})),n.d(e,"I",(function(){return yi})),n.d(e,"J",(function(){return ee})),n.d(e,"K",(function(){return wn})),n.d(e,"c",(function(){return No})),n.d(e,"G",(function(){return Oo})),n.d(e,"H",(function(){return ko})),n.d(e,"L",(function(){return Io}));var r=n("9ff4");let i;const o=[];class s{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&i&&(this.parent=i,this.index=(i.scopes||(i.scopes=[])).push(this)-1)}run(t){if(this.active)try{return this.on(),t()}finally{this.off()}else 0}on(){this.active&&(o.push(this),i=this)}off(){this.active&&(o.pop(),i=o[o.length-1])}stop(t){if(this.active){if(this.effects.forEach(t=>t.stop()),this.cleanups.forEach(t=>t()),this.scopes&&this.scopes.forEach(t=>t.stop(!0)),this.parent&&!t){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.active=!1}}}function a(t,e){e=e||i,e&&e.active&&e.effects.push(t)}const c=t=>{const e=new Set(t);return e.w=0,e.n=0,e},u=t=>(t.w&g)>0,l=t=>(t.n&g)>0,h=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=g},f=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];u(i)&&!l(i)?i.delete(t):e[n++]=i,i.w&=~g,i.n&=~g}e.length=n}},d=new WeakMap;let p=0,g=1;const m=30,v=[];let y;const b=Symbol(""),_=Symbol("");class w{constructor(t,e=null,n){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],a(this,n)}run(){if(!this.active)return this.fn();if(!v.includes(this))try{return v.push(y=this),I(),g=1<<++p,p<=m?h(this):x(this),this.fn()}finally{p<=m&&f(this),g=1<<--p,k(),v.pop();const t=v.length;y=t>0?v[t-1]:void 0}}stop(){this.active&&(x(this),this.onStop&&this.onStop(),this.active=!1)}}function x(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let E=!0;const O=[];function T(){O.push(E),E=!1}function I(){O.push(E),E=!0}function k(){const t=O.pop();E=void 0===t||t}function S(t,e,n){if(!C())return;let r=d.get(t);r||d.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=c());const o=void 0;A(i,o)}function C(){return E&&void 0!==y}function A(t,e){let n=!1;p<=m?l(t)||(t.n|=g,n=!u(t)):n=!t.has(y),n&&(t.add(y),y.deps.push(t))}function j(t,e,n,i,o,s){const a=d.get(t);if(!a)return;let u=[];if("clear"===e)u=[...a.values()];else if("length"===n&&Object(r["n"])(t))a.forEach((t,e)=>{("length"===e||e>=i)&&u.push(t)});else switch(void 0!==n&&u.push(a.get(n)),e){case"add":Object(r["n"])(t)?Object(r["r"])(n)&&u.push(a.get("length")):(u.push(a.get(b)),Object(r["s"])(t)&&u.push(a.get(_)));break;case"delete":Object(r["n"])(t)||(u.push(a.get(b)),Object(r["s"])(t)&&u.push(a.get(_)));break;case"set":Object(r["s"])(t)&&u.push(a.get(b));break}if(1===u.length)u[0]&&N(u[0]);else{const t=[];for(const e of u)e&&t.push(...e);N(c(t))}}function N(t,e){for(const n of Object(r["n"])(t)?t:[...t])(n!==y||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const P=Object(r["G"])("__proto__,__v_isRef,__isVue"),D=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(r["D"])),R=V(),M=V(!1,!0),L=V(!0),F=U();function U(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...t){const n=Nt(this);for(let e=0,i=this.length;e<i;e++)S(n,"get",e+"");const r=n[e](...t);return-1===r||!1===r?n[e](...t.map(Nt)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...t){T();const n=Nt(this)[e].apply(this,t);return k(),n}}),t}function V(t=!1,e=!1){return function(n,i,o){if("__v_isReactive"===i)return!t;if("__v_isReadonly"===i)return t;if("__v_raw"===i&&o===(t?e?xt:wt:e?_t:bt).get(n))return n;const s=Object(r["n"])(n);if(!t&&s&&Object(r["j"])(F,i))return Reflect.get(F,i,o);const a=Reflect.get(n,i,o);if(Object(r["D"])(i)?D.has(i):P(i))return a;if(t||S(n,"get",i),e)return a;if(Lt(a)){const t=!s||!Object(r["r"])(i);return t?a.value:a}return Object(r["u"])(a)?t?kt(a):Tt(a):a}}const B=z(),q=z(!0);function z(t=!1){return function(e,n,i,o){let s=e[n];if(!t&&(i=Nt(i),s=Nt(s),!Object(r["n"])(e)&&Lt(s)&&!Lt(i)))return s.value=i,!0;const a=Object(r["n"])(e)&&Object(r["r"])(n)?Number(n)<e.length:Object(r["j"])(e,n),c=Reflect.set(e,n,i,o);return e===Nt(o)&&(a?Object(r["i"])(i,s)&&j(e,"set",n,i,s):j(e,"add",n,i)),c}}function W(t,e){const n=Object(r["j"])(t,e),i=t[e],o=Reflect.deleteProperty(t,e);return o&&n&&j(t,"delete",e,void 0,i),o}function H(t,e){const n=Reflect.has(t,e);return Object(r["D"])(e)&&D.has(e)||S(t,"has",e),n}function K(t){return S(t,"iterate",Object(r["n"])(t)?"length":b),Reflect.ownKeys(t)}const G={get:R,set:B,deleteProperty:W,has:H,ownKeys:K},$={get:L,set(t,e){return!0},deleteProperty(t,e){return!0}},Y=Object(r["h"])({},G,{get:M,set:q}),Q=t=>Object(r["u"])(t)?Tt(t):t,X=t=>Object(r["u"])(t)?kt(t):t,J=t=>t,Z=t=>Reflect.getPrototypeOf(t);function tt(t,e,n=!1,r=!1){t=t["__v_raw"];const i=Nt(t),o=Nt(e);e!==o&&!n&&S(i,"get",e),!n&&S(i,"get",o);const{has:s}=Z(i),a=r?J:n?X:Q;return s.call(i,e)?a(t.get(e)):s.call(i,o)?a(t.get(o)):void(t!==i&&t.get(e))}function et(t,e=!1){const n=this["__v_raw"],r=Nt(n),i=Nt(t);return t!==i&&!e&&S(r,"has",t),!e&&S(r,"has",i),t===i?n.has(t):n.has(t)||n.has(i)}function nt(t,e=!1){return t=t["__v_raw"],!e&&S(Nt(t),"iterate",b),Reflect.get(t,"size",t)}function rt(t){t=Nt(t);const e=Nt(this),n=Z(e),r=n.has.call(e,t);return r||(e.add(t),j(e,"add",t,t)),this}function it(t,e){e=Nt(e);const n=Nt(this),{has:i,get:o}=Z(n);let s=i.call(n,t);s||(t=Nt(t),s=i.call(n,t));const a=o.call(n,t);return n.set(t,e),s?Object(r["i"])(e,a)&&j(n,"set",t,e,a):j(n,"add",t,e),this}function ot(t){const e=Nt(this),{has:n,get:r}=Z(e);let i=n.call(e,t);i||(t=Nt(t),i=n.call(e,t));const o=r?r.call(e,t):void 0,s=e.delete(t);return i&&j(e,"delete",t,void 0,o),s}function st(){const t=Nt(this),e=0!==t.size,n=void 0,r=t.clear();return e&&j(t,"clear",void 0,void 0,n),r}function at(t,e){return function(n,r){const i=this,o=i["__v_raw"],s=Nt(o),a=e?J:t?X:Q;return!t&&S(s,"iterate",b),o.forEach((t,e)=>n.call(r,a(t),a(e),i))}}function ct(t,e,n){return function(...i){const o=this["__v_raw"],s=Nt(o),a=Object(r["s"])(s),c="entries"===t||t===Symbol.iterator&&a,u="keys"===t&&a,l=o[t](...i),h=n?J:e?X:Q;return!e&&S(s,"iterate",u?_:b),{next(){const{value:t,done:e}=l.next();return e?{value:t,done:e}:{value:c?[h(t[0]),h(t[1])]:h(t),done:e}},[Symbol.iterator](){return this}}}}function ut(t){return function(...e){return"delete"!==t&&this}}function lt(){const t={get(t){return tt(this,t)},get size(){return nt(this)},has:et,add:rt,set:it,delete:ot,clear:st,forEach:at(!1,!1)},e={get(t){return tt(this,t,!1,!0)},get size(){return nt(this)},has:et,add:rt,set:it,delete:ot,clear:st,forEach:at(!1,!0)},n={get(t){return tt(this,t,!0)},get size(){return nt(this,!0)},has(t){return et.call(this,t,!0)},add:ut("add"),set:ut("set"),delete:ut("delete"),clear:ut("clear"),forEach:at(!0,!1)},r={get(t){return tt(this,t,!0,!0)},get size(){return nt(this,!0)},has(t){return et.call(this,t,!0)},add:ut("add"),set:ut("set"),delete:ut("delete"),clear:ut("clear"),forEach:at(!0,!0)},i=["keys","values","entries",Symbol.iterator];return i.forEach(i=>{t[i]=ct(i,!1,!1),n[i]=ct(i,!0,!1),e[i]=ct(i,!1,!0),r[i]=ct(i,!0,!0)}),[t,n,e,r]}const[ht,ft,dt,pt]=lt();function gt(t,e){const n=e?t?pt:dt:t?ft:ht;return(e,i,o)=>"__v_isReactive"===i?!t:"__v_isReadonly"===i?t:"__v_raw"===i?e:Reflect.get(Object(r["j"])(n,i)&&i in e?n:e,i,o)}const mt={get:gt(!1,!1)},vt={get:gt(!1,!0)},yt={get:gt(!0,!1)};const bt=new WeakMap,_t=new WeakMap,wt=new WeakMap,xt=new WeakMap;function Et(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ot(t){return t["__v_skip"]||!Object.isExtensible(t)?0:Et(Object(r["N"])(t))}function Tt(t){return t&&t["__v_isReadonly"]?t:St(t,!1,G,mt,bt)}function It(t){return St(t,!1,Y,vt,_t)}function kt(t){return St(t,!0,$,yt,wt)}function St(t,e,n,i,o){if(!Object(r["u"])(t))return t;if(t["__v_raw"]&&(!e||!t["__v_isReactive"]))return t;const s=o.get(t);if(s)return s;const a=Ot(t);if(0===a)return t;const c=new Proxy(t,2===a?i:n);return o.set(t,c),c}function Ct(t){return At(t)?Ct(t["__v_raw"]):!(!t||!t["__v_isReactive"])}function At(t){return!(!t||!t["__v_isReadonly"])}function jt(t){return Ct(t)||At(t)}function Nt(t){const e=t&&t["__v_raw"];return e?Nt(e):t}function Pt(t){return Object(r["g"])(t,"__v_skip",!0),t}function Dt(t){C()&&(t=Nt(t),t.dep||(t.dep=c()),A(t.dep))}function Rt(t,e){t=Nt(t),t.dep&&N(t.dep)}const Mt=t=>Object(r["u"])(t)?Tt(t):t;function Lt(t){return Boolean(t&&!0===t.__v_isRef)}function Ft(t){return Bt(t,!1)}function Ut(t){return Bt(t,!0)}class Vt{constructor(t,e){this._shallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:Nt(t),this._value=e?t:Mt(t)}get value(){return Dt(this),this._value}set value(t){t=this._shallow?t:Nt(t),Object(r["i"])(t,this._rawValue)&&(this._rawValue=t,this._value=this._shallow?t:Mt(t),Rt(this,t))}}function Bt(t,e){return Lt(t)?t:new Vt(t,e)}function qt(t){return Lt(t)?t.value:t}const zt={get:(t,e,n)=>qt(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Lt(i)&&!Lt(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Wt(t){return Ct(t)?t:new Proxy(t,zt)}class Ht{constructor(t,e,n){this._setter=e,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new w(t,()=>{this._dirty||(this._dirty=!0,Rt(this))}),this["__v_isReadonly"]=n}get value(){const t=Nt(this);return Dt(t),t._dirty&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Kt(t,e){let n,i;Object(r["o"])(t)?(n=t,i=r["d"]):(n=t.get,i=t.set);const o=new Ht(n,i,Object(r["o"])(t)||!t.set);return o}Promise.resolve();new Set;new Map;Object.create(null),Object.create(null);function Gt(t,e,...n){const i=t.vnode.props||r["b"];let o=n;const s=e.startsWith("update:"),a=s&&e.slice(7);if(a&&a in i){const t=("modelValue"===a?"model":a)+"Modifiers",{number:e,trim:s}=i[t]||r["b"];s?o=n.map(t=>t.trim()):e&&(o=n.map(r["M"]))}let c;let u=i[c=Object(r["L"])(e)]||i[c=Object(r["L"])(Object(r["e"])(e))];!u&&s&&(u=i[c=Object(r["L"])(Object(r["k"])(e))]),u&&zr(u,t,6,o);const l=i[c+"Once"];if(l){if(t.emitted){if(t.emitted[c])return}else t.emitted={};t.emitted[c]=!0,zr(l,t,6,o)}}function $t(t,e,n=!1){const i=e.emitsCache,o=i.get(t);if(void 0!==o)return o;const s=t.emits;let a={},c=!1;if(!Object(r["o"])(t)){const i=t=>{const n=$t(t,e,!0);n&&(c=!0,Object(r["h"])(a,n))};!n&&e.mixins.length&&e.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}return s||c?(Object(r["n"])(s)?s.forEach(t=>a[t]=null):Object(r["h"])(a,s),i.set(t,a),a):(i.set(t,null),null)}function Yt(t,e){return!(!t||!Object(r["v"])(e))&&(e=e.slice(2).replace(/Once$/,""),Object(r["j"])(t,e[0].toLowerCase()+e.slice(1))||Object(r["j"])(t,Object(r["k"])(e))||Object(r["j"])(t,e))}let Qt=null,Xt=null;function Jt(t){const e=Qt;return Qt=t,Xt=t&&t.type.__scopeId||null,e}function Zt(t){Xt=t}function te(){Xt=null}function ee(t,e=Qt,n){if(!e)return t;if(t._n)return t;const r=(...n)=>{r._d&&Yn(-1);const i=Jt(e),o=t(...n);return Jt(i),r._d&&Yn(1),o};return r._n=!0,r._c=!0,r._d=!0,r}function ne(t){const{type:e,vnode:n,proxy:i,withProxy:o,props:s,propsOptions:[a],slots:c,attrs:u,emit:l,render:h,renderCache:f,data:d,setupState:p,ctx:g,inheritAttrs:m}=t;let v;const y=Jt(t);try{let t;if(4&n.shapeFlag){const e=o||i;v=fr(h.call(e,e,f,s,p,d,g)),t=u}else{const n=e;0,v=fr(n.length>1?n(s,{attrs:u,slots:c,emit:l}):n(s,null)),t=e.props?u:re(u)}let y=v;if(t&&!1!==m){const e=Object.keys(t),{shapeFlag:n}=y;e.length&&7&n&&(a&&e.some(r["t"])&&(t=ie(t,a)),y=cr(y,t))}0,n.dirs&&(y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&(y.transition=n.transition),v=y}catch(b){Wn.length=0,Wr(b,t,1),v=or(qn)}return Jt(y),v}const re=t=>{let e;for(const n in t)("class"===n||"style"===n||Object(r["v"])(n))&&((e||(e={}))[n]=t[n]);return e},ie=(t,e)=>{const n={};for(const i in t)Object(r["t"])(i)&&i.slice(9)in e||(n[i]=t[i]);return n};function oe(t,e,n){const{props:r,children:i,component:o}=t,{props:s,children:a,patchFlag:c}=e,u=o.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&c>=0))return!(!i&&!a||a&&a.$stable)||r!==s&&(r?!s||se(r,s,u):!!s);if(1024&c)return!0;if(16&c)return r?se(r,s,u):!!s;if(8&c){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(s[n]!==r[n]&&!Yt(u,n))return!0}}return!1}function se(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!Yt(n,o))return!0}return!1}function ae({vnode:t,parent:e},n){while(e&&e.subTree===t)(t=e.vnode).el=n,e=e.parent}const ce=t=>t.__isSuspense;function ue(t,e){e&&e.pendingBranch?Object(r["n"])(t)?e.effects.push(...t):e.effects.push(t):fi(t)}function le(t,e){if(Tr){let n=Tr.provides;const r=Tr.parent&&Tr.parent.provides;r===n&&(n=Tr.provides=Object.create(r)),n[t]=e}else 0}function he(t,e,n=!1){const i=Tr||Qt;if(i){const o=null==i.parent?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(o&&t in o)return o[t];if(arguments.length>1)return n&&Object(r["o"])(e)?e.call(i.proxy):e}else 0}function fe(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Re(()=>{t.isMounted=!0}),Fe(()=>{t.isUnmounting=!0}),t}const de=[Function,Array],pe={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:de,onEnter:de,onAfterEnter:de,onEnterCancelled:de,onBeforeLeave:de,onLeave:de,onAfterLeave:de,onLeaveCancelled:de,onBeforeAppear:de,onAppear:de,onAfterAppear:de,onAppearCancelled:de},setup(t,{slots:e}){const n=Ir(),r=fe();let i;return()=>{const o=e.default&&we(e.default(),!0);if(!o||!o.length)return;const s=Nt(t),{mode:a}=s;const c=o[0];if(r.isLeaving)return ye(c);const u=be(c);if(!u)return ye(c);const l=ve(u,s,r,n);_e(u,l);const h=n.subTree,f=h&&be(h);let d=!1;const{getTransitionKey:p}=u.type;if(p){const t=p();void 0===i?i=t:t!==i&&(i=t,d=!0)}if(f&&f.type!==qn&&(!tr(u,f)||d)){const t=ve(f,s,r,n);if(_e(f,t),"out-in"===a)return r.isLeaving=!0,t.afterLeave=()=>{r.isLeaving=!1,n.update()},ye(c);"in-out"===a&&u.type!==qn&&(t.delayLeave=(t,e,n)=>{const i=me(r,f);i[String(f.key)]=f,t._leaveCb=()=>{e(),t._leaveCb=void 0,delete l.delayedLeave},l.delayedLeave=n})}return c}}},ge=pe;function me(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function ve(t,e,n,r){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:u,onEnterCancelled:l,onBeforeLeave:h,onLeave:f,onAfterLeave:d,onLeaveCancelled:p,onBeforeAppear:g,onAppear:m,onAfterAppear:v,onAppearCancelled:y}=e,b=String(t.key),_=me(n,t),w=(t,e)=>{t&&zr(t,r,9,e)},x={mode:o,persisted:s,beforeEnter(e){let r=a;if(!n.isMounted){if(!i)return;r=g||a}e._leaveCb&&e._leaveCb(!0);const o=_[b];o&&tr(t,o)&&o.el._leaveCb&&o.el._leaveCb(),w(r,[e])},enter(t){let e=c,r=u,o=l;if(!n.isMounted){if(!i)return;e=m||c,r=v||u,o=y||l}let s=!1;const a=t._enterCb=e=>{s||(s=!0,w(e?o:r,[t]),x.delayedLeave&&x.delayedLeave(),t._enterCb=void 0)};e?(e(t,a),e.length<=1&&a()):a()},leave(e,r){const i=String(t.key);if(e._enterCb&&e._enterCb(!0),n.isUnmounting)return r();w(h,[e]);let o=!1;const s=e._leaveCb=n=>{o||(o=!0,r(),w(n?p:d,[e]),e._leaveCb=void 0,_[i]===t&&delete _[i])};_[i]=t,f?(f(e,s),f.length<=1&&s()):s()},clone(t){return ve(t,e,n,r)}};return x}function ye(t){if(Oe(t))return t=cr(t),t.children=null,t}function be(t){return Oe(t)?t.children?t.children[0]:void 0:t}function _e(t,e){6&t.shapeFlag&&t.component?_e(t.component.subTree,e):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function we(t,e=!1){let n=[],r=0;for(let i=0;i<t.length;i++){const o=t[i];o.type===Vn?(128&o.patchFlag&&r++,n=n.concat(we(o.children,e))):(e||o.type!==qn)&&n.push(o)}if(r>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}function xe(t){return Object(r["o"])(t)?{setup:t,name:t.name}:t}const Ee=t=>!!t.type.__asyncLoader;const Oe=t=>t.type.__isKeepAlive;RegExp,RegExp;function Te(t,e){return Object(r["n"])(t)?t.some(t=>Te(t,e)):Object(r["C"])(t)?t.split(",").indexOf(e)>-1:!!t.test&&t.test(e)}function Ie(t,e){Se(t,"a",e)}function ke(t,e){Se(t,"da",e)}function Se(t,e,n=Tr){const r=t.__wdc||(t.__wdc=()=>{let e=n;while(e){if(e.isDeactivated)return;e=e.parent}t()});if(Ne(e,r,n),n){let t=n.parent;while(t&&t.parent)Oe(t.parent.vnode)&&Ce(r,e,n,t),t=t.parent}}function Ce(t,e,n,i){const o=Ne(e,t,i,!0);Ue(()=>{Object(r["J"])(i[e],o)},n)}function Ae(t){let e=t.shapeFlag;256&e&&(e-=256),512&e&&(e-=512),t.shapeFlag=e}function je(t){return 128&t.shapeFlag?t.ssContent:t}function Ne(t,e,n=Tr,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...r)=>{if(n.isUnmounted)return;T(),kr(n);const i=zr(e,n,t,r);return Sr(),k(),i});return r?i.unshift(o):i.push(o),o}}const Pe=t=>(e,n=Tr)=>(!Nr||"sp"===t)&&Ne(t,e,n),De=Pe("bm"),Re=Pe("m"),Me=Pe("bu"),Le=Pe("u"),Fe=Pe("bum"),Ue=Pe("um"),Ve=Pe("sp"),Be=Pe("rtg"),qe=Pe("rtc");function ze(t,e=Tr){Ne("ec",t,e)}let We=!0;function He(t){const e=Ye(t),n=t.proxy,i=t.ctx;We=!1,e.beforeCreate&&Ge(e.beforeCreate,t,"bc");const{data:o,computed:s,methods:a,watch:c,provide:u,inject:l,created:h,beforeMount:f,mounted:d,beforeUpdate:p,updated:g,activated:m,deactivated:v,beforeDestroy:y,beforeUnmount:b,destroyed:_,unmounted:w,render:x,renderTracked:E,renderTriggered:O,errorCaptured:T,serverPrefetch:I,expose:k,inheritAttrs:S,components:C,directives:A,filters:j}=e,N=null;if(l&&Ke(l,i,N,t.appContext.config.unwrapInjectedRef),a)for(const D in a){const t=a[D];Object(r["o"])(t)&&(i[D]=t.bind(n))}if(o){0;const e=o.call(n,n);0,Object(r["u"])(e)&&(t.data=Tt(e))}if(We=!0,s)for(const D in s){const t=s[D],e=Object(r["o"])(t)?t.bind(n,n):Object(r["o"])(t.get)?t.get.bind(n,n):r["d"];0;const o=!Object(r["o"])(t)&&Object(r["o"])(t.set)?t.set.bind(n):r["d"],a=Kt({get:e,set:o});Object.defineProperty(i,D,{enumerable:!0,configurable:!0,get:()=>a.value,set:t=>a.value=t})}if(c)for(const r in c)$e(c[r],i,n,r);if(u){const t=Object(r["o"])(u)?u.call(n):u;Reflect.ownKeys(t).forEach(e=>{le(e,t[e])})}function P(t,e){Object(r["n"])(e)?e.forEach(e=>t(e.bind(n))):e&&t(e.bind(n))}if(h&&Ge(h,t,"c"),P(De,f),P(Re,d),P(Me,p),P(Le,g),P(Ie,m),P(ke,v),P(ze,T),P(qe,E),P(Be,O),P(Fe,b),P(Ue,w),P(Ve,I),Object(r["n"])(k))if(k.length){const e=t.exposed||(t.exposed={});k.forEach(t=>{Object.defineProperty(e,t,{get:()=>n[t],set:e=>n[t]=e})})}else t.exposed||(t.exposed={});x&&t.render===r["d"]&&(t.render=x),null!=S&&(t.inheritAttrs=S),C&&(t.components=C),A&&(t.directives=A)}function Ke(t,e,n=r["d"],i=!1){Object(r["n"])(t)&&(t=tn(t));for(const o in t){const n=t[o];let s;s=Object(r["u"])(n)?"default"in n?he(n.from||o,n.default,!0):he(n.from||o):he(n),Lt(s)&&i?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>s.value,set:t=>s.value=t}):e[o]=s}}function Ge(t,e,n){zr(Object(r["n"])(t)?t.map(t=>t.bind(e.proxy)):t.bind(e.proxy),e,n)}function $e(t,e,n,i){const o=i.includes(".")?wi(n,i):()=>n[i];if(Object(r["C"])(t)){const n=e[t];Object(r["o"])(n)&&yi(o,n)}else if(Object(r["o"])(t))yi(o,t.bind(n));else if(Object(r["u"])(t))if(Object(r["n"])(t))t.forEach(t=>$e(t,e,n,i));else{const i=Object(r["o"])(t.handler)?t.handler.bind(n):e[t.handler];Object(r["o"])(i)&&yi(o,i,t)}else 0}function Ye(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,a=o.get(e);let c;return a?c=a:i.length||n||r?(c={},i.length&&i.forEach(t=>Qe(c,t,s,!0)),Qe(c,e,s)):c=e,o.set(e,c),c}function Qe(t,e,n,r=!1){const{mixins:i,extends:o}=e;o&&Qe(t,o,n,!0),i&&i.forEach(e=>Qe(t,e,n,!0));for(const s in e)if(r&&"expose"===s);else{const r=Xe[s]||n&&n[s];t[s]=r?r(t[s],e[s]):e[s]}return t}const Xe={data:Je,props:nn,emits:nn,methods:nn,computed:nn,beforeCreate:en,created:en,beforeMount:en,mounted:en,beforeUpdate:en,updated:en,beforeDestroy:en,beforeUnmount:en,destroyed:en,unmounted:en,activated:en,deactivated:en,errorCaptured:en,serverPrefetch:en,components:nn,directives:nn,watch:rn,provide:Je,inject:Ze};function Je(t,e){return e?t?function(){return Object(r["h"])(Object(r["o"])(t)?t.call(this,this):t,Object(r["o"])(e)?e.call(this,this):e)}:e:t}function Ze(t,e){return nn(tn(t),tn(e))}function tn(t){if(Object(r["n"])(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function en(t,e){return t?[...new Set([].concat(t,e))]:e}function nn(t,e){return t?Object(r["h"])(Object(r["h"])(Object.create(null),t),e):e}function rn(t,e){if(!t)return e;if(!e)return t;const n=Object(r["h"])(Object.create(null),t);for(const r in e)n[r]=en(t[r],e[r]);return n}function on(t,e,n,i=!1){const o={},s={};Object(r["g"])(s,er,1),t.propsDefaults=Object.create(null),an(t,e,o,s);for(const r in t.propsOptions[0])r in o||(o[r]=void 0);n?t.props=i?o:It(o):t.type.props?t.props=o:t.props=s,t.attrs=s}function sn(t,e,n,i){const{props:o,attrs:s,vnode:{patchFlag:a}}=t,c=Nt(o),[u]=t.propsOptions;let l=!1;if(!(i||a>0)||16&a){let i;an(t,e,o,s)&&(l=!0);for(const s in c)e&&(Object(r["j"])(e,s)||(i=Object(r["k"])(s))!==s&&Object(r["j"])(e,i))||(u?!n||void 0===n[s]&&void 0===n[i]||(o[s]=cn(u,c,s,void 0,t,!0)):delete o[s]);if(s!==c)for(const t in s)e&&Object(r["j"])(e,t)||(delete s[t],l=!0)}else if(8&a){const n=t.vnode.dynamicProps;for(let i=0;i<n.length;i++){let a=n[i];const h=e[a];if(u)if(Object(r["j"])(s,a))h!==s[a]&&(s[a]=h,l=!0);else{const e=Object(r["e"])(a);o[e]=cn(u,c,e,h,t,!1)}else h!==s[a]&&(s[a]=h,l=!0)}}l&&j(t,"set","$attrs")}function an(t,e,n,i){const[o,s]=t.propsOptions;let a,c=!1;if(e)for(let u in e){if(Object(r["y"])(u))continue;const l=e[u];let h;o&&Object(r["j"])(o,h=Object(r["e"])(u))?s&&s.includes(h)?(a||(a={}))[h]=l:n[h]=l:Yt(t.emitsOptions,u)||l!==i[u]&&(i[u]=l,c=!0)}if(s){const e=Nt(n),i=a||r["b"];for(let a=0;a<s.length;a++){const c=s[a];n[c]=cn(o,e,c,i[c],t,!Object(r["j"])(i,c))}}return c}function cn(t,e,n,i,o,s){const a=t[n];if(null!=a){const t=Object(r["j"])(a,"default");if(t&&void 0===i){const t=a.default;if(a.type!==Function&&Object(r["o"])(t)){const{propsDefaults:r}=o;n in r?i=r[n]:(kr(o),i=r[n]=t.call(null,e),Sr())}else i=t}a[0]&&(s&&!t?i=!1:!a[1]||""!==i&&i!==Object(r["k"])(n)||(i=!0))}return i}function un(t,e,n=!1){const i=e.propsCache,o=i.get(t);if(o)return o;const s=t.props,a={},c=[];let u=!1;if(!Object(r["o"])(t)){const i=t=>{u=!0;const[n,i]=un(t,e,!0);Object(r["h"])(a,n),i&&c.push(...i)};!n&&e.mixins.length&&e.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}if(!s&&!u)return i.set(t,r["a"]),r["a"];if(Object(r["n"])(s))for(let h=0;h<s.length;h++){0;const t=Object(r["e"])(s[h]);ln(t)&&(a[t]=r["b"])}else if(s){0;for(const t in s){const e=Object(r["e"])(t);if(ln(e)){const n=s[t],i=a[e]=Object(r["n"])(n)||Object(r["o"])(n)?{type:n}:n;if(i){const t=dn(Boolean,i.type),n=dn(String,i.type);i[0]=t>-1,i[1]=n<0||t<n,(t>-1||Object(r["j"])(i,"default"))&&c.push(e)}}}}const l=[a,c];return i.set(t,l),l}function ln(t){return"$"!==t[0]}function hn(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:null===t?"null":""}function fn(t,e){return hn(t)===hn(e)}function dn(t,e){return Object(r["n"])(e)?e.findIndex(e=>fn(e,t)):Object(r["o"])(e)&&fn(e,t)?0:-1}const pn=t=>"_"===t[0]||"$stable"===t,gn=t=>Object(r["n"])(t)?t.map(fr):[fr(t)],mn=(t,e,n)=>{const r=ee((...t)=>gn(e(...t)),n);return r._c=!1,r},vn=(t,e,n)=>{const i=t._ctx;for(const o in t){if(pn(o))continue;const n=t[o];if(Object(r["o"])(n))e[o]=mn(o,n,i);else if(null!=n){0;const t=gn(n);e[o]=()=>t}}},yn=(t,e)=>{const n=gn(e);t.slots.default=()=>n},bn=(t,e)=>{if(32&t.vnode.shapeFlag){const n=e._;n?(t.slots=Nt(e),Object(r["g"])(e,"_",n)):vn(e,t.slots={})}else t.slots={},e&&yn(t,e);Object(r["g"])(t.slots,er,1)},_n=(t,e,n)=>{const{vnode:i,slots:o}=t;let s=!0,a=r["b"];if(32&i.shapeFlag){const t=e._;t?n&&1===t?s=!1:(Object(r["h"])(o,e),n||1!==t||delete o._):(s=!e.$stable,vn(e,o)),a=e}else e&&(yn(t,e),a={default:1});if(s)for(const r in o)pn(r)||r in a||delete o[r]};function wn(t,e){const n=Qt;if(null===n)return t;const i=n.proxy,o=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[t,n,a,c=r["b"]]=e[s];Object(r["o"])(t)&&(t={mounted:t,updated:t}),t.deep&&xi(n),o.push({dir:t,instance:i,value:n,oldValue:void 0,arg:a,modifiers:c})}return t}function xn(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let c=a.dir[r];c&&(T(),zr(c,n,8,[t.el,a,t,e]),k())}}function En(){return{app:null,config:{isNativeTag:r["c"],performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let On=0;function Tn(t,e){return function(n,i=null){null==i||Object(r["u"])(i)||(i=null);const o=En(),s=new Set;let a=!1;const c=o.app={_uid:On++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:Oi,get config(){return o.config},set config(t){0},use(t,...e){return s.has(t)||(t&&Object(r["o"])(t.install)?(s.add(t),t.install(c,...e)):Object(r["o"])(t)&&(s.add(t),t(c,...e))),c},mixin(t){return o.mixins.includes(t)||o.mixins.push(t),c},component(t,e){return e?(o.components[t]=e,c):o.components[t]},directive(t,e){return e?(o.directives[t]=e,c):o.directives[t]},mount(r,s,u){if(!a){const l=or(n,i);return l.appContext=o,s&&e?e(l,r):t(l,r,u),a=!0,c._container=r,r.__vue_app__=c,l.component.proxy}},unmount(){a&&(t(null,c._container),delete c._container.__vue_app__)},provide(t,e){return o.provides[t]=e,c}};return c}}function In(){}const kn=ue;function Sn(t){return Cn(t)}function Cn(t,e){In();const{insert:n,remove:i,patchProp:o,createElement:s,createText:a,createComment:c,setText:u,setElementText:l,parentNode:h,nextSibling:f,setScopeId:d=r["d"],cloneNode:p,insertStaticContent:g}=t,m=(t,e,n,r=null,i=null,o=null,s=!1,a=null,c=!!e.dynamicChildren)=>{if(t===e)return;t&&!tr(t,e)&&(r=G(t),q(t,i,o,!0),t=null),-2===e.patchFlag&&(c=!1,e.dynamicChildren=null);const{type:u,ref:l,shapeFlag:h}=e;switch(u){case Bn:v(t,e,n,r);break;case qn:y(t,e,n,r);break;case zn:null==t&&b(e,n,r,s);break;case Vn:N(t,e,n,r,i,o,s,a,c);break;default:1&h?E(t,e,n,r,i,o,s,a,c):6&h?P(t,e,n,r,i,o,s,a,c):(64&h||128&h)&&u.process(t,e,n,r,i,o,s,a,c,Y)}null!=l&&i&&An(l,t&&t.ref,o,e||t,!e)},v=(t,e,r,i)=>{if(null==t)n(e.el=a(e.children),r,i);else{const n=e.el=t.el;e.children!==t.children&&u(n,e.children)}},y=(t,e,r,i)=>{null==t?n(e.el=c(e.children||""),r,i):e.el=t.el},b=(t,e,n,r)=>{[t.el,t.anchor]=g(t.children,e,n,r)},_=({el:t,anchor:e},r,i)=>{let o;while(t&&t!==e)o=f(t),n(t,r,i),t=o;n(e,r,i)},x=({el:t,anchor:e})=>{let n;while(t&&t!==e)n=f(t),i(t),t=n;i(e)},E=(t,e,n,r,i,o,s,a,c)=>{s=s||"svg"===e.type,null==t?O(e,n,r,i,o,s,a,c):C(t,e,i,o,s,a,c)},O=(t,e,i,a,c,u,h,f)=>{let d,g;const{type:m,props:v,shapeFlag:y,transition:b,patchFlag:_,dirs:w}=t;if(t.el&&void 0!==p&&-1===_)d=t.el=p(t.el);else{if(d=t.el=s(t.type,u,v&&v.is,v),8&y?l(d,t.children):16&y&&S(t.children,d,null,a,c,u&&"foreignObject"!==m,h,f),w&&xn(t,null,a,"created"),v){for(const e in v)"value"===e||Object(r["y"])(e)||o(d,e,null,v[e],u,t.children,a,c,K);"value"in v&&o(d,"value",null,v.value),(g=v.onVnodeBeforeMount)&&jn(g,a,t)}I(d,t,t.scopeId,h,a)}w&&xn(t,null,a,"beforeMount");const x=(!c||c&&!c.pendingBranch)&&b&&!b.persisted;x&&b.beforeEnter(d),n(d,e,i),((g=v&&v.onVnodeMounted)||x||w)&&kn(()=>{g&&jn(g,a,t),x&&b.enter(d),w&&xn(t,null,a,"mounted")},c)},I=(t,e,n,r,i)=>{if(n&&d(t,n),r)for(let o=0;o<r.length;o++)d(t,r[o]);if(i){let n=i.subTree;if(e===n){const e=i.vnode;I(t,e,e.scopeId,e.slotScopeIds,i.parent)}}},S=(t,e,n,r,i,o,s,a,c=0)=>{for(let u=c;u<t.length;u++){const c=t[u]=a?dr(t[u]):fr(t[u]);m(null,c,e,n,r,i,o,s,a)}},C=(t,e,n,i,s,a,c)=>{const u=e.el=t.el;let{patchFlag:h,dynamicChildren:f,dirs:d}=e;h|=16&t.patchFlag;const p=t.props||r["b"],g=e.props||r["b"];let m;(m=g.onVnodeBeforeUpdate)&&jn(m,n,e,t),d&&xn(e,t,n,"beforeUpdate");const v=s&&"foreignObject"!==e.type;if(f?A(t.dynamicChildren,f,u,n,i,v,a):c||F(t,e,u,null,n,i,v,a,!1),h>0){if(16&h)j(u,e,p,g,n,i,s);else if(2&h&&p.class!==g.class&&o(u,"class",null,g.class,s),4&h&&o(u,"style",p.style,g.style,s),8&h){const r=e.dynamicProps;for(let e=0;e<r.length;e++){const a=r[e],c=p[a],l=g[a];l===c&&"value"!==a||o(u,a,c,l,s,t.children,n,i,K)}}1&h&&t.children!==e.children&&l(u,e.children)}else c||null!=f||j(u,e,p,g,n,i,s);((m=g.onVnodeUpdated)||d)&&kn(()=>{m&&jn(m,n,e,t),d&&xn(e,t,n,"updated")},i)},A=(t,e,n,r,i,o,s)=>{for(let a=0;a<e.length;a++){const c=t[a],u=e[a],l=c.el&&(c.type===Vn||!tr(c,u)||70&c.shapeFlag)?h(c.el):n;m(c,u,l,null,r,i,o,s,!0)}},j=(t,e,n,i,s,a,c)=>{if(n!==i){for(const u in i){if(Object(r["y"])(u))continue;const l=i[u],h=n[u];l!==h&&"value"!==u&&o(t,u,h,l,c,e.children,s,a,K)}if(n!==r["b"])for(const u in n)Object(r["y"])(u)||u in i||o(t,u,n[u],null,c,e.children,s,a,K);"value"in i&&o(t,"value",n.value,i.value)}},N=(t,e,r,i,o,s,c,u,l)=>{const h=e.el=t?t.el:a(""),f=e.anchor=t?t.anchor:a("");let{patchFlag:d,dynamicChildren:p,slotScopeIds:g}=e;g&&(u=u?u.concat(g):g),null==t?(n(h,r,i),n(f,r,i),S(e.children,r,f,o,s,c,u,l)):d>0&&64&d&&p&&t.dynamicChildren?(A(t.dynamicChildren,p,r,o,s,c,u),(null!=e.key||o&&e===o.subTree)&&Nn(t,e,!0)):F(t,e,r,f,o,s,c,u,l)},P=(t,e,n,r,i,o,s,a,c)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?i.ctx.activate(e,n,r,s,c):D(e,n,r,i,o,s,c):R(t,e,c)},D=(t,e,n,r,i,o,s)=>{const a=t.component=Or(t,r,i);if(Oe(t)&&(a.ctx.renderer=Y),Pr(a),a.asyncDep){if(i&&i.registerDep(a,M),!t.el){const t=a.subTree=or(qn);y(null,t,e,n)}}else M(a,t,e,n,i,o,s)},R=(t,e,n)=>{const r=e.component=t.component;if(oe(t,e,n)){if(r.asyncDep&&!r.asyncResolved)return void L(r,e,n);r.next=e,ui(r.update),r.update()}else e.component=t.component,e.el=t.el,r.vnode=e},M=(t,e,n,i,o,s,a)=>{const c=()=>{if(t.isMounted){let e,{next:n,bu:i,u:c,parent:l,vnode:f}=t,d=n;0,u.allowRecurse=!1,n?(n.el=f.el,L(t,n,a)):n=f,i&&Object(r["m"])(i),(e=n.props&&n.props.onVnodeBeforeUpdate)&&jn(e,l,n,f),u.allowRecurse=!0;const p=ne(t);0;const g=t.subTree;t.subTree=p,m(g,p,h(g.el),G(g),t,o,s),n.el=p.el,null===d&&ae(t,p.el),c&&kn(c,o),(e=n.props&&n.props.onVnodeUpdated)&&kn(()=>jn(e,l,n,f),o)}else{let a;const{el:c,props:l}=e,{bm:h,m:f,parent:d}=t,p=Ee(e);if(u.allowRecurse=!1,h&&Object(r["m"])(h),!p&&(a=l&&l.onVnodeBeforeMount)&&jn(a,d,e),u.allowRecurse=!0,c&&X){const n=()=>{t.subTree=ne(t),X(c,t.subTree,t,o,null)};p?e.type.__asyncLoader().then(()=>!t.isUnmounted&&n()):n()}else{0;const r=t.subTree=ne(t);0,m(null,r,n,i,t,o,s),e.el=r.el}if(f&&kn(f,o),!p&&(a=l&&l.onVnodeMounted)){const t=e;kn(()=>jn(a,d,t),o)}256&e.shapeFlag&&t.a&&kn(t.a,o),t.isMounted=!0,e=n=i=null}},u=new w(c,()=>ai(t.update),t.scope),l=t.update=u.run.bind(u);l.id=t.uid,u.allowRecurse=l.allowRecurse=!0,l()},L=(t,e,n)=>{e.component=t;const r=t.vnode.props;t.vnode=e,t.next=null,sn(t,e.props,r,n),_n(t,e.children,n),T(),di(void 0,t.update),k()},F=(t,e,n,r,i,o,s,a,c=!1)=>{const u=t&&t.children,h=t?t.shapeFlag:0,f=e.children,{patchFlag:d,shapeFlag:p}=e;if(d>0){if(128&d)return void V(u,f,n,r,i,o,s,a,c);if(256&d)return void U(u,f,n,r,i,o,s,a,c)}8&p?(16&h&&K(u,i,o),f!==u&&l(n,f)):16&h?16&p?V(u,f,n,r,i,o,s,a,c):K(u,i,o,!0):(8&h&&l(n,""),16&p&&S(f,n,r,i,o,s,a,c))},U=(t,e,n,i,o,s,a,c,u)=>{t=t||r["a"],e=e||r["a"];const l=t.length,h=e.length,f=Math.min(l,h);let d;for(d=0;d<f;d++){const r=e[d]=u?dr(e[d]):fr(e[d]);m(t[d],r,n,null,o,s,a,c,u)}l>h?K(t,o,s,!0,!1,f):S(e,n,i,o,s,a,c,u,f)},V=(t,e,n,i,o,s,a,c,u)=>{let l=0;const h=e.length;let f=t.length-1,d=h-1;while(l<=f&&l<=d){const r=t[l],i=e[l]=u?dr(e[l]):fr(e[l]);if(!tr(r,i))break;m(r,i,n,null,o,s,a,c,u),l++}while(l<=f&&l<=d){const r=t[f],i=e[d]=u?dr(e[d]):fr(e[d]);if(!tr(r,i))break;m(r,i,n,null,o,s,a,c,u),f--,d--}if(l>f){if(l<=d){const t=d+1,r=t<h?e[t].el:i;while(l<=d)m(null,e[l]=u?dr(e[l]):fr(e[l]),n,r,o,s,a,c,u),l++}}else if(l>d)while(l<=f)q(t[l],o,s,!0),l++;else{const p=l,g=l,v=new Map;for(l=g;l<=d;l++){const t=e[l]=u?dr(e[l]):fr(e[l]);null!=t.key&&v.set(t.key,l)}let y,b=0;const _=d-g+1;let w=!1,x=0;const E=new Array(_);for(l=0;l<_;l++)E[l]=0;for(l=p;l<=f;l++){const r=t[l];if(b>=_){q(r,o,s,!0);continue}let i;if(null!=r.key)i=v.get(r.key);else for(y=g;y<=d;y++)if(0===E[y-g]&&tr(r,e[y])){i=y;break}void 0===i?q(r,o,s,!0):(E[i-g]=l+1,i>=x?x=i:w=!0,m(r,e[i],n,null,o,s,a,c,u),b++)}const O=w?Pn(E):r["a"];for(y=O.length-1,l=_-1;l>=0;l--){const t=g+l,r=e[t],f=t+1<h?e[t+1].el:i;0===E[l]?m(null,r,n,f,o,s,a,c,u):w&&(y<0||l!==O[y]?B(r,n,f,2):y--)}}},B=(t,e,r,i,o=null)=>{const{el:s,type:a,transition:c,children:u,shapeFlag:l}=t;if(6&l)return void B(t.component.subTree,e,r,i);if(128&l)return void t.suspense.move(e,r,i);if(64&l)return void a.move(t,e,r,Y);if(a===Vn){n(s,e,r);for(let t=0;t<u.length;t++)B(u[t],e,r,i);return void n(t.anchor,e,r)}if(a===zn)return void _(t,e,r);const h=2!==i&&1&l&&c;if(h)if(0===i)c.beforeEnter(s),n(s,e,r),kn(()=>c.enter(s),o);else{const{leave:t,delayLeave:i,afterLeave:o}=c,a=()=>n(s,e,r),u=()=>{t(s,()=>{a(),o&&o()})};i?i(s,a,u):u()}else n(s,e,r)},q=(t,e,n,r=!1,i=!1)=>{const{type:o,props:s,ref:a,children:c,dynamicChildren:u,shapeFlag:l,patchFlag:h,dirs:f}=t;if(null!=a&&An(a,null,n,t,!0),256&l)return void e.ctx.deactivate(t);const d=1&l&&f,p=!Ee(t);let g;if(p&&(g=s&&s.onVnodeBeforeUnmount)&&jn(g,e,t),6&l)H(t.component,n,r);else{if(128&l)return void t.suspense.unmount(n,r);d&&xn(t,null,e,"beforeUnmount"),64&l?t.type.remove(t,e,n,i,Y,r):u&&(o!==Vn||h>0&&64&h)?K(u,e,n,!1,!0):(o===Vn&&384&h||!i&&16&l)&&K(c,e,n),r&&z(t)}(p&&(g=s&&s.onVnodeUnmounted)||d)&&kn(()=>{g&&jn(g,e,t),d&&xn(t,null,e,"unmounted")},n)},z=t=>{const{type:e,el:n,anchor:r,transition:o}=t;if(e===Vn)return void W(n,r);if(e===zn)return void x(t);const s=()=>{i(n),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&t.shapeFlag&&o&&!o.persisted){const{leave:e,delayLeave:r}=o,i=()=>e(n,s);r?r(t.el,s,i):i()}else s()},W=(t,e)=>{let n;while(t!==e)n=f(t),i(t),t=n;i(e)},H=(t,e,n)=>{const{bum:i,scope:o,update:s,subTree:a,um:c}=t;i&&Object(r["m"])(i),o.stop(),s&&(s.active=!1,q(a,t,e,n)),c&&kn(c,e),kn(()=>{t.isUnmounted=!0},e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},K=(t,e,n,r=!1,i=!1,o=0)=>{for(let s=o;s<t.length;s++)q(t[s],e,n,r,i)},G=t=>6&t.shapeFlag?G(t.component.subTree):128&t.shapeFlag?t.suspense.next():f(t.anchor||t.el),$=(t,e,n)=>{null==t?e._vnode&&q(e._vnode,null,null,!0):m(e._vnode||null,t,e,null,null,null,n),pi(),e._vnode=t},Y={p:m,um:q,m:B,r:z,mt:D,mc:S,pc:F,pbc:A,n:G,o:t};let Q,X;return e&&([Q,X]=e(Y)),{render:$,hydrate:Q,createApp:Tn($,Q)}}function An(t,e,n,i,o=!1){if(Object(r["n"])(t))return void t.forEach((t,s)=>An(t,e&&(Object(r["n"])(e)?e[s]:e),n,i,o));if(Ee(i)&&!o)return;const s=4&i.shapeFlag?Ur(i.component)||i.component.proxy:i.el,a=o?null:s,{i:c,r:u}=t;const l=e&&e.r,h=c.refs===r["b"]?c.refs={}:c.refs,f=c.setupState;if(null!=l&&l!==u&&(Object(r["C"])(l)?(h[l]=null,Object(r["j"])(f,l)&&(f[l]=null)):Lt(l)&&(l.value=null)),Object(r["C"])(u)){const t=()=>{h[u]=a,Object(r["j"])(f,u)&&(f[u]=a)};a?(t.id=-1,kn(t,n)):t()}else if(Lt(u)){const t=()=>{u.value=a};a?(t.id=-1,kn(t,n)):t()}else Object(r["o"])(u)&&qr(u,c,12,[a,h])}function jn(t,e,n,r=null){zr(t,e,7,[n,r])}function Nn(t,e,n=!1){const i=t.children,o=e.children;if(Object(r["n"])(i)&&Object(r["n"])(o))for(let r=0;r<i.length;r++){const t=i[r];let e=o[r];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=o[r]=dr(o[r]),e.el=t.el),n||Nn(t,e))}}function Pn(t){const e=t.slice(),n=[0];let r,i,o,s,a;const c=t.length;for(r=0;r<c;r++){const c=t[r];if(0!==c){if(i=n[n.length-1],t[i]<c){e[r]=i,n.push(r);continue}o=0,s=n.length-1;while(o<s)a=o+s>>1,t[n[a]]<c?o=a+1:s=a;c<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}o=n.length,s=n[o-1];while(o-- >0)n[o]=s,s=e[s];return n}const Dn=t=>t.__isTeleport;const Rn="components";function Mn(t,e){return Fn(Rn,t,!0,e)||t}const Ln=Symbol();function Fn(t,e,n=!0,i=!1){const o=Qt||Tr;if(o){const n=o.type;if(t===Rn){const t=Vr(n);if(t&&(t===e||t===Object(r["e"])(e)||t===Object(r["f"])(Object(r["e"])(e))))return n}const s=Un(o[t]||n[t],e)||Un(o.appContext[t],e);return!s&&i?n:s}}function Un(t,e){return t&&(t[e]||t[Object(r["e"])(e)]||t[Object(r["f"])(Object(r["e"])(e))])}const Vn=Symbol(void 0),Bn=Symbol(void 0),qn=Symbol(void 0),zn=Symbol(void 0),Wn=[];let Hn=null;function Kn(t=!1){Wn.push(Hn=t?null:[])}function Gn(){Wn.pop(),Hn=Wn[Wn.length-1]||null}let $n=1;function Yn(t){$n+=t}function Qn(t){return t.dynamicChildren=$n>0?Hn||r["a"]:null,Gn(),$n>0&&Hn&&Hn.push(t),t}function Xn(t,e,n,r,i,o){return Qn(ir(t,e,n,r,i,o,!0))}function Jn(t,e,n,r,i){return Qn(or(t,e,n,r,i,!0))}function Zn(t){return!!t&&!0===t.__v_isVNode}function tr(t,e){return t.type===e.type&&t.key===e.key}const er="__vInternal",nr=({key:t})=>null!=t?t:null,rr=({ref:t})=>null!=t?Object(r["C"])(t)||Lt(t)||Object(r["o"])(t)?{i:Qt,r:t}:t:null;function ir(t,e=null,n=null,i=0,o=null,s=(t===Vn?0:1),a=!1,c=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&nr(e),ref:e&&rr(e),scopeId:Xt,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null};return c?(pr(u,n),128&s&&t.normalize(u)):n&&(u.shapeFlag|=Object(r["C"])(n)?8:16),$n>0&&!a&&Hn&&(u.patchFlag>0||6&s)&&32!==u.patchFlag&&Hn.push(u),u}const or=sr;function sr(t,e=null,n=null,i=0,o=null,s=!1){if(t&&t!==Ln||(t=qn),Zn(t)){const r=cr(t,e,!0);return n&&pr(r,n),r}if(Br(t)&&(t=t.__vccOpts),e){e=ar(e);let{class:t,style:n}=e;t&&!Object(r["C"])(t)&&(e.class=Object(r["H"])(t)),Object(r["u"])(n)&&(jt(n)&&!Object(r["n"])(n)&&(n=Object(r["h"])({},n)),e.style=Object(r["I"])(n))}const a=Object(r["C"])(t)?1:ce(t)?128:Dn(t)?64:Object(r["u"])(t)?4:Object(r["o"])(t)?2:0;return ir(t,e,n,i,o,a,s,!0)}function ar(t){return t?jt(t)||er in t?Object(r["h"])({},t):t:null}function cr(t,e,n=!1){const{props:i,ref:o,patchFlag:s,children:a}=t,c=e?gr(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&nr(c),ref:e&&e.ref?n&&o?Object(r["n"])(o)?o.concat(rr(e)):[o,rr(e)]:rr(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Vn?-1===s?16:16|s:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&cr(t.ssContent),ssFallback:t.ssFallback&&cr(t.ssFallback),el:t.el,anchor:t.anchor};return u}function ur(t=" ",e=0){return or(Bn,null,t,e)}function lr(t,e){const n=or(zn,null,t);return n.staticCount=e,n}function hr(t="",e=!1){return e?(Kn(),Jn(qn,null,t)):or(qn,null,t)}function fr(t){return null==t||"boolean"===typeof t?or(qn):Object(r["n"])(t)?or(Vn,null,t.slice()):"object"===typeof t?dr(t):or(Bn,null,String(t))}function dr(t){return null===t.el||t.memo?t:cr(t)}function pr(t,e){let n=0;const{shapeFlag:i}=t;if(null==e)e=null;else if(Object(r["n"])(e))n=16;else if("object"===typeof e){if(65&i){const n=e.default;return void(n&&(n._c&&(n._d=!1),pr(t,n()),n._c&&(n._d=!0)))}{n=32;const r=e._;r||er in e?3===r&&Qt&&(1===Qt.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=Qt}}else Object(r["o"])(e)?(e={default:e,_ctx:Qt},n=32):(e=String(e),64&i?(n=16,e=[ur(e)]):n=8);t.children=e,t.shapeFlag|=n}function gr(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const t in i)if("class"===t)e.class!==i.class&&(e.class=Object(r["H"])([e.class,i.class]));else if("style"===t)e.style=Object(r["I"])([e.style,i.style]);else if(Object(r["v"])(t)){const n=e[t],r=i[t];n!==r&&(e[t]=n?[].concat(n,r):r)}else""!==t&&(e[t]=i[t])}return e}function mr(t,e,n,i){let o;const s=n&&n[i];if(Object(r["n"])(t)||Object(r["C"])(t)){o=new Array(t.length);for(let n=0,r=t.length;n<r;n++)o[n]=e(t[n],n,void 0,s&&s[n])}else if("number"===typeof t){0,o=new Array(t);for(let n=0;n<t;n++)o[n]=e(n+1,n,void 0,s&&s[n])}else if(Object(r["u"])(t))if(t[Symbol.iterator])o=Array.from(t,(t,n)=>e(t,n,void 0,s&&s[n]));else{const n=Object.keys(t);o=new Array(n.length);for(let r=0,i=n.length;r<i;r++){const i=n[r];o[r]=e(t[i],i,r,s&&s[r])}}else o=[];return n&&(n[i]=o),o}function vr(t,e,n={},r,i){if(Qt.isCE)return or("slot","default"===e?null:{name:e},r&&r());let o=t[e];o&&o._c&&(o._d=!1),Kn();const s=o&&yr(o(n)),a=Jn(Vn,{key:n.key||"_"+e},s||(r?r():[]),s&&1===t._?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function yr(t){return t.some(t=>!Zn(t)||t.type!==qn&&!(t.type===Vn&&!yr(t.children)))?t:null}const br=t=>t?Cr(t)?Ur(t)||t.proxy:br(t.parent):null,_r=Object(r["h"])(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>br(t.parent),$root:t=>br(t.root),$emit:t=>t.emit,$options:t=>Ye(t),$forceUpdate:t=>()=>ai(t.update),$nextTick:t=>oi.bind(t.proxy),$watch:t=>_i.bind(t)}),wr={get({_:t},e){const{ctx:n,setupState:i,data:o,props:s,accessCache:a,type:c,appContext:u}=t;let l;if("$"!==e[0]){const c=a[e];if(void 0!==c)switch(c){case 0:return i[e];case 1:return o[e];case 3:return n[e];case 2:return s[e]}else{if(i!==r["b"]&&Object(r["j"])(i,e))return a[e]=0,i[e];if(o!==r["b"]&&Object(r["j"])(o,e))return a[e]=1,o[e];if((l=t.propsOptions[0])&&Object(r["j"])(l,e))return a[e]=2,s[e];if(n!==r["b"]&&Object(r["j"])(n,e))return a[e]=3,n[e];We&&(a[e]=4)}}const h=_r[e];let f,d;return h?("$attrs"===e&&S(t,"get",e),h(t)):(f=c.__cssModules)&&(f=f[e])?f:n!==r["b"]&&Object(r["j"])(n,e)?(a[e]=3,n[e]):(d=u.config.globalProperties,Object(r["j"])(d,e)?d[e]:void 0)},set({_:t},e,n){const{data:i,setupState:o,ctx:s}=t;if(o!==r["b"]&&Object(r["j"])(o,e))o[e]=n;else if(i!==r["b"]&&Object(r["j"])(i,e))i[e]=n;else if(Object(r["j"])(t.props,e))return!1;return("$"!==e[0]||!(e.slice(1)in t))&&(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:o,propsOptions:s}},a){let c;return void 0!==n[a]||t!==r["b"]&&Object(r["j"])(t,a)||e!==r["b"]&&Object(r["j"])(e,a)||(c=s[0])&&Object(r["j"])(c,a)||Object(r["j"])(i,a)||Object(r["j"])(_r,a)||Object(r["j"])(o.config.globalProperties,a)}};const xr=En();let Er=0;function Or(t,e,n){const i=t.type,o=(e?e.appContext:t.appContext)||xr,a={uid:Er++,vnode:t,type:i,parent:e,appContext:o,root:null,next:null,subTree:null,update:null,scope:new s(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:un(i,o),emitsOptions:$t(i,o),emit:null,emitted:null,propsDefaults:r["b"],inheritAttrs:i.inheritAttrs,ctx:r["b"],data:r["b"],props:r["b"],attrs:r["b"],slots:r["b"],refs:r["b"],setupState:r["b"],setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=Gt.bind(null,a),t.ce&&t.ce(a),a}let Tr=null;const Ir=()=>Tr||Qt,kr=t=>{Tr=t,t.scope.on()},Sr=()=>{Tr&&Tr.scope.off(),Tr=null};function Cr(t){return 4&t.vnode.shapeFlag}let Ar,jr,Nr=!1;function Pr(t,e=!1){Nr=e;const{props:n,children:r}=t.vnode,i=Cr(t);on(t,n,i,e),bn(t,r);const o=i?Dr(t,e):void 0;return Nr=!1,o}function Dr(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Pt(new Proxy(t.ctx,wr));const{setup:i}=n;if(i){const n=t.setupContext=i.length>1?Fr(t):null;kr(t),T();const o=qr(i,t,0,[t.props,n]);if(k(),Sr(),Object(r["x"])(o)){if(o.then(Sr,Sr),e)return o.then(n=>{Rr(t,n,e)}).catch(e=>{Wr(e,t,0)});t.asyncDep=o}else Rr(t,o,e)}else Mr(t,e)}function Rr(t,e,n){Object(r["o"])(e)?t.render=e:Object(r["u"])(e)&&(t.setupState=Wt(e)),Mr(t,n)}function Mr(t,e,n){const i=t.type;if(!t.render){if(Ar&&!i.render){const e=i.template;if(e){0;const{isCustomElement:n,compilerOptions:o}=t.appContext.config,{delimiters:s,compilerOptions:a}=i,c=Object(r["h"])(Object(r["h"])({isCustomElement:n,delimiters:s},o),a);i.render=Ar(e,c)}}t.render=i.render||r["d"],jr&&jr(t)}kr(t),T(),He(t),k(),Sr()}function Lr(t){return new Proxy(t.attrs,{get(e,n){return S(t,"get","$attrs"),e[n]}})}function Fr(t){const e=e=>{t.exposed=e||{}};let n;return{get attrs(){return n||(n=Lr(t))},slots:t.slots,emit:t.emit,expose:e}}function Ur(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Wt(Pt(t.exposed)),{get(e,n){return n in e?e[n]:n in _r?_r[n](t):void 0}}))}function Vr(t){return Object(r["o"])(t)&&t.displayName||t.name}function Br(t){return Object(r["o"])(t)&&"__vccOpts"in t}function qr(t,e,n,r){let i;try{i=r?t(...r):t()}catch(o){Wr(o,e,n)}return i}function zr(t,e,n,i){if(Object(r["o"])(t)){const o=qr(t,e,n,i);return o&&Object(r["x"])(o)&&o.catch(t=>{Wr(t,e,n)}),o}const o=[];for(let r=0;r<t.length;r++)o.push(zr(t[r],e,n,i));return o}function Wr(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let r=e.parent;const i=e.proxy,o=n;while(r){const e=r.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,i,o))return;r=r.parent}const s=e.appContext.config.errorHandler;if(s)return void qr(s,null,10,[t,i,o])}Hr(t,n,i,r)}function Hr(t,e,n,r=!0){console.error(t)}let Kr=!1,Gr=!1;const $r=[];let Yr=0;const Qr=[];let Xr=null,Jr=0;const Zr=[];let ti=null,ei=0;const ni=Promise.resolve();let ri=null,ii=null;function oi(t){const e=ri||ni;return t?e.then(this?t.bind(this):t):e}function si(t){let e=Yr+1,n=$r.length;while(e<n){const r=e+n>>>1,i=gi($r[r]);i<t?e=r+1:n=r}return e}function ai(t){$r.length&&$r.includes(t,Kr&&t.allowRecurse?Yr+1:Yr)||t===ii||(null==t.id?$r.push(t):$r.splice(si(t.id),0,t),ci())}function ci(){Kr||Gr||(Gr=!0,ri=ni.then(mi))}function ui(t){const e=$r.indexOf(t);e>Yr&&$r.splice(e,1)}function li(t,e,n,i){Object(r["n"])(t)?n.push(...t):e&&e.includes(t,t.allowRecurse?i+1:i)||n.push(t),ci()}function hi(t){li(t,Xr,Qr,Jr)}function fi(t){li(t,ti,Zr,ei)}function di(t,e=null){if(Qr.length){for(ii=e,Xr=[...new Set(Qr)],Qr.length=0,Jr=0;Jr<Xr.length;Jr++)Xr[Jr]();Xr=null,Jr=0,ii=null,di(t,e)}}function pi(t){if(Zr.length){const t=[...new Set(Zr)];if(Zr.length=0,ti)return void ti.push(...t);for(ti=t,ti.sort((t,e)=>gi(t)-gi(e)),ei=0;ei<ti.length;ei++)ti[ei]();ti=null,ei=0}}const gi=t=>null==t.id?1/0:t.id;function mi(t){Gr=!1,Kr=!0,di(t),$r.sort((t,e)=>gi(t)-gi(e));try{for(Yr=0;Yr<$r.length;Yr++){const t=$r[Yr];t&&!1!==t.active&&qr(t,null,14)}}finally{Yr=0,$r.length=0,pi(t),Kr=!1,ri=null,($r.length||Qr.length||Zr.length)&&mi(t)}}const vi={};function yi(t,e,n){return bi(t,e,n)}function bi(t,e,{immediate:n,deep:i,flush:o,onTrack:s,onTrigger:a}=r["b"]){const c=Tr;let u,l,h=!1,f=!1;if(Lt(t)?(u=()=>t.value,h=!!t._shallow):Ct(t)?(u=()=>t,i=!0):Object(r["n"])(t)?(f=!0,h=t.some(Ct),u=()=>t.map(t=>Lt(t)?t.value:Ct(t)?xi(t):Object(r["o"])(t)?qr(t,c,2):void 0)):u=Object(r["o"])(t)?e?()=>qr(t,c,2):()=>{if(!c||!c.isUnmounted)return l&&l(),zr(t,c,3,[d])}:r["d"],e&&i){const t=u;u=()=>xi(t())}let d=t=>{l=v.onStop=()=>{qr(t,c,4)}},p=f?[]:vi;const g=()=>{if(v.active)if(e){const t=v.run();(i||h||(f?t.some((t,e)=>Object(r["i"])(t,p[e])):Object(r["i"])(t,p)))&&(l&&l(),zr(e,c,3,[t,p===vi?void 0:p,d]),p=t)}else v.run()};let m;g.allowRecurse=!!e,m="sync"===o?g:"post"===o?()=>kn(g,c&&c.suspense):()=>{!c||c.isMounted?hi(g):g()};const v=new w(u,m);return e?n?g():p=v.run():"post"===o?kn(v.run.bind(v),c&&c.suspense):v.run(),()=>{v.stop(),c&&c.scope&&Object(r["J"])(c.scope.effects,v)}}function _i(t,e,n){const i=this.proxy,o=Object(r["C"])(t)?t.includes(".")?wi(i,t):()=>i[t]:t.bind(i,i);let s;Object(r["o"])(e)?s=e:(s=e.handler,n=e);const a=Tr;kr(this);const c=bi(o,s.bind(i),n);return a?kr(a):Sr(),c}function wi(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}function xi(t,e=new Set){if(!Object(r["u"])(t)||t["__v_skip"])return t;if(e=e||new Set,e.has(t))return t;if(e.add(t),Lt(t))xi(t.value,e);else if(Object(r["n"])(t))for(let n=0;n<t.length;n++)xi(t[n],e);else if(Object(r["A"])(t)||Object(r["s"])(t))t.forEach(t=>{xi(t,e)});else if(Object(r["w"])(t))for(const n in t)xi(t[n],e);return t}function Ei(t,e,n){const i=arguments.length;return 2===i?Object(r["u"])(e)&&!Object(r["n"])(e)?Zn(e)?or(t,null,[e]):or(t,e):or(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):3===i&&Zn(n)&&(n=[n]),or(t,e,n))}Symbol("");const Oi="3.2.9",Ti="http://www.w3.org/2000/svg",Ii="undefined"!==typeof document?document:null,ki=new Map,Si={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?Ii.createElementNS(Ti,t):Ii.createElement(t,n?{is:n}:void 0);return"select"===t&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:t=>Ii.createTextNode(t),createComment:t=>Ii.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ii.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,r){const i=n?n.previousSibling:e.lastChild;let o=ki.get(t);if(!o){const e=Ii.createElement("template");if(e.innerHTML=r?`<svg>${t}</svg>`:t,o=e.content,r){const t=o.firstChild;while(t.firstChild)o.appendChild(t.firstChild);o.removeChild(t)}ki.set(t,o)}return e.insertBefore(o.cloneNode(!0),n),[i?i.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function Ci(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),null==e?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function Ai(t,e,n){const i=t.style;if(n)if(Object(r["C"])(n)){if(e!==n){const e=i.display;i.cssText=n,"_vod"in t&&(i.display=e)}}else{for(const t in n)Ni(i,t,n[t]);if(e&&!Object(r["C"])(e))for(const t in e)null==n[t]&&Ni(i,t,"")}else t.removeAttribute("style")}const ji=/\s*!important$/;function Ni(t,e,n){if(Object(r["n"])(n))n.forEach(n=>Ni(t,e,n));else if(e.startsWith("--"))t.setProperty(e,n);else{const i=Ri(t,e);ji.test(n)?t.setProperty(Object(r["k"])(i),n.replace(ji,""),"important"):t[i]=n}}const Pi=["Webkit","Moz","ms"],Di={};function Ri(t,e){const n=Di[e];if(n)return n;let i=Object(r["e"])(e);if("filter"!==i&&i in t)return Di[e]=i;i=Object(r["f"])(i);for(let r=0;r<Pi.length;r++){const n=Pi[r]+i;if(n in t)return Di[e]=n}return e}const Mi="http://www.w3.org/1999/xlink";function Li(t,e,n,i,o){if(i&&e.startsWith("xlink:"))null==n?t.removeAttributeNS(Mi,e.slice(6,e.length)):t.setAttributeNS(Mi,e,n);else{const i=Object(r["B"])(e);null==n||i&&!Object(r["l"])(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function Fi(t,e,n,i,o,s,a){if("innerHTML"===e||"textContent"===e)return i&&a(i,o,s),void(t[e]=null==n?"":n);if("value"===e&&"PROGRESS"!==t.tagName){t._value=n;const r=null==n?"":n;return t.value!==r&&(t.value=r),void(null==n&&t.removeAttribute(e))}if(""===n||null==n){const i=typeof t[e];if("boolean"===i)return void(t[e]=Object(r["l"])(n));if(null==n&&"string"===i)return t[e]="",void t.removeAttribute(e);if("number"===i){try{t[e]=0}catch(c){}return void t.removeAttribute(e)}}try{t[e]=n}catch(u){0}}let Ui=Date.now,Vi=!1;if("undefined"!==typeof window){Ui()>document.createEvent("Event").timeStamp&&(Ui=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);Vi=!!(t&&Number(t[1])<=53)}let Bi=0;const qi=Promise.resolve(),zi=()=>{Bi=0},Wi=()=>Bi||(qi.then(zi),Bi=Ui());function Hi(t,e,n,r){t.addEventListener(e,n,r)}function Ki(t,e,n,r){t.removeEventListener(e,n,r)}function Gi(t,e,n,r,i=null){const o=t._vei||(t._vei={}),s=o[e];if(r&&s)s.value=r;else{const[n,a]=Yi(e);if(r){const s=o[e]=Qi(r,i);Hi(t,n,s,a)}else s&&(Ki(t,n,s,a),o[e]=void 0)}}const $i=/(?:Once|Passive|Capture)$/;function Yi(t){let e;if($i.test(t)){let n;e={};while(n=t.match($i))t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[Object(r["k"])(t.slice(2)),e]}function Qi(t,e){const n=t=>{const r=t.timeStamp||Ui();(Vi||r>=n.attached-1)&&zr(Xi(t,n.value),e,5,[t])};return n.value=t,n.attached=Wi(),n}function Xi(t,e){if(Object(r["n"])(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(t=>e=>!e._stopped&&t(e))}return e}const Ji=/^on[a-z]/,Zi=(t,e,n,i,o=!1,s,a,c,u)=>{"class"===e?Ci(t,i,o):"style"===e?Ai(t,n,i):Object(r["v"])(e)?Object(r["t"])(e)||Gi(t,e,n,i,a):("."===e[0]?(e=e.slice(1),1):"^"===e[0]?(e=e.slice(1),0):to(t,e,i,o))?Fi(t,e,i,s,a,c,u):("true-value"===e?t._trueValue=i:"false-value"===e&&(t._falseValue=i),Li(t,e,i,o))};function to(t,e,n,i){return i?"innerHTML"===e||"textContent"===e||!!(e in t&&Ji.test(e)&&Object(r["o"])(n)):"spellcheck"!==e&&"draggable"!==e&&("form"!==e&&(("list"!==e||"INPUT"!==t.tagName)&&(("type"!==e||"TEXTAREA"!==t.tagName)&&((!Ji.test(e)||!Object(r["C"])(n))&&e in t))))}"undefined"!==typeof HTMLElement&&HTMLElement;const eo="transition",no="animation",ro=(t,{slots:e})=>Ei(ge,ao(t),e);ro.displayName="Transition";const io={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},oo=(ro.props=Object(r["h"])({},ge.props,io),(t,e=[])=>{Object(r["n"])(t)?t.forEach(t=>t(...e)):t&&t(...e)}),so=t=>!!t&&(Object(r["n"])(t)?t.some(t=>t.length>1):t.length>1);function ao(t){const e={};for(const r in t)r in io||(e[r]=t[r]);if(!1===t.css)return e;const{name:n="v",type:i,duration:o,enterFromClass:s=n+"-enter-from",enterActiveClass:a=n+"-enter-active",enterToClass:c=n+"-enter-to",appearFromClass:u=s,appearActiveClass:l=a,appearToClass:h=c,leaveFromClass:f=n+"-leave-from",leaveActiveClass:d=n+"-leave-active",leaveToClass:p=n+"-leave-to"}=t,g=co(o),m=g&&g[0],v=g&&g[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:_,onLeave:w,onLeaveCancelled:x,onBeforeAppear:E=y,onAppear:O=b,onAppearCancelled:T=_}=e,I=(t,e,n)=>{ho(t,e?h:c),ho(t,e?l:a),n&&n()},k=(t,e)=>{ho(t,p),ho(t,d),e&&e()},S=t=>(e,n)=>{const r=t?O:b,o=()=>I(e,t,n);oo(r,[e,o]),fo(()=>{ho(e,t?u:s),lo(e,t?h:c),so(r)||go(e,i,m,o)})};return Object(r["h"])(e,{onBeforeEnter(t){oo(y,[t]),lo(t,s),lo(t,a)},onBeforeAppear(t){oo(E,[t]),lo(t,u),lo(t,l)},onEnter:S(!1),onAppear:S(!0),onLeave(t,e){const n=()=>k(t,e);lo(t,f),bo(),lo(t,d),fo(()=>{ho(t,f),lo(t,p),so(w)||go(t,i,v,n)}),oo(w,[t,n])},onEnterCancelled(t){I(t,!1),oo(_,[t])},onAppearCancelled(t){I(t,!0),oo(T,[t])},onLeaveCancelled(t){k(t),oo(x,[t])}})}function co(t){if(null==t)return null;if(Object(r["u"])(t))return[uo(t.enter),uo(t.leave)];{const e=uo(t);return[e,e]}}function uo(t){const e=Object(r["M"])(t);return e}function lo(t,e){e.split(/\s+/).forEach(e=>e&&t.classList.add(e)),(t._vtc||(t._vtc=new Set)).add(e)}function ho(t,e){e.split(/\s+/).forEach(e=>e&&t.classList.remove(e));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function fo(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let po=0;function go(t,e,n,r){const i=t._endId=++po,o=()=>{i===t._endId&&r()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:c}=mo(t,e);if(!s)return r();const u=s+"end";let l=0;const h=()=>{t.removeEventListener(u,f),o()},f=e=>{e.target===t&&++l>=c&&h()};setTimeout(()=>{l<c&&h()},a+1),t.addEventListener(u,f)}function mo(t,e){const n=window.getComputedStyle(t),r=t=>(n[t]||"").split(", "),i=r(eo+"Delay"),o=r(eo+"Duration"),s=vo(i,o),a=r(no+"Delay"),c=r(no+"Duration"),u=vo(a,c);let l=null,h=0,f=0;e===eo?s>0&&(l=eo,h=s,f=o.length):e===no?u>0&&(l=no,h=u,f=c.length):(h=Math.max(s,u),l=h>0?s>u?eo:no:null,f=l?l===eo?o.length:c.length:0);const d=l===eo&&/\b(transform|all)(,|$)/.test(n[eo+"Property"]);return{type:l,timeout:h,propCount:f,hasTransform:d}}function vo(t,e){while(t.length<e.length)t=t.concat(t);return Math.max(...e.map((e,n)=>yo(e)+yo(t[n])))}function yo(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function bo(){return document.body.offsetHeight}new WeakMap,new WeakMap;const _o=t=>{const e=t.props["onUpdate:modelValue"];return Object(r["n"])(e)?t=>Object(r["m"])(e,t):e};function wo(t){t.target.composing=!0}function xo(t){const e=t.target;e.composing&&(e.composing=!1,Eo(e,"input"))}function Eo(t,e){const n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}const Oo={created(t,{modifiers:{lazy:e,trim:n,number:i}},o){t._assign=_o(o);const s=i||o.props&&"number"===o.props.type;Hi(t,e?"change":"input",e=>{if(e.target.composing)return;let i=t.value;n?i=i.trim():s&&(i=Object(r["M"])(i)),t._assign(i)}),n&&Hi(t,"change",()=>{t.value=t.value.trim()}),e||(Hi(t,"compositionstart",wo),Hi(t,"compositionend",xo),Hi(t,"change",xo))},mounted(t,{value:e}){t.value=null==e?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:i,number:o}},s){if(t._assign=_o(s),t.composing)return;if(document.activeElement===t){if(n)return;if(i&&t.value.trim()===e)return;if((o||"number"===t.type)&&Object(r["M"])(t.value)===e)return}const a=null==e?"":e;t.value!==a&&(t.value=a)}};const To={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Io=(t,e)=>n=>{if(!("key"in n))return;const i=Object(r["k"])(n.key);return e.some(t=>t===i||To[t]===i)?t(n):void 0},ko={beforeMount(t,{value:e},{transition:n}){t._vod="none"===t.style.display?"":t.style.display,n&&e?n.beforeEnter(t):So(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!==!n&&(r?e?(r.beforeEnter(t),So(t,!0),r.enter(t)):r.leave(t,()=>{So(t,!1)}):So(t,e))},beforeUnmount(t,{value:e}){So(t,e)}};function So(t,e){t.style.display=e?t._vod:"none"}const Co=Object(r["h"])({patchProp:Zi},Si);let Ao;function jo(){return Ao||(Ao=Sn(Co))}const No=(...t)=>{const e=jo().createApp(...t);const{mount:n}=e;return e.mount=t=>{const i=Po(t);if(!i)return;const o=e._component;Object(r["o"])(o)||o.render||o.template||(o.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},e};function Po(t){if(Object(r["C"])(t)){const e=document.querySelector(t);return e}return t}},"7b0b":function(t,e,n){var r=n("1d80");t.exports=function(t){return Object(r(t))}},"7b17":function(t,e,n){"use strict";var r=n("1235"),i=n("39c3");
/*!
  * Bootstrap v5.1.1 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
const o=1e6,s=1e3,a="transitionend",c=t=>null===t||void 0===t?""+t:{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),u=t=>{do{t+=Math.floor(Math.random()*o)}while(document.getElementById(t));return t},l=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n="#"+n.split("#")[1]),e=n&&"#"!==n?n.trim():null}return e},h=t=>{const e=l(t);return e&&document.querySelector(e)?e:null},f=t=>{const e=l(t);return e?document.querySelector(e):null},d=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const r=Number.parseFloat(e),i=Number.parseFloat(n);return r||i?(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*s):0},p=t=>{t.dispatchEvent(new Event(a))},g=t=>!(!t||"object"!==typeof t)&&("undefined"!==typeof t.jquery&&(t=t[0]),"undefined"!==typeof t.nodeType),m=t=>g(t)?t.jquery?t[0]:t:"string"===typeof t&&t.length>0?document.querySelector(t):null,v=(t,e,n)=>{Object.keys(n).forEach(r=>{const i=n[r],o=e[r],s=o&&g(o)?"element":c(o);if(!new RegExp(i).test(s))throw new TypeError(`${t.toUpperCase()}: Option "${r}" provided type "${s}" but expected type "${i}".`)})},y=t=>!(!g(t)||0===t.getClientRects().length)&&"visible"===getComputedStyle(t).getPropertyValue("visibility"),b=t=>!t||t.nodeType!==Node.ELEMENT_NODE||(!!t.classList.contains("disabled")||("undefined"!==typeof t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled"))),_=t=>{if(!document.documentElement.attachShadow)return null;if("function"===typeof t.getRootNode){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?_(t.parentNode):null},w=()=>{},x=t=>{t.offsetHeight},E=()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-bs-no-jquery")?t:null},O=[],T=t=>{"loading"===document.readyState?(O.length||document.addEventListener("DOMContentLoaded",()=>{O.forEach(t=>t())}),O.push(t)):t()},I=()=>"rtl"===document.documentElement.dir,k=t=>{T(()=>{const e=E();if(e){const n=t.NAME,r=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=r,t.jQueryInterface)}})},S=t=>{"function"===typeof t&&t()},C=(t,e,n=!0)=>{if(!n)return void S(t);const r=5,i=d(e)+r;let o=!1;const s=({target:n})=>{n===e&&(o=!0,e.removeEventListener(a,s),S(t))};e.addEventListener(a,s),setTimeout(()=>{o||p(e)},i)},A=(t,e,n,r)=>{let i=t.indexOf(e);if(-1===i)return t[!n&&r?t.length-1:0];const o=t.length;return i+=n?1:-1,r&&(i=(i+o)%o),t[Math.max(0,Math.min(i,o-1))]},j=/[^.]*(?=\..*)\.|.*/,N=/\..*/,P=/::\d+$/,D={};let R=1;const M={mouseenter:"mouseover",mouseleave:"mouseout"},L=/^(mouseenter|mouseleave)/i,F=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function U(t,e){return e&&`${e}::${R++}`||t.uidEvent||R++}function V(t){const e=U(t);return t.uidEvent=e,D[e]=D[e]||{},D[e]}function B(t,e){return function n(r){return r.delegateTarget=t,n.oneOff&&Y.off(t,r.type,e),e.apply(t,[r])}}function q(t,e,n){return function r(i){const o=t.querySelectorAll(e);for(let{target:s}=i;s&&s!==this;s=s.parentNode)for(let a=o.length;a--;)if(o[a]===s)return i.delegateTarget=s,r.oneOff&&Y.off(t,i.type,e,n),n.apply(s,[i]);return null}}function z(t,e,n=null){const r=Object.keys(t);for(let i=0,o=r.length;i<o;i++){const o=t[r[i]];if(o.originalHandler===e&&o.delegationSelector===n)return o}return null}function W(t,e,n){const r="string"===typeof e,i=r?n:e;let o=$(t);const s=F.has(o);return s||(o=t),[r,i,o]}function H(t,e,n,r,i){if("string"!==typeof e||!t)return;if(n||(n=r,r=null),L.test(e)){const t=t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)};r?r=t(r):n=t(n)}const[o,s,a]=W(e,n,r),c=V(t),u=c[a]||(c[a]={}),l=z(u,s,o?n:null);if(l)return void(l.oneOff=l.oneOff&&i);const h=U(s,e.replace(j,"")),f=o?q(t,n,r):B(t,n);f.delegationSelector=o?n:null,f.originalHandler=s,f.oneOff=i,f.uidEvent=h,u[h]=f,t.addEventListener(a,f,o)}function K(t,e,n,r,i){const o=z(e[n],r,i);o&&(t.removeEventListener(n,o,Boolean(i)),delete e[n][o.uidEvent])}function G(t,e,n,r){const i=e[n]||{};Object.keys(i).forEach(o=>{if(o.includes(r)){const r=i[o];K(t,e,n,r.originalHandler,r.delegationSelector)}})}function $(t){return t=t.replace(N,""),M[t]||t}const Y={on(t,e,n,r){H(t,e,n,r,!1)},one(t,e,n,r){H(t,e,n,r,!0)},off(t,e,n,r){if("string"!==typeof e||!t)return;const[i,o,s]=W(e,n,r),a=s!==e,c=V(t),u=e.startsWith(".");if("undefined"!==typeof o){if(!c||!c[s])return;return void K(t,c,s,o,i?n:null)}u&&Object.keys(c).forEach(n=>{G(t,c,n,e.slice(1))});const l=c[s]||{};Object.keys(l).forEach(n=>{const r=n.replace(P,"");if(!a||e.includes(r)){const e=l[n];K(t,c,s,e.originalHandler,e.delegationSelector)}})},trigger(t,e,n){if("string"!==typeof e||!t)return null;const r=E(),i=$(e),o=e!==i,s=F.has(i);let a,c=!0,u=!0,l=!1,h=null;return o&&r&&(a=r.Event(e,n),r(t).trigger(a),c=!a.isPropagationStopped(),u=!a.isImmediatePropagationStopped(),l=a.isDefaultPrevented()),s?(h=document.createEvent("HTMLEvents"),h.initEvent(i,c,!0)):h=new CustomEvent(e,{bubbles:c,cancelable:!0}),"undefined"!==typeof n&&Object.keys(n).forEach(t=>{Object.defineProperty(h,t,{get(){return n[t]}})}),l&&h.preventDefault(),u&&t.dispatchEvent(h),h.defaultPrevented&&"undefined"!==typeof a&&a.preventDefault(),h}},Q=new Map;var X={set(t,e,n){Q.has(t)||Q.set(t,new Map);const r=Q.get(t);r.has(e)||0===r.size?r.set(e,n):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`)},get(t,e){return Q.has(t)&&Q.get(t).get(e)||null},remove(t,e){if(!Q.has(t))return;const n=Q.get(t);n.delete(e),0===n.size&&Q.delete(t)}};const J="5.1.1";class Z{constructor(t){t=m(t),t&&(this._element=t,X.set(this._element,this.constructor.DATA_KEY,this))}dispose(){X.remove(this._element,this.constructor.DATA_KEY),Y.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach(t=>{this[t]=null})}_queueCallback(t,e,n=!0){C(t,e,n)}static getInstance(t){return X.get(m(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"===typeof e?e:null)}static get VERSION(){return J}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return"bs."+this.NAME}static get EVENT_KEY(){return"."+this.DATA_KEY}}const tt=(t,e="hide")=>{const n="click.dismiss"+t.EVENT_KEY,r=t.NAME;Y.on(document,n,`[data-bs-dismiss="${r}"]`,(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),b(this))return;const i=f(this)||this.closest("."+r),o=t.getOrCreateInstance(i);o[e]()}))},et="alert",nt="bs.alert",rt="."+nt,it="close"+rt,ot="closed"+rt,st="fade",at="show";class ct extends Z{static get NAME(){return et}close(){const t=Y.trigger(this._element,it);if(t.defaultPrevented)return;this._element.classList.remove(at);const e=this._element.classList.contains(st);this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),Y.trigger(this._element,ot),this.dispose()}static jQueryInterface(t){return this.each((function(){const e=ct.getOrCreateInstance(this);if("string"===typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}tt(ct,"close"),k(ct);const ut="button",lt="bs.button",ht="."+lt,ft=".data-api",dt="active",pt='[data-bs-toggle="button"]',gt=`click${ht}${ft}`;class mt extends Z{static get NAME(){return ut}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(dt))}static jQueryInterface(t){return this.each((function(){const e=mt.getOrCreateInstance(this);"toggle"===t&&e[t]()}))}}function vt(t){return"true"===t||"false"!==t&&(t===Number(t).toString()?Number(t):""===t||"null"===t?null:t)}function yt(t){return t.replace(/[A-Z]/g,t=>"-"+t.toLowerCase())}Y.on(document,gt,pt,t=>{t.preventDefault();const e=t.target.closest(pt),n=mt.getOrCreateInstance(e);n.toggle()}),k(mt);const bt={setDataAttribute(t,e,n){t.setAttribute("data-bs-"+yt(e),n)},removeDataAttribute(t,e){t.removeAttribute("data-bs-"+yt(e))},getDataAttributes(t){if(!t)return{};const e={};return Object.keys(t.dataset).filter(t=>t.startsWith("bs")).forEach(n=>{let r=n.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),e[r]=vt(t.dataset[n])}),e},getDataAttribute(t,e){return vt(t.getAttribute("data-bs-"+yt(e)))},offset(t){const e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset,left:e.left+window.pageXOffset}},position(t){return{top:t.offsetTop,left:t.offsetLeft}}},_t=3,wt={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(t=>t.matches(e))},parents(t,e){const n=[];let r=t.parentNode;while(r&&r.nodeType===Node.ELEMENT_NODE&&r.nodeType!==_t)r.matches(e)&&n.push(r),r=r.parentNode;return n},prev(t,e){let n=t.previousElementSibling;while(n){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;while(n){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>t+':not([tabindex^="-"])').join(", ");return this.find(e,t).filter(t=>!b(t)&&y(t))}},xt="carousel",Et="bs.carousel",Ot="."+Et,Tt=".data-api",It="ArrowLeft",kt="ArrowRight",St=500,Ct=40,At={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},jt={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},Nt="next",Pt="prev",Dt="left",Rt="right",Mt={[It]:Rt,[kt]:Dt},Lt="slide"+Ot,Ft="slid"+Ot,Ut="keydown"+Ot,Vt="mouseenter"+Ot,Bt="mouseleave"+Ot,qt="touchstart"+Ot,zt="touchmove"+Ot,Wt="touchend"+Ot,Ht="pointerdown"+Ot,Kt="pointerup"+Ot,Gt="dragstart"+Ot,$t=`load${Ot}${Tt}`,Yt=`click${Ot}${Tt}`,Qt="carousel",Xt="active",Jt="slide",Zt="carousel-item-end",te="carousel-item-start",ee="carousel-item-next",ne="carousel-item-prev",re="pointer-event",ie=".active",oe=".active.carousel-item",se=".carousel-item",ae=".carousel-item img",ce=".carousel-item-next, .carousel-item-prev",ue=".carousel-indicators",le="[data-bs-target]",he="[data-bs-slide], [data-bs-slide-to]",fe='[data-bs-ride="carousel"]',de="touch",pe="pen";class ge extends Z{constructor(t,e){super(t),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._indicatorsElement=wt.findOne(ue,this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent),this._addEventListeners()}static get Default(){return At}static get NAME(){return xt}next(){this._slide(Nt)}nextWhenVisible(){!document.hidden&&y(this._element)&&this.next()}prev(){this._slide(Pt)}pause(t){t||(this._isPaused=!0),wt.findOne(ce,this._element)&&(p(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(t){this._activeElement=wt.findOne(oe,this._element);const e=this._getItemIndex(this._activeElement);if(t>this._items.length-1||t<0)return;if(this._isSliding)return void Y.one(this._element,Ft,()=>this.to(t));if(e===t)return this.pause(),void this.cycle();const n=t>e?Nt:Pt;this._slide(n,this._items[t])}_getConfig(t){return t={...At,...bt.getDataAttributes(this._element),..."object"===typeof t?t:{}},v(xt,t,jt),t}_handleSwipe(){const t=Math.abs(this.touchDeltaX);if(t<=Ct)return;const e=t/this.touchDeltaX;this.touchDeltaX=0,e&&this._slide(e>0?Rt:Dt)}_addEventListeners(){this._config.keyboard&&Y.on(this._element,Ut,t=>this._keydown(t)),"hover"===this._config.pause&&(Y.on(this._element,Vt,t=>this.pause(t)),Y.on(this._element,Bt,t=>this.cycle(t))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}_addTouchEventListeners(){const t=t=>this._pointerEvent&&(t.pointerType===pe||t.pointerType===de),e=e=>{t(e)?this.touchStartX=e.clientX:this._pointerEvent||(this.touchStartX=e.touches[0].clientX)},n=t=>{this.touchDeltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this.touchStartX},r=e=>{t(e)&&(this.touchDeltaX=e.clientX-this.touchStartX),this._handleSwipe(),"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(t=>this.cycle(t),St+this._config.interval))};wt.find(ae,this._element).forEach(t=>{Y.on(t,Gt,t=>t.preventDefault())}),this._pointerEvent?(Y.on(this._element,Ht,t=>e(t)),Y.on(this._element,Kt,t=>r(t)),this._element.classList.add(re)):(Y.on(this._element,qt,t=>e(t)),Y.on(this._element,zt,t=>n(t)),Y.on(this._element,Wt,t=>r(t)))}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=Mt[t.key];e&&(t.preventDefault(),this._slide(e))}_getItemIndex(t){return this._items=t&&t.parentNode?wt.find(se,t.parentNode):[],this._items.indexOf(t)}_getItemByOrder(t,e){const n=t===Nt;return A(this._items,e,n,this._config.wrap)}_triggerSlideEvent(t,e){const n=this._getItemIndex(t),r=this._getItemIndex(wt.findOne(oe,this._element));return Y.trigger(this._element,Lt,{relatedTarget:t,direction:e,from:r,to:n})}_setActiveIndicatorElement(t){if(this._indicatorsElement){const e=wt.findOne(ie,this._indicatorsElement);e.classList.remove(Xt),e.removeAttribute("aria-current");const n=wt.find(le,this._indicatorsElement);for(let r=0;r<n.length;r++)if(Number.parseInt(n[r].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(t)){n[r].classList.add(Xt),n[r].setAttribute("aria-current","true");break}}}_updateInterval(){const t=this._activeElement||wt.findOne(oe,this._element);if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);e?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=e):this._config.interval=this._config.defaultInterval||this._config.interval}_slide(t,e){const n=this._directionToOrder(t),r=wt.findOne(oe,this._element),i=this._getItemIndex(r),o=e||this._getItemByOrder(n,r),s=this._getItemIndex(o),a=Boolean(this._interval),c=n===Nt,u=c?te:Zt,l=c?ee:ne,h=this._orderToDirection(n);if(o&&o.classList.contains(Xt))return void(this._isSliding=!1);if(this._isSliding)return;const f=this._triggerSlideEvent(o,h);if(f.defaultPrevented)return;if(!r||!o)return;this._isSliding=!0,a&&this.pause(),this._setActiveIndicatorElement(o),this._activeElement=o;const d=()=>{Y.trigger(this._element,Ft,{relatedTarget:o,direction:h,from:i,to:s})};if(this._element.classList.contains(Jt)){o.classList.add(l),x(o),r.classList.add(u),o.classList.add(u);const t=()=>{o.classList.remove(u,l),o.classList.add(Xt),r.classList.remove(Xt,l,u),this._isSliding=!1,setTimeout(d,0)};this._queueCallback(t,r,!0)}else r.classList.remove(Xt),o.classList.add(Xt),this._isSliding=!1,d();a&&this.cycle()}_directionToOrder(t){return[Rt,Dt].includes(t)?I()?t===Dt?Pt:Nt:t===Dt?Nt:Pt:t}_orderToDirection(t){return[Nt,Pt].includes(t)?I()?t===Pt?Dt:Rt:t===Pt?Rt:Dt:t}static carouselInterface(t,e){const n=ge.getOrCreateInstance(t,e);let{_config:r}=n;"object"===typeof e&&(r={...r,...e});const i="string"===typeof e?e:r.slide;if("number"===typeof e)n.to(e);else if("string"===typeof i){if("undefined"===typeof n[i])throw new TypeError(`No method named "${i}"`);n[i]()}else r.interval&&r.ride&&(n.pause(),n.cycle())}static jQueryInterface(t){return this.each((function(){ge.carouselInterface(this,t)}))}static dataApiClickHandler(t){const e=f(this);if(!e||!e.classList.contains(Qt))return;const n={...bt.getDataAttributes(e),...bt.getDataAttributes(this)},r=this.getAttribute("data-bs-slide-to");r&&(n.interval=!1),ge.carouselInterface(e,n),r&&ge.getInstance(e).to(r),t.preventDefault()}}Y.on(document,Yt,he,ge.dataApiClickHandler),Y.on(window,$t,()=>{const t=wt.find(fe);for(let e=0,n=t.length;e<n;e++)ge.carouselInterface(t[e],ge.getInstance(t[e]))}),k(ge);const me="collapse",ve="bs.collapse",ye="."+ve,be=".data-api",_e={toggle:!0,parent:null},we={toggle:"boolean",parent:"(null|element)"},xe="show"+ye,Ee="shown"+ye,Oe="hide"+ye,Te="hidden"+ye,Ie=`click${ye}${be}`,ke="show",Se="collapse",Ce="collapsing",Ae="collapsed",je="collapse-horizontal",Ne="width",Pe="height",De=".collapse.show, .collapse.collapsing",Re='[data-bs-toggle="collapse"]';class Me extends Z{constructor(t,e){super(t),this._isTransitioning=!1,this._config=this._getConfig(e),this._triggerArray=[];const n=wt.find(Re);for(let r=0,i=n.length;r<i;r++){const t=n[r],e=h(t),i=wt.find(e).filter(t=>t===this._element);null!==e&&i.length&&(this._selector=e,this._triggerArray.push(t))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return _e}static get NAME(){return me}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t,e=[];if(this._config.parent){const t=wt.find(`.${Se} .${Se}`,this._config.parent);e=wt.find(De,this._config.parent).filter(e=>!t.includes(e))}const n=wt.findOne(this._selector);if(e.length){const r=e.find(t=>n!==t);if(t=r?Me.getInstance(r):null,t&&t._isTransitioning)return}const r=Y.trigger(this._element,xe);if(r.defaultPrevented)return;e.forEach(e=>{n!==e&&Me.getOrCreateInstance(e,{toggle:!1}).hide(),t||X.set(e,ve,null)});const i=this._getDimension();this._element.classList.remove(Se),this._element.classList.add(Ce),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const o=()=>{this._isTransitioning=!1,this._element.classList.remove(Ce),this._element.classList.add(Se,ke),this._element.style[i]="",Y.trigger(this._element,Ee)},s=i[0].toUpperCase()+i.slice(1),a="scroll"+s;this._queueCallback(o,this._element,!0),this._element.style[i]=this._element[a]+"px"}hide(){if(this._isTransitioning||!this._isShown())return;const t=Y.trigger(this._element,Oe);if(t.defaultPrevented)return;const e=this._getDimension();this._element.style[e]=this._element.getBoundingClientRect()[e]+"px",x(this._element),this._element.classList.add(Ce),this._element.classList.remove(Se,ke);const n=this._triggerArray.length;for(let i=0;i<n;i++){const t=this._triggerArray[i],e=f(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(Ce),this._element.classList.add(Se),Y.trigger(this._element,Te)};this._element.style[e]="",this._queueCallback(r,this._element,!0)}_isShown(t=this._element){return t.classList.contains(ke)}_getConfig(t){return t={..._e,...bt.getDataAttributes(this._element),...t},t.toggle=Boolean(t.toggle),t.parent=m(t.parent),v(me,t,we),t}_getDimension(){return this._element.classList.contains(je)?Ne:Pe}_initializeChildren(){if(!this._config.parent)return;const t=wt.find(`.${Se} .${Se}`,this._config.parent);wt.find(Re,this._config.parent).filter(e=>!t.includes(e)).forEach(t=>{const e=f(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))})}_addAriaAndCollapsedClass(t,e){t.length&&t.forEach(t=>{e?t.classList.remove(Ae):t.classList.add(Ae),t.setAttribute("aria-expanded",e)})}static jQueryInterface(t){return this.each((function(){const e={};"string"===typeof t&&/show|hide/.test(t)&&(e.toggle=!1);const n=Me.getOrCreateInstance(this,e);if("string"===typeof t){if("undefined"===typeof n[t])throw new TypeError(`No method named "${t}"`);n[t]()}}))}}Y.on(document,Ie,Re,(function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();const e=h(this),n=wt.find(e);n.forEach(t=>{Me.getOrCreateInstance(t,{toggle:!1}).toggle()})})),k(Me);const Le="dropdown",Fe="bs.dropdown",Ue="."+Fe,Ve=".data-api",Be="Escape",qe="Space",ze="Tab",We="ArrowUp",He="ArrowDown",Ke=2,Ge=new RegExp(`${We}|${He}|${Be}`),$e="hide"+Ue,Ye="hidden"+Ue,Qe="show"+Ue,Xe="shown"+Ue,Je=`click${Ue}${Ve}`,Ze=`keydown${Ue}${Ve}`,tn=`keyup${Ue}${Ve}`,en="show",nn="dropup",rn="dropend",on="dropstart",sn="navbar",an='[data-bs-toggle="dropdown"]',cn=".dropdown-menu",un=".navbar-nav",ln=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",hn=I()?"top-end":"top-start",fn=I()?"top-start":"top-end",dn=I()?"bottom-end":"bottom-start",pn=I()?"bottom-start":"bottom-end",gn=I()?"left-start":"right-start",mn=I()?"right-start":"left-start",vn={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},yn={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"};class bn extends Z{constructor(t,e){super(t),this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar()}static get Default(){return vn}static get DefaultType(){return yn}static get NAME(){return Le}toggle(){return this._isShown()?this.hide():this.show()}show(){if(b(this._element)||this._isShown(this._menu))return;const t={relatedTarget:this._element},e=Y.trigger(this._element,Qe,t);if(e.defaultPrevented)return;const n=bn.getParentFromElement(this._element);this._inNavbar?bt.setDataAttribute(this._menu,"popper","none"):this._createPopper(n),"ontouchstart"in document.documentElement&&!n.closest(un)&&[].concat(...document.body.children).forEach(t=>Y.on(t,"mouseover",w)),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(en),this._element.classList.add(en),Y.trigger(this._element,Xe,t)}hide(){if(b(this._element)||!this._isShown(this._menu))return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){const e=Y.trigger(this._element,$e,t);e.defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(t=>Y.off(t,"mouseover",w)),this._popper&&this._popper.destroy(),this._menu.classList.remove(en),this._element.classList.remove(en),this._element.setAttribute("aria-expanded","false"),bt.removeDataAttribute(this._menu,"popper"),Y.trigger(this._element,Ye,t))}_getConfig(t){if(t={...this.constructor.Default,...bt.getDataAttributes(this._element),...t},v(Le,t,this.constructor.DefaultType),"object"===typeof t.reference&&!g(t.reference)&&"function"!==typeof t.reference.getBoundingClientRect)throw new TypeError(Le.toUpperCase()+': Option "reference" provided type "object" without a required "getBoundingClientRect" method.');return t}_createPopper(t){if("undefined"===typeof r)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=t:g(this._config.reference)?e=m(this._config.reference):"object"===typeof this._config.reference&&(e=this._config.reference);const n=this._getPopperConfig(),o=n.modifiers.find(t=>"applyStyles"===t.name&&!1===t.enabled);this._popper=i["a"](e,this._menu,n),o&&bt.setDataAttribute(this._menu,"popper","static")}_isShown(t=this._element){return t.classList.contains(en)}_getMenuElement(){return wt.next(this._element,cn)[0]}_getPlacement(){const t=this._element.parentNode;if(t.classList.contains(rn))return gn;if(t.classList.contains(on))return mn;const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains(nn)?e?fn:hn:e?pn:dn}_detectNavbar(){return null!==this._element.closest("."+sn)}_getOffset(){const{offset:t}=this._config;return"string"===typeof t?t.split(",").map(t=>Number.parseInt(t,10)):"function"===typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return"static"===this._config.display&&(t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,..."function"===typeof this._config.popperConfig?this._config.popperConfig(t):this._config.popperConfig}}_selectMenuItem({key:t,target:e}){const n=wt.find(ln,this._menu).filter(y);n.length&&A(n,e,t===He,!n.includes(e)).focus()}static jQueryInterface(t){return this.each((function(){const e=bn.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}static clearMenus(t){if(t&&(t.button===Ke||"keyup"===t.type&&t.key!==ze))return;const e=wt.find(an);for(let n=0,r=e.length;n<r;n++){const r=bn.getInstance(e[n]);if(!r||!1===r._config.autoClose)continue;if(!r._isShown())continue;const i={relatedTarget:r._element};if(t){const e=t.composedPath(),n=e.includes(r._menu);if(e.includes(r._element)||"inside"===r._config.autoClose&&!n||"outside"===r._config.autoClose&&n)continue;if(r._menu.contains(t.target)&&("keyup"===t.type&&t.key===ze||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;"click"===t.type&&(i.clickEvent=t)}r._completeHide(i)}}static getParentFromElement(t){return f(t)||t.parentNode}static dataApiKeydownHandler(t){if(/input|textarea/i.test(t.target.tagName)?t.key===qe||t.key!==Be&&(t.key!==He&&t.key!==We||t.target.closest(cn)):!Ge.test(t.key))return;const e=this.classList.contains(en);if(!e&&t.key===Be)return;if(t.preventDefault(),t.stopPropagation(),b(this))return;const n=this.matches(an)?this:wt.prev(this,an)[0],r=bn.getOrCreateInstance(n);if(t.key!==Be)return t.key===We||t.key===He?(e||r.show(),void r._selectMenuItem(t)):void(e&&t.key!==qe||bn.clearMenus());r.hide()}}Y.on(document,Ze,an,bn.dataApiKeydownHandler),Y.on(document,Ze,cn,bn.dataApiKeydownHandler),Y.on(document,Je,bn.clearMenus),Y.on(document,tn,bn.clearMenus),Y.on(document,Je,an,(function(t){t.preventDefault(),bn.getOrCreateInstance(this).toggle()})),k(bn);const _n=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",wn=".sticky-top";class xn{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",e=>e+t),this._setElementAttributes(_n,"paddingRight",e=>e+t),this._setElementAttributes(wn,"marginRight",e=>e-t)}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,n){const r=this.getWidth(),i=t=>{if(t!==this._element&&window.innerWidth>t.clientWidth+r)return;this._saveInitialAttribute(t,e);const i=window.getComputedStyle(t)[e];t.style[e]=n(Number.parseFloat(i))+"px"};this._applyManipulationCallback(t,i)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(_n,"paddingRight"),this._resetElementAttributes(wn,"marginRight")}_saveInitialAttribute(t,e){const n=t.style[e];n&&bt.setDataAttribute(t,e,n)}_resetElementAttributes(t,e){const n=t=>{const n=bt.getDataAttribute(t,e);"undefined"===typeof n?t.style.removeProperty(e):(bt.removeDataAttribute(t,e),t.style[e]=n)};this._applyManipulationCallback(t,n)}_applyManipulationCallback(t,e){g(t)?e(t):wt.find(t,this._element).forEach(e)}isOverflowing(){return this.getWidth()>0}}const En={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},On={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},Tn="backdrop",In="fade",kn="show",Sn="mousedown.bs."+Tn;class Cn{constructor(t){this._config=this._getConfig(t),this._isAppended=!1,this._element=null}show(t){this._config.isVisible?(this._append(),this._config.isAnimated&&x(this._getElement()),this._getElement().classList.add(kn),this._emulateAnimation(()=>{S(t)})):S(t)}hide(t){this._config.isVisible?(this._getElement().classList.remove(kn),this._emulateAnimation(()=>{this.dispose(),S(t)})):S(t)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(In),this._element=t}return this._element}_getConfig(t){return t={...En,..."object"===typeof t?t:{}},t.rootElement=m(t.rootElement),v(Tn,t,On),t}_append(){this._isAppended||(this._config.rootElement.append(this._getElement()),Y.on(this._getElement(),Sn,()=>{S(this._config.clickCallback)}),this._isAppended=!0)}dispose(){this._isAppended&&(Y.off(this._element,Sn),this._element.remove(),this._isAppended=!1)}_emulateAnimation(t){C(t,this._getElement(),this._config.isAnimated)}}const An={trapElement:null,autofocus:!0},jn={trapElement:"element",autofocus:"boolean"},Nn="focustrap",Pn="bs.focustrap",Dn="."+Pn,Rn="focusin"+Dn,Mn="keydown.tab"+Dn,Ln="Tab",Fn="forward",Un="backward";class Vn{constructor(t){this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}activate(){const{trapElement:t,autofocus:e}=this._config;this._isActive||(e&&t.focus(),Y.off(document,Dn),Y.on(document,Rn,t=>this._handleFocusin(t)),Y.on(document,Mn,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Y.off(document,Dn))}_handleFocusin(t){const{target:e}=t,{trapElement:n}=this._config;if(e===document||e===n||n.contains(e))return;const r=wt.focusableChildren(n);0===r.length?n.focus():this._lastTabNavDirection===Un?r[r.length-1].focus():r[0].focus()}_handleKeydown(t){t.key===Ln&&(this._lastTabNavDirection=t.shiftKey?Un:Fn)}_getConfig(t){return t={...An,..."object"===typeof t?t:{}},v(Nn,t,jn),t}}const Bn="modal",qn="bs.modal",zn="."+qn,Wn=".data-api",Hn="Escape",Kn={backdrop:!0,keyboard:!0,focus:!0},Gn={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},$n="hide"+zn,Yn="hidePrevented"+zn,Qn="hidden"+zn,Xn="show"+zn,Jn="shown"+zn,Zn="resize"+zn,tr="click.dismiss"+zn,er="keydown.dismiss"+zn,nr="mouseup.dismiss"+zn,rr="mousedown.dismiss"+zn,ir=`click${zn}${Wn}`,or="modal-open",sr="fade",ar="show",cr="modal-static",ur=".modal.show",lr=".modal-dialog",hr=".modal-body",fr='[data-bs-toggle="modal"]';class dr extends Z{constructor(t,e){super(t),this._config=this._getConfig(e),this._dialog=wt.findOne(lr,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new xn}static get Default(){return Kn}static get NAME(){return Bn}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||this._isTransitioning)return;const e=Y.trigger(this._element,Xn,{relatedTarget:t});e.defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(or),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),Y.on(this._dialog,rr,()=>{Y.one(this._element,nr,t=>{t.target===this._element&&(this._ignoreBackdropClick=!0)})}),this._showBackdrop(()=>this._showElement(t)))}hide(){if(!this._isShown||this._isTransitioning)return;const t=Y.trigger(this._element,$n);if(t.defaultPrevented)return;this._isShown=!1;const e=this._isAnimated();e&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove(ar),Y.off(this._element,tr),Y.off(this._dialog,rr),this._queueCallback(()=>this._hideModal(),this._element,e)}dispose(){[window,this._dialog].forEach(t=>Y.off(t,zn)),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Cn({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Vn({trapElement:this._element})}_getConfig(t){return t={...Kn,...bt.getDataAttributes(this._element),..."object"===typeof t?t:{}},v(Bn,t,Gn),t}_showElement(t){const e=this._isAnimated(),n=wt.findOne(hr,this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,n&&(n.scrollTop=0),e&&x(this._element),this._element.classList.add(ar);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Y.trigger(this._element,Jn,{relatedTarget:t})};this._queueCallback(r,this._dialog,e)}_setEscapeEvent(){this._isShown?Y.on(this._element,er,t=>{this._config.keyboard&&t.key===Hn?(t.preventDefault(),this.hide()):this._config.keyboard||t.key!==Hn||this._triggerBackdropTransition()}):Y.off(this._element,er)}_setResizeEvent(){this._isShown?Y.on(window,Zn,()=>this._adjustDialog()):Y.off(window,Zn)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(or),this._resetAdjustments(),this._scrollBar.reset(),Y.trigger(this._element,Qn)})}_showBackdrop(t){Y.on(this._element,tr,t=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:t.target===t.currentTarget&&(!0===this._config.backdrop?this.hide():"static"===this._config.backdrop&&this._triggerBackdropTransition())}),this._backdrop.show(t)}_isAnimated(){return this._element.classList.contains(sr)}_triggerBackdropTransition(){const t=Y.trigger(this._element,Yn);if(t.defaultPrevented)return;const{classList:e,scrollHeight:n,style:r}=this._element,i=n>document.documentElement.clientHeight;!i&&"hidden"===r.overflowY||e.contains(cr)||(i||(r.overflowY="hidden"),e.add(cr),this._queueCallback(()=>{e.remove(cr),i||this._queueCallback(()=>{r.overflowY=""},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),n=e>0;(!n&&t&&!I()||n&&!t&&I())&&(this._element.style.paddingLeft=e+"px"),(n&&!t&&!I()||!n&&t&&I())&&(this._element.style.paddingRight=e+"px")}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each((function(){const n=dr.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof n[t])throw new TypeError(`No method named "${t}"`);n[t](e)}}))}}Y.on(document,ir,fr,(function(t){const e=f(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),Y.one(e,Xn,t=>{t.defaultPrevented||Y.one(e,Qn,()=>{y(this)&&this.focus()})});const n=wt.findOne(ur);n&&dr.getInstance(n).hide();const r=dr.getOrCreateInstance(e);r.toggle(this)})),tt(dr),k(dr);const pr="offcanvas",gr="bs.offcanvas",mr="."+gr,vr=".data-api",yr=`load${mr}${vr}`,br="Escape",_r={backdrop:!0,keyboard:!0,scroll:!1},wr={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},xr="show",Er="offcanvas-backdrop",Or=".offcanvas.show",Tr="show"+mr,Ir="shown"+mr,kr="hide"+mr,Sr="hidden"+mr,Cr=`click${mr}${vr}`,Ar="keydown.dismiss"+mr,jr='[data-bs-toggle="offcanvas"]';class Nr extends Z{constructor(t,e){super(t),this._config=this._getConfig(e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get NAME(){return pr}static get Default(){return _r}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown)return;const e=Y.trigger(this._element,Tr,{relatedTarget:t});if(e.defaultPrevented)return;this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||(new xn).hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(xr);const n=()=>{this._config.scroll||this._focustrap.activate(),Y.trigger(this._element,Ir,{relatedTarget:t})};this._queueCallback(n,this._element,!0)}hide(){if(!this._isShown)return;const t=Y.trigger(this._element,kr);if(t.defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove(xr),this._backdrop.hide();const e=()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||(new xn).reset(),Y.trigger(this._element,Sr)};this._queueCallback(e,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_getConfig(t){return t={..._r,...bt.getDataAttributes(this._element),..."object"===typeof t?t:{}},v(pr,t,wr),t}_initializeBackDrop(){return new Cn({className:Er,isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_initializeFocusTrap(){return new Vn({trapElement:this._element})}_addEventListeners(){Y.on(this._element,Ar,t=>{this._config.keyboard&&t.key===br&&this.hide()})}static jQueryInterface(t){return this.each((function(){const e=Nr.getOrCreateInstance(this,t);if("string"===typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}Y.on(document,Cr,jr,(function(t){const e=f(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),b(this))return;Y.one(e,Sr,()=>{y(this)&&this.focus()});const n=wt.findOne(Or);n&&n!==e&&Nr.getInstance(n).hide();const r=Nr.getOrCreateInstance(e);r.toggle(this)})),Y.on(window,yr,()=>wt.find(Or).forEach(t=>Nr.getOrCreateInstance(t).show())),tt(Nr),k(Nr);const Pr=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Dr=/^aria-[\w-]*$/i,Rr=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/i,Mr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Lr=(t,e)=>{const n=t.nodeName.toLowerCase();if(e.includes(n))return!Pr.has(n)||Boolean(Rr.test(t.nodeValue)||Mr.test(t.nodeValue));const r=e.filter(t=>t instanceof RegExp);for(let i=0,o=r.length;i<o;i++)if(r[i].test(n))return!0;return!1},Fr={"*":["class","dir","id","lang","role",Dr],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function Ur(t,e,n){if(!t.length)return t;if(n&&"function"===typeof n)return n(t);const r=new window.DOMParser,i=r.parseFromString(t,"text/html"),o=Object.keys(e),s=[].concat(...i.body.querySelectorAll("*"));for(let a=0,c=s.length;a<c;a++){const t=s[a],n=t.nodeName.toLowerCase();if(!o.includes(n)){t.remove();continue}const r=[].concat(...t.attributes),i=[].concat(e["*"]||[],e[n]||[]);r.forEach(e=>{Lr(e,i)||t.removeAttribute(e.nodeName)})}return i.body.innerHTML}const Vr="tooltip",Br="bs.tooltip",qr="."+Br,zr="bs-tooltip",Wr=new Set(["sanitize","allowList","sanitizeFn"]),Hr={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},Kr={AUTO:"auto",TOP:"top",RIGHT:I()?"left":"right",BOTTOM:"bottom",LEFT:I()?"right":"left"},Gr={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:Fr,popperConfig:null},$r={HIDE:"hide"+qr,HIDDEN:"hidden"+qr,SHOW:"show"+qr,SHOWN:"shown"+qr,INSERTED:"inserted"+qr,CLICK:"click"+qr,FOCUSIN:"focusin"+qr,FOCUSOUT:"focusout"+qr,MOUSEENTER:"mouseenter"+qr,MOUSELEAVE:"mouseleave"+qr},Yr="fade",Qr="modal",Xr="show",Jr="show",Zr="out",ti=".tooltip-inner",ei="."+Qr,ni="hide.bs.modal",ri="hover",ii="focus",oi="click",si="manual";class ai extends Z{constructor(t,e){if("undefined"===typeof r)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this._config=this._getConfig(e),this.tip=null,this._setListeners()}static get Default(){return Gr}static get NAME(){return Vr}static get Event(){return $r}static get DefaultType(){return Hr}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(t){if(this._isEnabled)if(t){const e=this._initializeOnDelegatedTarget(t);e._activeTrigger.click=!e._activeTrigger.click,e._isWithActiveTrigger()?e._enter(null,e):e._leave(null,e)}else{if(this.getTipElement().classList.contains(Xr))return void this._leave(null,this);this._enter(null,this)}}dispose(){clearTimeout(this._timeout),Y.off(this._element.closest(ei),ni,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this.isWithContent()||!this._isEnabled)return;const t=Y.trigger(this._element,this.constructor.Event.SHOW),e=_(this._element),n=null===e?this._element.ownerDocument.documentElement.contains(this._element):e.contains(this._element);if(t.defaultPrevented||!n)return;"tooltip"===this.constructor.NAME&&this.tip&&this.getTitle()!==this.tip.querySelector(ti).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);const r=this.getTipElement(),o=u(this.constructor.NAME);r.setAttribute("id",o),this._element.setAttribute("aria-describedby",o),this._config.animation&&r.classList.add(Yr);const s="function"===typeof this._config.placement?this._config.placement.call(this,r,this._element):this._config.placement,a=this._getAttachment(s);this._addAttachmentClass(a);const{container:c}=this._config;X.set(r,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(c.append(r),Y.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=i["a"](this._element,r,this._getPopperConfig(a)),r.classList.add(Xr);const l=this._resolvePossibleFunction(this._config.customClass);l&&r.classList.add(...l.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(t=>{Y.on(t,"mouseover",w)});const h=()=>{const t=this._hoverState;this._hoverState=null,Y.trigger(this._element,this.constructor.Event.SHOWN),t===Zr&&this._leave(null,this)},f=this.tip.classList.contains(Yr);this._queueCallback(h,this.tip,f)}hide(){if(!this._popper)return;const t=this.getTipElement(),e=()=>{this._isWithActiveTrigger()||(this._hoverState!==Jr&&t.remove(),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),Y.trigger(this._element,this.constructor.Event.HIDDEN),this._disposePopper())},n=Y.trigger(this._element,this.constructor.Event.HIDE);if(n.defaultPrevented)return;t.classList.remove(Xr),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(t=>Y.off(t,"mouseover",w)),this._activeTrigger[oi]=!1,this._activeTrigger[ii]=!1,this._activeTrigger[ri]=!1;const r=this.tip.classList.contains(Yr);this._queueCallback(e,this.tip,r),this._hoverState=""}update(){null!==this._popper&&this._popper.update()}isWithContent(){return Boolean(this.getTitle())}getTipElement(){if(this.tip)return this.tip;const t=document.createElement("div");t.innerHTML=this._config.template;const e=t.children[0];return this.setContent(e),e.classList.remove(Yr,Xr),this.tip=e,this.tip}setContent(t){this._sanitizeAndSetContent(t,this.getTitle(),ti)}_sanitizeAndSetContent(t,e,n){const r=wt.findOne(n,t);e||!r?this.setElementContent(r,e):r.remove()}setElementContent(t,e){if(null!==t)return g(e)?(e=m(e),void(this._config.html?e.parentNode!==t&&(t.innerHTML="",t.append(e)):t.textContent=e.textContent)):void(this._config.html?(this._config.sanitize&&(e=Ur(e,this._config.allowList,this._config.sanitizeFn)),t.innerHTML=e):t.textContent=e)}getTitle(){const t=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(t)}updateAttachment(t){return"right"===t?"end":"left"===t?"start":t}_initializeOnDelegatedTarget(t,e){return e||this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_getOffset(){const{offset:t}=this._config;return"string"===typeof t?t.split(",").map(t=>Number.parseInt(t,10)):"function"===typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return"function"===typeof t?t.call(this._element):t}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:t=>this._handlePopperPlacementChange(t)}],onFirstUpdate:t=>{t.options.placement!==t.placement&&this._handlePopperPlacementChange(t)}};return{...e,..."function"===typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig}}_addAttachmentClass(t){this.getTipElement().classList.add(`${this._getBasicClassPrefix()}-${this.updateAttachment(t)}`)}_getAttachment(t){return Kr[t.toUpperCase()]}_setListeners(){const t=this._config.trigger.split(" ");t.forEach(t=>{if("click"===t)Y.on(this._element,this.constructor.Event.CLICK,this._config.selector,t=>this.toggle(t));else if(t!==si){const e=t===ri?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,n=t===ri?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;Y.on(this._element,e,this._config.selector,t=>this._enter(t)),Y.on(this._element,n,this._config.selector,t=>this._leave(t))}}),this._hideModalHandler=()=>{this._element&&this.hide()},Y.on(this._element.closest(ei),ni,this._hideModalHandler),this._config.selector?this._config={...this._config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){const t=this._element.getAttribute("title"),e=typeof this._element.getAttribute("data-bs-original-title");(t||"string"!==e)&&(this._element.setAttribute("data-bs-original-title",t||""),!t||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",t),this._element.setAttribute("title",""))}_enter(t,e){e=this._initializeOnDelegatedTarget(t,e),t&&(e._activeTrigger["focusin"===t.type?ii:ri]=!0),e.getTipElement().classList.contains(Xr)||e._hoverState===Jr?e._hoverState=Jr:(clearTimeout(e._timeout),e._hoverState=Jr,e._config.delay&&e._config.delay.show?e._timeout=setTimeout(()=>{e._hoverState===Jr&&e.show()},e._config.delay.show):e.show())}_leave(t,e){e=this._initializeOnDelegatedTarget(t,e),t&&(e._activeTrigger["focusout"===t.type?ii:ri]=e._element.contains(t.relatedTarget)),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState=Zr,e._config.delay&&e._config.delay.hide?e._timeout=setTimeout(()=>{e._hoverState===Zr&&e.hide()},e._config.delay.hide):e.hide())}_isWithActiveTrigger(){for(const t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1}_getConfig(t){const e=bt.getDataAttributes(this._element);return Object.keys(e).forEach(t=>{Wr.has(t)&&delete e[t]}),t={...this.constructor.Default,...e,..."object"===typeof t&&t?t:{}},t.container=!1===t.container?document.body:m(t.container),"number"===typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"===typeof t.title&&(t.title=t.title.toString()),"number"===typeof t.content&&(t.content=t.content.toString()),v(Vr,t,this.constructor.DefaultType),t.sanitize&&(t.template=Ur(t.template,t.allowList,t.sanitizeFn)),t}_getDelegateConfig(){const t={};for(const e in this._config)this.constructor.Default[e]!==this._config[e]&&(t[e]=this._config[e]);return t}_cleanTipClass(){const t=this.getTipElement(),e=new RegExp(`(^|\\s)${this._getBasicClassPrefix()}\\S+`,"g"),n=t.getAttribute("class").match(e);null!==n&&n.length>0&&n.map(t=>t.trim()).forEach(e=>t.classList.remove(e))}_getBasicClassPrefix(){return zr}_handlePopperPlacementChange(t){const{state:e}=t;e&&(this.tip=e.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(e.placement)))}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(t){return this.each((function(){const e=ai.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}k(ai);const ci="popover",ui="bs.popover",li="."+ui,hi="bs-popover",fi={...ai.Default,placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'},di={...ai.DefaultType,content:"(string|element|function)"},pi={HIDE:"hide"+li,HIDDEN:"hidden"+li,SHOW:"show"+li,SHOWN:"shown"+li,INSERTED:"inserted"+li,CLICK:"click"+li,FOCUSIN:"focusin"+li,FOCUSOUT:"focusout"+li,MOUSEENTER:"mouseenter"+li,MOUSELEAVE:"mouseleave"+li},gi=".popover-header",mi=".popover-body";class vi extends ai{static get Default(){return fi}static get NAME(){return ci}static get Event(){return pi}static get DefaultType(){return di}isWithContent(){return this.getTitle()||this._getContent()}setContent(t){this._sanitizeAndSetContent(t,this.getTitle(),gi),this._sanitizeAndSetContent(t,this._getContent(),mi)}_getContent(){return this._resolvePossibleFunction(this._config.content)}_getBasicClassPrefix(){return hi}static jQueryInterface(t){return this.each((function(){const e=vi.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}k(vi);const yi="scrollspy",bi="bs.scrollspy",_i="."+bi,wi=".data-api",xi={offset:10,method:"auto",target:""},Ei={offset:"number",method:"string",target:"(string|element)"},Oi="activate"+_i,Ti="scroll"+_i,Ii=`load${_i}${wi}`,ki="dropdown-item",Si="active",Ci='[data-bs-spy="scroll"]',Ai=".nav, .list-group",ji=".nav-link",Ni=".nav-item",Pi=".list-group-item",Di=`${ji}, ${Pi}, .${ki}`,Ri=".dropdown",Mi=".dropdown-toggle",Li="offset",Fi="position";class Ui extends Z{constructor(t,e){super(t),this._scrollElement="BODY"===this._element.tagName?window:this._element,this._config=this._getConfig(e),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,Y.on(this._scrollElement,Ti,()=>this._process()),this.refresh(),this._process()}static get Default(){return xi}static get NAME(){return yi}refresh(){const t=this._scrollElement===this._scrollElement.window?Li:Fi,e="auto"===this._config.method?t:this._config.method,n=e===Fi?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight();const r=wt.find(Di,this._config.target);r.map(t=>{const r=h(t),i=r?wt.findOne(r):null;if(i){const t=i.getBoundingClientRect();if(t.width||t.height)return[bt[e](i).top+n,r]}return null}).filter(t=>t).sort((t,e)=>t[0]-e[0]).forEach(t=>{this._offsets.push(t[0]),this._targets.push(t[1])})}dispose(){Y.off(this._scrollElement,_i),super.dispose()}_getConfig(t){return t={...xi,...bt.getDataAttributes(this._element),..."object"===typeof t&&t?t:{}},t.target=m(t.target)||document.documentElement,v(yi,t,Ei),t}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){const t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){const t=this._targets[this._targets.length-1];this._activeTarget!==t&&this._activate(t)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(let e=this._offsets.length;e--;){const n=this._activeTarget!==this._targets[e]&&t>=this._offsets[e]&&("undefined"===typeof this._offsets[e+1]||t<this._offsets[e+1]);n&&this._activate(this._targets[e])}}}_activate(t){this._activeTarget=t,this._clear();const e=Di.split(",").map(e=>`${e}[data-bs-target="${t}"],${e}[href="${t}"]`),n=wt.findOne(e.join(","),this._config.target);n.classList.add(Si),n.classList.contains(ki)?wt.findOne(Mi,n.closest(Ri)).classList.add(Si):wt.parents(n,Ai).forEach(t=>{wt.prev(t,`${ji}, ${Pi}`).forEach(t=>t.classList.add(Si)),wt.prev(t,Ni).forEach(t=>{wt.children(t,ji).forEach(t=>t.classList.add(Si))})}),Y.trigger(this._scrollElement,Oi,{relatedTarget:t})}_clear(){wt.find(Di,this._config.target).filter(t=>t.classList.contains(Si)).forEach(t=>t.classList.remove(Si))}static jQueryInterface(t){return this.each((function(){const e=Ui.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}Y.on(window,Ii,()=>{wt.find(Ci).forEach(t=>new Ui(t))}),k(Ui);const Vi="tab",Bi="bs.tab",qi="."+Bi,zi=".data-api",Wi="hide"+qi,Hi="hidden"+qi,Ki="show"+qi,Gi="shown"+qi,$i=`click${qi}${zi}`,Yi="dropdown-menu",Qi="active",Xi="fade",Ji="show",Zi=".dropdown",to=".nav, .list-group",eo=".active",no=":scope > li > .active",ro='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',io=".dropdown-toggle",oo=":scope > .dropdown-menu .active";class so extends Z{static get NAME(){return Vi}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains(Qi))return;let t;const e=f(this._element),n=this._element.closest(to);if(n){const e="UL"===n.nodeName||"OL"===n.nodeName?no:eo;t=wt.find(e,n),t=t[t.length-1]}const r=t?Y.trigger(t,Wi,{relatedTarget:this._element}):null,i=Y.trigger(this._element,Ki,{relatedTarget:t});if(i.defaultPrevented||null!==r&&r.defaultPrevented)return;this._activate(this._element,n);const o=()=>{Y.trigger(t,Hi,{relatedTarget:this._element}),Y.trigger(this._element,Gi,{relatedTarget:t})};e?this._activate(e,e.parentNode,o):o()}_activate(t,e,n){const r=!e||"UL"!==e.nodeName&&"OL"!==e.nodeName?wt.children(e,eo):wt.find(no,e),i=r[0],o=n&&i&&i.classList.contains(Xi),s=()=>this._transitionComplete(t,i,n);i&&o?(i.classList.remove(Ji),this._queueCallback(s,t,!0)):s()}_transitionComplete(t,e,n){if(e){e.classList.remove(Qi);const t=wt.findOne(oo,e.parentNode);t&&t.classList.remove(Qi),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}t.classList.add(Qi),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),x(t),t.classList.contains(Xi)&&t.classList.add(Ji);let r=t.parentNode;if(r&&"LI"===r.nodeName&&(r=r.parentNode),r&&r.classList.contains(Yi)){const e=t.closest(Zi);e&&wt.find(io,e).forEach(t=>t.classList.add(Qi)),t.setAttribute("aria-expanded",!0)}n&&n()}static jQueryInterface(t){return this.each((function(){const e=so.getOrCreateInstance(this);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}Y.on(document,$i,ro,(function(t){if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),b(this))return;const e=so.getOrCreateInstance(this);e.show()})),k(so);const ao="toast",co="bs.toast",uo="."+co,lo="mouseover"+uo,ho="mouseout"+uo,fo="focusin"+uo,po="focusout"+uo,go="hide"+uo,mo="hidden"+uo,vo="show"+uo,yo="shown"+uo,bo="fade",_o="hide",wo="show",xo="showing",Eo={animation:"boolean",autohide:"boolean",delay:"number"},Oo={animation:!0,autohide:!0,delay:5e3};class To extends Z{constructor(t,e){super(t),this._config=this._getConfig(e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get DefaultType(){return Eo}static get Default(){return Oo}static get NAME(){return ao}show(){const t=Y.trigger(this._element,vo);if(t.defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(bo);const e=()=>{this._element.classList.remove(xo),Y.trigger(this._element,yo),this._maybeScheduleHide()};this._element.classList.remove(_o),x(this._element),this._element.classList.add(wo),this._element.classList.add(xo),this._queueCallback(e,this._element,this._config.animation)}hide(){if(!this._element.classList.contains(wo))return;const t=Y.trigger(this._element,go);if(t.defaultPrevented)return;const e=()=>{this._element.classList.add(_o),this._element.classList.remove(xo),this._element.classList.remove(wo),Y.trigger(this._element,mo)};this._element.classList.add(xo),this._queueCallback(e,this._element,this._config.animation)}dispose(){this._clearTimeout(),this._element.classList.contains(wo)&&this._element.classList.remove(wo),super.dispose()}_getConfig(t){return t={...Oo,...bt.getDataAttributes(this._element),..."object"===typeof t&&t?t:{}},v(ao,t,this.constructor.DefaultType),t}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e;break}if(e)return void this._clearTimeout();const n=t.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){Y.on(this._element,lo,t=>this._onInteraction(t,!0)),Y.on(this._element,ho,t=>this._onInteraction(t,!1)),Y.on(this._element,fo,t=>this._onInteraction(t,!0)),Y.on(this._element,po,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each((function(){const e=To.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}tt(To),k(To)},"7c73":function(t,e,n){var r,i=n("825a"),o=n("37e8"),s=n("7839"),a=n("d012"),c=n("1be4"),u=n("cc12"),l=n("f772"),h=">",f="<",d="prototype",p="script",g=l("IE_PROTO"),m=function(){},v=function(t){return f+p+h+t+f+"/"+p+h},y=function(t){t.write(v("")),t.close();var e=t.parentWindow.Object;return t=null,e},b=function(){var t,e=u("iframe"),n="java"+p+":";return e.style.display="none",c.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(v("document.F=Object")),t.close(),t.F},_=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}_="undefined"!=typeof document?document.domain&&r?y(r):b():y(r);var t=s.length;while(t--)delete _[d][s[t]];return _()};a[g]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(m[d]=i(t),n=new m,m[d]=null,n[g]=t):n=_(),void 0===e?n:o(n,e)}},"7cda":function(t,e,n){"use strict";var r=n("77f9"),i=n("b62b"),o=n("1fc0"),s=n("ef52"),a=n("b519"),c=n("b50e"),u=n("3d8d"),l=n("84c6"),h={top:"auto",right:"auto",bottom:"auto",left:"auto"};function f(t){var e=t.x,n=t.y,r=window,i=r.devicePixelRatio||1;return{x:Object(l["c"])(Object(l["c"])(e*i)/i)||0,y:Object(l["c"])(Object(l["c"])(n*i)/i)||0}}function d(t){var e,n=t.popper,c=t.popperRect,u=t.placement,l=t.variation,d=t.offsets,p=t.position,g=t.gpuAcceleration,m=t.adaptive,v=t.roundOffsets,y=!0===v?f(d):"function"===typeof v?v(d):d,b=y.x,_=void 0===b?0:b,w=y.y,x=void 0===w?0:w,E=d.hasOwnProperty("x"),O=d.hasOwnProperty("y"),T=r["l"],I=r["u"],k=window;if(m){var S=Object(i["a"])(n),C="clientHeight",A="clientWidth";S===Object(o["a"])(n)&&(S=Object(s["a"])(n),"static"!==Object(a["a"])(S).position&&"absolute"===p&&(C="scrollHeight",A="scrollWidth")),S=S,u!==r["u"]&&(u!==r["l"]&&u!==r["s"]||l!==r["k"])||(I=r["i"],x-=S[C]-c.height,x*=g?1:-1),u!==r["l"]&&(u!==r["u"]&&u!==r["i"]||l!==r["k"])||(T=r["s"],_-=S[A]-c.width,_*=g?1:-1)}var j,N=Object.assign({position:p},m&&h);return g?Object.assign({},N,(j={},j[I]=O?"0":"",j[T]=E?"0":"",j.transform=(k.devicePixelRatio||1)<=1?"translate("+_+"px, "+x+"px)":"translate3d("+_+"px, "+x+"px, 0)",j)):Object.assign({},N,(e={},e[I]=O?x+"px":"",e[T]=E?_+"px":"",e.transform="",e))}function p(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,l=void 0===a||a,h={placement:Object(c["a"])(e.placement),variation:Object(u["a"])(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,d(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,d(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}e["a"]={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:p,data:{}}},"7dd0":function(t,e,n){"use strict";var r=n("23e7"),i=n("9ed3"),o=n("e163"),s=n("d2bb"),a=n("d44e"),c=n("9112"),u=n("6eeb"),l=n("b622"),h=n("c430"),f=n("3f8c"),d=n("ae93"),p=d.IteratorPrototype,g=d.BUGGY_SAFARI_ITERATORS,m=l("iterator"),v="keys",y="values",b="entries",_=function(){return this};t.exports=function(t,e,n,l,d,w,x){i(n,e,l);var E,O,T,I=function(t){if(t===d&&j)return j;if(!g&&t in C)return C[t];switch(t){case v:return function(){return new n(this,t)};case y:return function(){return new n(this,t)};case b:return function(){return new n(this,t)}}return function(){return new n(this)}},k=e+" Iterator",S=!1,C=t.prototype,A=C[m]||C["@@iterator"]||d&&C[d],j=!g&&A||I(d),N="Array"==e&&C.entries||A;if(N&&(E=o(N.call(new t)),p!==Object.prototype&&E.next&&(h||o(E)===p||(s?s(E,p):"function"!=typeof E[m]&&c(E,m,_)),a(E,k,!0,!0),h&&(f[k]=_))),d==y&&A&&A.name!==y&&(S=!0,j=function(){return A.call(this)}),h&&!x||C[m]===j||c(C,m,j),f[e]=j,d)if(O={values:I(y),keys:w?j:I(v),entries:I(b)},x)for(T in O)(g||S||!(T in C))&&u(C,T,O[T]);else r({target:e,proto:!0,forced:g||S},O);return O}},"7f37":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("2767");function i(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Object(r["c"])(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}},"7f9a":function(t,e,n){var r=n("da84"),i=n("8925"),o=r.WeakMap;t.exports="function"===typeof o&&/native code/.test(i(o))},"825a":function(t,e,n){var r=n("861d");t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},"83ab":function(t,e,n){var r=n("d039");t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(t,e,n){"use strict";var r=n("a04b"),i=n("9bf2"),o=n("5c6c");t.exports=function(t,e,n){var s=r(e);s in t?i.f(t,s,o(0,n)):t[s]=n}},"84c6":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o}));var r=Math.max,i=Math.min,o=Math.round},"857a":function(t,e,n){var r=n("1d80"),i=n("577e"),o=/"/g;t.exports=function(t,e,n,s){var a=i(r(t)),c="<"+e;return""!==n&&(c+=" "+n+'="'+i(s).replace(o,"&quot;")+'"'),c+">"+a+"</"+e+">"}},"861d":function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},8925:function(t,e,n){var r=n("c6cd"),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return i.call(t)}),t.exports=r.inspectSource},"8aa5":function(t,e,n){"use strict";var r=n("6547").charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},"90e3":function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},9112:function(t,e,n){var r=n("83ab"),i=n("9bf2"),o=n("5c6c");t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},9263:function(t,e,n){"use strict";var r=n("577e"),i=n("ad6d"),o=n("9f7f"),s=n("5692"),a=n("7c73"),c=n("69f3").get,u=n("fce3"),l=n("107c"),h=RegExp.prototype.exec,f=s("native-string-replace",String.prototype.replace),d=h,p=function(){var t=/a/,e=/b*/g;return h.call(t,"a"),h.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),g=o.UNSUPPORTED_Y||o.BROKEN_CARET,m=void 0!==/()??/.exec("")[1],v=p||m||g||u||l;v&&(d=function(t){var e,n,o,s,u,l,v,y=this,b=c(y),_=r(t),w=b.raw;if(w)return w.lastIndex=y.lastIndex,e=d.call(w,_),y.lastIndex=w.lastIndex,e;var x=b.groups,E=g&&y.sticky,O=i.call(y),T=y.source,I=0,k=_;if(E&&(O=O.replace("y",""),-1===O.indexOf("g")&&(O+="g"),k=_.slice(y.lastIndex),y.lastIndex>0&&(!y.multiline||y.multiline&&"\n"!==_.charAt(y.lastIndex-1))&&(T="(?: "+T+")",k=" "+k,I++),n=new RegExp("^(?:"+T+")",O)),m&&(n=new RegExp("^"+T+"$(?!\\s)",O)),p&&(o=y.lastIndex),s=h.call(E?n:y,k),E?s?(s.input=s.input.slice(I),s[0]=s[0].slice(I),s.index=y.lastIndex,y.lastIndex+=s[0].length):y.lastIndex=0:p&&s&&(y.lastIndex=y.global?s.index+s[0].length:o),m&&s&&s.length>1&&f.call(s[0],n,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(s[u]=void 0)})),s&&x)for(s.groups=l=a(null),u=0;u<x.length;u++)v=x[u],l[v[0]]=s[v[1]];return s}),t.exports=d},9435:function(t,e,n){"use strict";var r=n("77f9"),i=n("b50e"),o=n("ad9d");function s(t){return"x"===t?"y":"x"}var a=n("e43f"),c=n("e2e9"),u=n("b62b"),l=n("b617"),h=n("3d8d"),f=n("35f6"),d=n("84c6");function p(t){var e=t.state,n=t.options,p=t.name,g=n.mainAxis,m=void 0===g||g,v=n.altAxis,y=void 0!==v&&v,b=n.boundary,_=n.rootBoundary,w=n.altBoundary,x=n.padding,E=n.tether,O=void 0===E||E,T=n.tetherOffset,I=void 0===T?0:T,k=Object(l["a"])(e,{boundary:b,rootBoundary:_,padding:x,altBoundary:w}),S=Object(i["a"])(e.placement),C=Object(h["a"])(e.placement),A=!C,j=Object(o["a"])(S),N=s(j),P=e.modifiersData.popperOffsets,D=e.rects.reference,R=e.rects.popper,M="function"===typeof I?I(Object.assign({},e.rects,{placement:e.placement})):I,L={x:0,y:0};if(P){if(m||y){var F="y"===j?r["u"]:r["l"],U="y"===j?r["i"]:r["s"],V="y"===j?"height":"width",B=P[j],q=P[j]+k[F],z=P[j]-k[U],W=O?-R[V]/2:0,H=C===r["t"]?D[V]:R[V],K=C===r["t"]?-R[V]:-D[V],G=e.elements.arrow,$=O&&G?Object(c["a"])(G):{width:0,height:0},Y=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Object(f["a"])(),Q=Y[F],X=Y[U],J=Object(a["a"])(0,D[V],$[V]),Z=A?D[V]/2-W-J-Q-M:H-J-Q-M,tt=A?-D[V]/2+W+J+X+M:K+J+X+M,et=e.elements.arrow&&Object(u["a"])(e.elements.arrow),nt=et?"y"===j?et.clientTop||0:et.clientLeft||0:0,rt=e.modifiersData.offset?e.modifiersData.offset[e.placement][j]:0,it=P[j]+Z-rt-nt,ot=P[j]+tt-rt;if(m){var st=Object(a["a"])(O?Object(d["b"])(q,it):q,B,O?Object(d["a"])(z,ot):z);P[j]=st,L[j]=st-B}if(y){var at="x"===j?r["u"]:r["l"],ct="x"===j?r["i"]:r["s"],ut=P[N],lt=ut+k[at],ht=ut-k[ct],ft=Object(a["a"])(O?Object(d["b"])(lt,it):lt,ut,O?Object(d["a"])(ht,ot):ht);P[N]=ft,L[N]=ft-ut}}e.modifiersData[p]=L}}e["a"]={name:"preventOverflow",enabled:!0,phase:"main",fn:p,requiresIfExists:["offset"]}},"94ca":function(t,e,n){var r=n("d039"),i=/#|\.prototype\./,o=function(t,e){var n=a[s(t)];return n==u||n!=c&&("function"==typeof e?r(e):!!e)},s=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},a=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";t.exports=o},9802:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"g",(function(){return c})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return l}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function s(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r["throw"](t))}catch(e){o(e)}}function c(t){t.done?n(t.value):i(t.value).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return c([t,e])}}function c(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}Object.create;function c(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create},9835:function(t,e,n){"use strict";var r=n("b50e"),i=n("77f9");function o(t,e,n){var o=Object(r["a"])(t),s=[i["l"],i["u"]].indexOf(o)>=0?-1:1,a="function"===typeof n?n(Object.assign({},e,{placement:t})):n,c=a[0],u=a[1];return c=c||0,u=(u||0)*s,[i["l"],i["s"]].indexOf(o)>=0?{x:u,y:c}:{x:c,y:u}}function s(t){var e=t.state,n=t.options,r=t.name,s=n.offset,a=void 0===s?[0,0]:s,c=i["o"].reduce((function(t,n){return t[n]=o(n,e.rects,a),t}),{}),u=c[e.placement],l=u.x,h=u.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=h),e.modifiersData[r]=c}e["a"]={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:s}},9852:function(t,e,n){"use strict";function r(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}n.d(e,"a",(function(){return r}))},9911:function(t,e,n){"use strict";var r=n("23e7"),i=n("857a"),o=n("af03");r({target:"String",proto:!0,forced:o("link")},{link:function(t){return i(this,"a","href",t)}})},"9a1f":function(t,e,n){var r=n("825a"),i=n("35a1");t.exports=function(t,e){var n=arguments.length<2?i(t):e;if("function"!=typeof n)throw TypeError(String(t)+" is not iterable");return r(n.call(t))}},"9b4a":function(t,e,n){"use strict";n.d(e,"a",(function(){return cs})),n.d(e,"b",(function(){return Uc}));const r=function(){return"undefined"===typeof window?function(t){return t()}:window.requestAnimationFrame}();function i(t,e,n){const i=n||(t=>Array.prototype.slice.call(t));let o=!1,s=[];return function(...n){s=i(n),o||(o=!0,r.call(window,()=>{o=!1,t.apply(e,s)}))}}function o(t,e){let n;return function(){return e?(clearTimeout(n),n=setTimeout(t,e)):t(),e}}const s=t=>"start"===t?"left":"end"===t?"right":"center",a=(t,e,n)=>"start"===t?e:"end"===t?n:(e+n)/2,c=(t,e,n,r)=>{const i=r?"left":"right";return t===i?n:"center"===t?(e+n)/2:e};function u(){}const l=function(){let t=0;return function(){return t++}}();function h(t){return null===t||"undefined"===typeof t}function f(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.substr(0,7)&&"Array]"===e.substr(-6)}function d(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}const p=t=>("number"===typeof t||t instanceof Number)&&isFinite(+t);function g(t,e){return p(t)?t:e}function m(t,e){return"undefined"===typeof t?e:t}const v=(t,e)=>"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100:t/e,y=(t,e)=>"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function b(t,e,n){if(t&&"function"===typeof t.call)return t.apply(n,e)}function _(t,e,n,r){let i,o,s;if(f(t))if(o=t.length,r)for(i=o-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<o;i++)e.call(n,t[i],i);else if(d(t))for(s=Object.keys(t),o=s.length,i=0;i<o;i++)e.call(n,t[s[i]],s[i])}function w(t,e){let n,r,i,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],o=e[n],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function x(t){if(f(t))return t.map(x);if(d(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=x(t[n[i]]);return e}return t}function E(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function O(t,e,n,r){if(!E(t))return;const i=e[t],o=n[t];d(i)&&d(o)?T(i,o,r):e[t]=x(o)}function T(t,e,n){const r=f(e)?e:[e],i=r.length;if(!d(t))return t;n=n||{};const o=n.merger||O;for(let s=0;s<i;++s){if(e=r[s],!d(e))continue;const i=Object.keys(e);for(let r=0,s=i.length;r<s;++r)o(i[r],t,e,n)}return t}function I(t,e){return T(t,e,{merger:k})}function k(t,e,n){if(!E(t))return;const r=e[t],i=n[t];d(r)&&d(i)?I(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=x(i))}const S="",C=".";function A(t,e){const n=t.indexOf(C,e);return-1===n?t.length:n}function j(t,e){if(e===S)return t;let n=0,r=A(e,n);while(t&&r>n)t=t[e.substr(n,r-n)],n=r+1,r=A(e,n);return t}function N(t){return t.charAt(0).toUpperCase()+t.slice(1)}const P=t=>"undefined"!==typeof t,D=t=>"function"===typeof t,R=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0},M=Math.PI,L=2*M,F=L+M,U=Number.POSITIVE_INFINITY,V=M/180,B=M/2,q=M/4,z=2*M/3,W=Math.log10,H=Math.sign;function K(t){const e=Math.round(t);t=Y(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(W(t))),r=t/n,i=r<=1?1:r<=2?2:r<=5?5:10;return i*n}function G(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(0|n)&&e.push(n),e.sort((t,e)=>t-e).pop(),e}function $(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Y(t,e,n){return Math.abs(t-e)<n}function Q(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function X(t,e,n){let r,i,o;for(r=0,i=t.length;r<i;r++)o=t[r][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function J(t){return t*(M/180)}function Z(t){return t*(180/M)}function tt(t){if(!p(t))return;let e=1,n=0;while(Math.round(t*e)/e!==t)e*=10,n++;return n}function et(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let o=Math.atan2(r,n);return o<-.5*M&&(o+=L),{angle:o,distance:i}}function nt(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function rt(t,e){return(t-e+F)%L-M}function it(t){return(t%L+L)%L}function ot(t,e,n,r){const i=it(t),o=it(e),s=it(n),a=it(o-i),c=it(s-i),u=it(i-o),l=it(i-s);return i===o||i===s||r&&o===s||a>c&&u<l}function st(t,e,n){return Math.max(e,Math.min(n,t))}function at(t){return st(t,-32768,32767)}const ct=t=>0===t||1===t,ut=(t,e,n)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*L/n),lt=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*L/n)+1,ht={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*B),easeOutSine:t=>Math.sin(t*B),easeInOutSine:t=>-.5*(Math.cos(M*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>ct(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>ct(t)?t:ut(t,.075,.3),easeOutElastic:t=>ct(t)?t:lt(t,.075,.3),easeInOutElastic(t){const e=.1125,n=.45;return ct(t)?t:t<.5?.5*ut(2*t,e,n):.5+.5*lt(2*t-1,e,n)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-ht.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutBounce:t=>t<.5?.5*ht.easeInBounce(2*t):.5*ht.easeOutBounce(2*t-1)+.5},ft={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},dt="0123456789ABCDEF",pt=t=>dt[15&t],gt=t=>dt[(240&t)>>4]+dt[15&t],mt=t=>(240&t)>>4===(15&t);function vt(t){return mt(t.r)&&mt(t.g)&&mt(t.b)&&mt(t.a)}function yt(t){var e,n=t.length;return"#"===t[0]&&(4===n||5===n?e={r:255&17*ft[t[1]],g:255&17*ft[t[2]],b:255&17*ft[t[3]],a:5===n?17*ft[t[4]]:255}:7!==n&&9!==n||(e={r:ft[t[1]]<<4|ft[t[2]],g:ft[t[3]]<<4|ft[t[4]],b:ft[t[5]]<<4|ft[t[6]],a:9===n?ft[t[7]]<<4|ft[t[8]]:255})),e}function bt(t){var e=vt(t)?pt:gt;return t?"#"+e(t.r)+e(t.g)+e(t.b)+(t.a<255?e(t.a):""):t}function _t(t){return t+.5|0}const wt=(t,e,n)=>Math.max(Math.min(t,n),e);function xt(t){return wt(_t(2.55*t),0,255)}function Et(t){return wt(_t(255*t),0,255)}function Ot(t){return wt(_t(t/2.55)/100,0,1)}function Tt(t){return wt(_t(100*t),0,100)}const It=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function kt(t){const e=It.exec(t);let n,r,i,o=255;if(e){if(e[7]!==n){const t=+e[7];o=255&(e[8]?xt(t):255*t)}return n=+e[1],r=+e[3],i=+e[5],n=255&(e[2]?xt(n):n),r=255&(e[4]?xt(r):r),i=255&(e[6]?xt(i):i),{r:n,g:r,b:i,a:o}}}function St(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ot(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Ct=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function At(t,e,n){const r=e*Math.min(n,1-n),i=(e,i=(e+t/30)%12)=>n-r*Math.max(Math.min(i-3,9-i,1),-1);return[i(0),i(8),i(4)]}function jt(t,e,n){const r=(r,i=(r+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function Nt(t,e,n){const r=At(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function Pt(t){const e=255,n=t.r/e,r=t.g/e,i=t.b/e,o=Math.max(n,r,i),s=Math.min(n,r,i),a=(o+s)/2;let c,u,l;return o!==s&&(l=o-s,u=a>.5?l/(2-o-s):l/(o+s),c=o===n?(r-i)/l+(r<i?6:0):o===r?(i-n)/l+2:(n-r)/l+4,c=60*c+.5),[0|c,u||0,a]}function Dt(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Et)}function Rt(t,e,n){return Dt(At,t,e,n)}function Mt(t,e,n){return Dt(Nt,t,e,n)}function Lt(t,e,n){return Dt(jt,t,e,n)}function Ft(t){return(t%360+360)%360}function Ut(t){const e=Ct.exec(t);let n,r=255;if(!e)return;e[5]!==n&&(r=e[6]?xt(+e[5]):Et(+e[5]));const i=Ft(+e[2]),o=+e[3]/100,s=+e[4]/100;return n="hwb"===e[1]?Mt(i,o,s):"hsv"===e[1]?Lt(i,o,s):Rt(i,o,s),{r:n[0],g:n[1],b:n[2],a:r}}function Vt(t,e){var n=Pt(t);n[0]=Ft(n[0]+e),n=Rt(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Bt(t){if(!t)return;const e=Pt(t),n=e[0],r=Tt(e[1]),i=Tt(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${Ot(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const qt={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},zt={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Wt(){const t={},e=Object.keys(zt),n=Object.keys(qt);let r,i,o,s,a;for(r=0;r<e.length;r++){for(s=a=e[r],i=0;i<n.length;i++)o=n[i],a=a.replace(o,qt[o]);o=parseInt(zt[s],16),t[a]=[o>>16&255,o>>8&255,255&o]}return t}let Ht;function Kt(t){Ht||(Ht=Wt(),Ht.transparent=[0,0,0,0]);const e=Ht[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}function Gt(t,e,n){if(t){let r=Pt(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,0===e?360:1)),r=Rt(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function $t(t,e){return t?Object.assign(e||{},t):t}function Yt(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Et(t[3]))):(e=$t(t,{r:0,g:0,b:0,a:1}),e.a=Et(e.a)),e}function Qt(t){return"r"===t.charAt(0)?kt(t):Ut(t)}class Xt{constructor(t){if(t instanceof Xt)return t;const e=typeof t;let n;"object"===e?n=Yt(t):"string"===e&&(n=yt(t)||Kt(t)||Qt(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=$t(this._rgb);return t&&(t.a=Ot(t.a)),t}set rgb(t){this._rgb=Yt(t)}rgbString(){return this._valid?St(this._rgb):this._rgb}hexString(){return this._valid?bt(this._rgb):this._rgb}hslString(){return this._valid?Bt(this._rgb):this._rgb}mix(t,e){const n=this;if(t){const r=n.rgb,i=t.rgb;let o;const s=e===o?.5:e,a=2*s-1,c=r.a-i.a,u=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;o=1-u,r.r=255&u*r.r+o*i.r+.5,r.g=255&u*r.g+o*i.g+.5,r.b=255&u*r.b+o*i.b+.5,r.a=s*r.a+(1-s)*i.a,n.rgb=r}return n}clone(){return new Xt(this.rgb)}alpha(t){return this._rgb.a=Et(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=_t(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Gt(this._rgb,2,t),this}darken(t){return Gt(this._rgb,2,-t),this}saturate(t){return Gt(this._rgb,1,t),this}desaturate(t){return Gt(this._rgb,1,-t),this}rotate(t){return Vt(this._rgb,t),this}}function Jt(t){return new Xt(t)}const Zt=t=>t instanceof CanvasGradient||t instanceof CanvasPattern;function te(t){return Zt(t)?t:Jt(t)}function ee(t){return Zt(t)?t:Jt(t).saturate(.5).darken(.1).hexString()}const ne=Object.create(null),re=Object.create(null);function ie(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const e=n[r];t=t[e]||(t[e]=Object.create(null))}return t}function oe(t,e,n){return"string"===typeof e?T(ie(t,e),n):T(ie(t,""),e)}class se{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>ee(e.backgroundColor),this.hoverBorderColor=(t,e)=>ee(e.borderColor),this.hoverColor=(t,e)=>ee(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.describe(t)}set(t,e){return oe(this,t,e)}get(t){return ie(this,t)}describe(t,e){return oe(re,t,e)}override(t,e){return oe(ne,t,e)}route(t,e,n,r){const i=ie(this,t),o=ie(this,n),s="_"+e;Object.defineProperties(i,{[s]:{value:i[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[s],e=o[r];return d(t)?Object.assign({},e,t):m(t,e)},set(t){this[s]=t}}})}}var ae=new se({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function ce(t){return!t||h(t.size)||h(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function ue(t,e,n,r,i){let o=e[i];return o||(o=e[i]=t.measureText(i).width,n.push(i)),o>r&&(r=o),r}function le(t,e,n,r){r=r||{};let i=r.data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},o=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let s=0;const a=n.length;let c,u,l,h,d;for(c=0;c<a;c++)if(h=n[c],void 0!==h&&null!==h&&!0!==f(h))s=ue(t,i,o,s,h);else if(f(h))for(u=0,l=h.length;u<l;u++)d=h[u],void 0===d||null===d||f(d)||(s=ue(t,i,o,s,d));t.restore();const p=o.length/2;if(p>n.length){for(c=0;c<p;c++)delete i[o[c]];o.splice(0,p)}return s}function he(t,e,n){const r=t.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function fe(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function de(t,e,n,r){let i,o,s,a,c;const u=e.pointStyle,l=e.rotation,h=e.radius;let f=(l||0)*V;if(u&&"object"===typeof u&&(i=u.toString(),"[object HTMLImageElement]"===i||"[object HTMLCanvasElement]"===i))return t.save(),t.translate(n,r),t.rotate(f),t.drawImage(u,-u.width/2,-u.height/2,u.width,u.height),void t.restore();if(!(isNaN(h)||h<=0)){switch(t.beginPath(),u){default:t.arc(n,r,h,0,L),t.closePath();break;case"triangle":t.moveTo(n+Math.sin(f)*h,r-Math.cos(f)*h),f+=z,t.lineTo(n+Math.sin(f)*h,r-Math.cos(f)*h),f+=z,t.lineTo(n+Math.sin(f)*h,r-Math.cos(f)*h),t.closePath();break;case"rectRounded":c=.516*h,a=h-c,o=Math.cos(f+q)*a,s=Math.sin(f+q)*a,t.arc(n-o,r-s,c,f-M,f-B),t.arc(n+s,r-o,c,f-B,f),t.arc(n+o,r+s,c,f,f+B),t.arc(n-s,r+o,c,f+B,f+M),t.closePath();break;case"rect":if(!l){a=Math.SQRT1_2*h,t.rect(n-a,r-a,2*a,2*a);break}f+=q;case"rectRot":o=Math.cos(f)*h,s=Math.sin(f)*h,t.moveTo(n-o,r-s),t.lineTo(n+s,r-o),t.lineTo(n+o,r+s),t.lineTo(n-s,r+o),t.closePath();break;case"crossRot":f+=q;case"cross":o=Math.cos(f)*h,s=Math.sin(f)*h,t.moveTo(n-o,r-s),t.lineTo(n+o,r+s),t.moveTo(n+s,r-o),t.lineTo(n-s,r+o);break;case"star":o=Math.cos(f)*h,s=Math.sin(f)*h,t.moveTo(n-o,r-s),t.lineTo(n+o,r+s),t.moveTo(n+s,r-o),t.lineTo(n-s,r+o),f+=q,o=Math.cos(f)*h,s=Math.sin(f)*h,t.moveTo(n-o,r-s),t.lineTo(n+o,r+s),t.moveTo(n+s,r-o),t.lineTo(n-s,r+o);break;case"line":o=Math.cos(f)*h,s=Math.sin(f)*h,t.moveTo(n-o,r-s),t.lineTo(n+o,r+s);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(f)*h,r+Math.sin(f)*h);break}t.fill(),e.borderWidth>0&&t.stroke()}}function pe(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function ge(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function me(t){t.restore()}function ve(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if("middle"===i){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else"after"===i!==!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function ye(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function be(t,e,n,r,i,o={}){const s=f(e)?e:[e],a=o.strokeWidth>0&&""!==o.strokeColor;let c,u;for(t.save(),t.font=i.string,_e(t,o),c=0;c<s.length;++c)u=s[c],a&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),h(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(u,n,r,o.maxWidth)),t.fillText(u,n,r,o.maxWidth),we(t,n,r,u,o),r+=i.lineHeight;t.restore()}function _e(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),h(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function we(t,e,n,r,i){if(i.strikethrough||i.underline){const o=t.measureText(r),s=e-o.actualBoundingBoxLeft,a=e+o.actualBoundingBoxRight,c=n-o.actualBoundingBoxAscent,u=n+o.actualBoundingBoxDescent,l=i.strikethrough?(c+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(s,l),t.lineTo(a,l),t.stroke()}}function xe(t,e){const{x:n,y:r,w:i,h:o,radius:s}=e;t.arc(n+s.topLeft,r+s.topLeft,s.topLeft,-B,M,!0),t.lineTo(n,r+o-s.bottomLeft),t.arc(n+s.bottomLeft,r+o-s.bottomLeft,s.bottomLeft,M,B,!0),t.lineTo(n+i-s.bottomRight,r+o),t.arc(n+i-s.bottomRight,r+o-s.bottomRight,s.bottomRight,B,0,!0),t.lineTo(n+i,r+s.topRight),t.arc(n+i-s.topRight,r+s.topRight,s.topRight,0,-B,!0),t.lineTo(n+s.topLeft,r)}const Ee=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),Oe=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function Te(t,e){const n=(""+t).match(Ee);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const Ie=t=>+t||0;function ke(t,e){const n={},r=d(e),i=r?Object.keys(e):e,o=d(t)?r?n=>m(t[n],t[e[n]]):e=>t[e]:()=>t;for(const s of i)n[s]=Ie(o(s));return n}function Se(t){return ke(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ce(t){return ke(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ae(t){const e=Se(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function je(t,e){t=t||{},e=e||ae.font;let n=m(t.size,e.size);"string"===typeof n&&(n=parseInt(n,10));let r=m(t.style,e.style);r&&!(""+r).match(Oe)&&(console.warn('Invalid font style specified: "'+r+'"'),r="");const i={family:m(t.family,e.family),lineHeight:Te(m(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:m(t.weight,e.weight),string:""};return i.string=ce(i),i}function Ne(t,e,n,r){let i,o,s,a=!0;for(i=0,o=t.length;i<o;++i)if(s=t[i],void 0!==s&&(void 0!==e&&"function"===typeof s&&(s=s(e),a=!1),void 0!==n&&f(s)&&(s=s[n%s.length],a=!1),void 0!==s))return r&&!a&&(r.cacheable=!1),s}function Pe(t,e){const{min:n,max:r}=t;return{min:n-Math.abs(y(e,n)),max:r+y(e,r)}}function De(t,e,n){n=n||(n=>t[n]<e);let r,i=t.length-1,o=0;while(i-o>1)r=o+i>>1,n(r)?o=r:i=r;return{lo:o,hi:i}}const Re=(t,e,n)=>De(t,n,r=>t[r][e]<n),Me=(t,e,n)=>De(t,n,r=>t[r][e]>=n);function Le(t,e,n){let r=0,i=t.length;while(r<i&&t[r]<e)r++;while(i>r&&t[i-1]>n)i--;return r>0||i<t.length?t.slice(r,i):t}const Fe=["push","pop","shift","splice","unshift"];function Ue(t,e){t._chartjs?t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Fe.forEach(e=>{const n="_onData"+N(e),r=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value(...e){const i=r.apply(this,e);return t._chartjs.listeners.forEach(t=>{"function"===typeof t[n]&&t[n](...e)}),i}})}))}function Ve(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);-1!==i&&r.splice(i,1),r.length>0||(Fe.forEach(e=>{delete t[e]}),delete t._chartjs)}function Be(t){const e=new Set;let n,r;for(n=0,r=t.length;n<r;++n)e.add(t[n]);return e.size===r?t:Array.from(e)}function qe(t,e=[""],n=t,r,i=(()=>t[0])){P(r)||(r=on("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:n,_fallback:r,_getTarget:i,override:i=>qe([i,...t],e,n,r)};return new Proxy(o,{deleteProperty(e,n){return delete e[n],delete e._keys,delete t[0][n],!0},get(n,r){return Ge(n,r,()=>rn(r,e,t,n))},getOwnPropertyDescriptor(t,e){return Reflect.getOwnPropertyDescriptor(t._scopes[0],e)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(t,e){return sn(t).includes(e)},ownKeys(t){return sn(t)},set(t,e,n){const r=t._storage||(t._storage=i());return r[e]=n,delete t[e],delete t._keys,!0}})}function ze(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:We(t,r),setContext:e=>ze(t,e,n,r),override:i=>ze(t.override(i),e,n,r)};return new Proxy(i,{deleteProperty(e,n){return delete e[n],delete t[n],!0},get(t,e,n){return Ge(t,e,()=>$e(t,e,n))},getOwnPropertyDescriptor(e,n){return e._descriptors.allKeys?Reflect.has(t,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,n)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(e,n){return Reflect.has(t,n)},ownKeys(){return Reflect.ownKeys(t)},set(e,n,r){return t[n]=r,delete e[n],!0}})}function We(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:D(n)?n:()=>n,isIndexable:D(r)?r:()=>r}}const He=(t,e)=>t?t+N(e):e,Ke=(t,e)=>d(e)&&"adapters"!==t;function Ge(t,e,n){let r=t[e];return P(r)||(r=n(),P(r)&&(t[e]=r)),r}function $e(t,e,n){const{_proxy:r,_context:i,_subProxy:o,_descriptors:s}=t;let a=r[e];return D(a)&&s.isScriptable(e)&&(a=Ye(e,a,t,n)),f(a)&&a.length&&(a=Qe(e,a,t,s.isIndexable)),Ke(e,a)&&(a=ze(a,i,o&&o[e],s)),a}function Ye(t,e,n,r){const{_proxy:i,_context:o,_subProxy:s,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);return a.add(t),e=e(o,s||r),a.delete(t),d(e)&&(e=tn(i._scopes,i,t,e)),e}function Qe(t,e,n,r){const{_proxy:i,_context:o,_subProxy:s,_descriptors:a}=n;if(P(o.index)&&r(t))e=e[o.index%e.length];else if(d(e[0])){const n=e,r=i._scopes.filter(t=>t!==n);e=[];for(const c of n){const n=tn(r,i,t,c);e.push(ze(n,o,s&&s[t],a))}}return e}function Xe(t,e,n){return D(t)?t(e,n):t}const Je=(t,e)=>!0===t?e:"string"===typeof t?j(e,t):void 0;function Ze(t,e,n,r){for(const i of e){const e=Je(n,i);if(e){t.add(e);const i=Xe(e._fallback,n,e);if(P(i)&&i!==n&&i!==r)return i}else if(!1===e&&P(r)&&n!==r)return null}return!1}function tn(t,e,n,r){const i=e._rootScopes,o=Xe(e._fallback,n,r),s=[...t,...i],a=new Set;a.add(r);let c=en(a,s,n,o||n);return null!==c&&((!P(o)||o===n||(c=en(a,s,o,c),null!==c))&&qe(Array.from(a),[""],i,o,()=>nn(e,n,r)))}function en(t,e,n,r){while(n)n=Ze(t,e,n,r);return n}function nn(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return f(i)&&d(n)?n:i}function rn(t,e,n,r){let i;for(const o of e)if(i=on(He(o,t),n),P(i))return Ke(t,i)?tn(n,r,t,i):i}function on(t,e){for(const n of e){if(!n)continue;const e=n[t];if(P(e))return e}}function sn(t){let e=t._keys;return e||(e=t._keys=an(t._scopes)),e}function an(t){const e=new Set;for(const n of t)for(const t of Object.keys(n).filter(t=>!t.startsWith("_")))e.add(t);return Array.from(e)}const cn=Number.EPSILON||1e-14,un=(t,e)=>e<t.length&&!t[e].skip&&t[e],ln=t=>"x"===t?"y":"x";function hn(t,e,n,r){const i=t.skip?e:t,o=e,s=n.skip?e:n,a=nt(o,i),c=nt(s,o);let u=a/(a+c),l=c/(a+c);u=isNaN(u)?0:u,l=isNaN(l)?0:l;const h=r*u,f=r*l;return{previous:{x:o.x-h*(s.x-i.x),y:o.y-h*(s.y-i.y)},next:{x:o.x+f*(s.x-i.x),y:o.y+f*(s.y-i.y)}}}function fn(t,e,n){const r=t.length;let i,o,s,a,c,u=un(t,0);for(let l=0;l<r-1;++l)c=u,u=un(t,l+1),c&&u&&(Y(e[l],0,cn)?n[l]=n[l+1]=0:(i=n[l]/e[l],o=n[l+1]/e[l],a=Math.pow(i,2)+Math.pow(o,2),a<=9||(s=3/Math.sqrt(a),n[l]=i*s*e[l],n[l+1]=o*s*e[l])))}function dn(t,e,n="x"){const r=ln(n),i=t.length;let o,s,a,c=un(t,0);for(let u=0;u<i;++u){if(s=a,a=c,c=un(t,u+1),!a)continue;const i=a[n],l=a[r];s&&(o=(i-s[n])/3,a["cp1"+n]=i-o,a["cp1"+r]=l-o*e[u]),c&&(o=(c[n]-i)/3,a["cp2"+n]=i+o,a["cp2"+r]=l+o*e[u])}}function pn(t,e="x"){const n=ln(e),r=t.length,i=Array(r).fill(0),o=Array(r);let s,a,c,u=un(t,0);for(s=0;s<r;++s)if(a=c,c=u,u=un(t,s+1),c){if(u){const t=u[e]-c[e];i[s]=0!==t?(u[n]-c[n])/t:0}o[s]=a?u?H(i[s-1])!==H(i[s])?0:(i[s-1]+i[s])/2:i[s-1]:i[s]}fn(t,i,o),dn(t,o,e)}function gn(t,e,n){return Math.max(Math.min(t,n),e)}function mn(t,e){let n,r,i,o,s,a=pe(t[0],e);for(n=0,r=t.length;n<r;++n)s=o,o=a,a=n<r-1&&pe(t[n+1],e),o&&(i=t[n],s&&(i.cp1x=gn(i.cp1x,e.left,e.right),i.cp1y=gn(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=gn(i.cp2x,e.left,e.right),i.cp2y=gn(i.cp2y,e.top,e.bottom)))}function vn(t,e,n,r,i){let o,s,a,c;if(e.spanGaps&&(t=t.filter(t=>!t.skip)),"monotone"===e.cubicInterpolationMode)pn(t,i);else{let n=r?t[t.length-1]:t[0];for(o=0,s=t.length;o<s;++o)a=t[o],c=hn(n,a,t[Math.min(o+1,s-(r?0:1))%s],e.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,n=a}e.capBezierPoints&&mn(t,n)}function yn(){return"undefined"!==typeof window&&"undefined"!==typeof document}function bn(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function _n(t,e,n){let r;return"string"===typeof t?(r=parseInt(t,10),-1!==t.indexOf("%")&&(r=r/100*e.parentNode[n])):r=t,r}const wn=t=>window.getComputedStyle(t,null);function xn(t,e){return wn(t).getPropertyValue(e)}const En=["top","right","bottom","left"];function On(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const o=En[i];r[o]=parseFloat(t[e+"-"+o+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const Tn=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function In(t,e){const n=t.native||t,r=n.touches,i=r&&r.length?r[0]:n,{offsetX:o,offsetY:s}=i;let a,c,u=!1;if(Tn(o,s,n.target))a=o,c=s;else{const t=e.getBoundingClientRect();a=i.clientX-t.left,c=i.clientY-t.top,u=!0}return{x:a,y:c,box:u}}function kn(t,e){const{canvas:n,currentDevicePixelRatio:r}=e,i=wn(n),o="border-box"===i.boxSizing,s=On(i,"padding"),a=On(i,"border","width"),{x:c,y:u,box:l}=In(t,n),h=s.left+(l&&a.left),f=s.top+(l&&a.top);let{width:d,height:p}=e;return o&&(d-=s.width+a.width,p-=s.height+a.height),{x:Math.round((c-h)/d*n.width/r),y:Math.round((u-f)/p*n.height/r)}}function Sn(t,e,n){let r,i;if(void 0===e||void 0===n){const o=bn(t);if(o){const t=o.getBoundingClientRect(),s=wn(o),a=On(s,"border","width"),c=On(s,"padding");e=t.width-c.width-a.width,n=t.height-c.height-a.height,r=_n(s.maxWidth,o,"clientWidth"),i=_n(s.maxHeight,o,"clientHeight")}else e=t.clientWidth,n=t.clientHeight}return{width:e,height:n,maxWidth:r||U,maxHeight:i||U}}const Cn=t=>Math.round(10*t)/10;function An(t,e,n,r){const i=wn(t),o=On(i,"margin"),s=_n(i.maxWidth,t,"clientWidth")||U,a=_n(i.maxHeight,t,"clientHeight")||U,c=Sn(t,e,n);let{width:u,height:l}=c;if("content-box"===i.boxSizing){const t=On(i,"border","width"),e=On(i,"padding");u-=e.width+t.width,l-=e.height+t.height}return u=Math.max(0,u-o.width),l=Math.max(0,r?Math.floor(u/r):l-o.height),u=Cn(Math.min(u,s,c.maxWidth)),l=Cn(Math.min(l,a,c.maxHeight)),u&&!l&&(l=Cn(u/2)),{width:u,height:l}}function jn(t,e,n){const r=e||1,i=Math.floor(t.height*r),o=Math.floor(t.width*r);t.height=i/r,t.width=o/r;const s=t.canvas;return s.style&&(n||!s.style.height&&!s.style.width)&&(s.style.height=t.height+"px",s.style.width=t.width+"px"),(t.currentDevicePixelRatio!==r||s.height!==i||s.width!==o)&&(t.currentDevicePixelRatio=r,s.height=i,s.width=o,t.ctx.setTransform(r,0,0,r,0,0),!0)}const Nn=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){}return t}();function Pn(t,e){const n=xn(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Dn(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function Rn(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:"middle"===r?n<.5?t.y:e.y:"after"===r?n<1?t.y:e.y:n>0?e.y:t.y}}function Mn(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},s=Dn(t,i,n),a=Dn(i,o,n),c=Dn(o,e,n),u=Dn(s,a,n),l=Dn(a,c,n);return Dn(u,l,n)}const Ln=new Map;function Fn(t,e){e=e||{};const n=t+JSON.stringify(e);let r=Ln.get(n);return r||(r=new Intl.NumberFormat(t,e),Ln.set(n,r)),r}function Un(t,e,n){return Fn(e,n).format(t)}const Vn=function(t,e){return{x(n){return t+t+e-n},setWidth(t){e=t},textAlign(t){return"center"===t?t:"right"===t?"left":"right"},xPlus(t,e){return t-e},leftForLtr(t,e){return t-e}}},Bn=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function qn(t,e,n){return t?Vn(e,n):Bn()}function zn(t,e){let n,r;"ltr"!==e&&"rtl"!==e||(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function Wn(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Hn(t){return"angle"===t?{between:ot,compare:rt,normalize:it}:{between:(t,e,n)=>t>=Math.min(e,n)&&t<=Math.max(n,e),compare:(t,e)=>t-e,normalize:t=>t}}function Kn({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function Gn(t,e,n){const{property:r,start:i,end:o}=n,{between:s,normalize:a}=Hn(r),c=e.length;let u,l,{start:h,end:f,loop:d}=t;if(d){for(h+=c,f+=c,u=0,l=c;u<l;++u){if(!s(a(e[h%c][r]),i,o))break;h--,f--}h%=c,f%=c}return f<h&&(f+=c),{start:h,end:f,loop:d,style:t.style}}function $n(t,e,n){if(!n)return[t];const{property:r,start:i,end:o}=n,s=e.length,{compare:a,between:c,normalize:u}=Hn(r),{start:l,end:h,loop:f,style:d}=Gn(t,e,n),p=[];let g,m,v,y=!1,b=null;const _=()=>c(i,v,g)&&0!==a(i,v),w=()=>0===a(o,g)||c(o,v,g),x=()=>y||_(),E=()=>!y||w();for(let O=l,T=l;O<=h;++O)m=e[O%s],m.skip||(g=u(m[r]),g!==v&&(y=c(g,i,o),null===b&&x()&&(b=0===a(g,i)?O:T),null!==b&&E()&&(p.push(Kn({start:b,end:O,loop:f,count:s,style:d})),b=null),T=O,v=g));return null!==b&&p.push(Kn({start:b,end:h,loop:f,count:s,style:d})),p}function Yn(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const o=$n(r[i],t.points,e);o.length&&n.push(...o)}return n}function Qn(t,e,n,r){let i=0,o=e-1;if(n&&!r)while(i<e&&!t[i].skip)i++;while(i<e&&t[i].skip)i++;i%=e,n&&(o+=i);while(o>i&&t[o%e].skip)o--;return o%=e,{start:i,end:o}}function Xn(t,e,n,r){const i=t.length,o=[];let s,a=e,c=t[e];for(s=e+1;s<=n;++s){const n=t[s%i];n.skip||n.stop?c.skip||(r=!1,o.push({start:e%i,end:(s-1)%i,loop:r}),e=a=n.stop?s:null):(a=s,c.skip&&(e=s)),c=n}return null!==a&&o.push({start:e%i,end:a%i,loop:r}),o}function Jn(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const o=!!t._loop,{start:s,end:a}=Qn(n,i,o,r);if(!0===r)return Zn(t,[{start:s,end:a,loop:o}],n,e);const c=a<s?a+i:a,u=!!t._fullLoop&&0===s&&a===i-1;return Zn(t,Xn(n,s,c,u),n,e)}function Zn(t,e,n,r){return r&&r.setContext&&n?tr(t,e,n,r):e}function tr(t,e,n,r){const i=er(t.options),o=n.length,s=[];let a=e[0].start,c=a;for(const u of e){let e,l=i,h=n[a%o];for(c=a+1;c<=u.end;c++){const i=n[c%o];e=er(r.setContext({type:"segment",p0:h,p1:i,p0DataIndex:(c-1)%o,p1DataIndex:c%o,datasetIndex:t._datasetIndex})),nr(e,l)&&(s.push({start:a,end:c-1,loop:u.loop,style:l}),l=e,a=c-1),h=i,l=e}a<c-1&&(s.push({start:a,end:c-1,loop:u.loop,style:e}),a=c-1)}return s}function er(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function nr(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}
/*!
 * Chart.js v3.5.1
 * https://www.chartjs.org
 * (c) 2021 Chart.js Contributors
 * Released under the MIT License
 */class rr{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,r){const i=e.listeners[r],o=e.duration;i.forEach(r=>r({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(n-e.start,o)}))}_refresh(){const t=this;t._request||(t._running=!0,t._request=r.call(window,()=>{t._update(),t._request=null,t._running&&t._refresh()}))}_update(t=Date.now()){const e=this;let n=0;e._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const o=r.items;let s,a=o.length-1,c=!1;for(;a>=0;--a)s=o[a],s._active?(s._total>r.duration&&(r.duration=s._total),s.tick(t),c=!0):(o[a]=o[o.length-1],o.pop());c&&(i.draw(),e._notify(i,r,t,"progress")),o.length||(r.running=!1,e._notify(i,r,t,"complete"),r.initial=!1),n+=o.length}),e._lastDate=t,0===n&&(e._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((t,e)=>Math.max(t,e._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ir=new rr;const or="transparent",sr={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=te(t||or),i=r.valid&&te(e||or);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class ar{constructor(t,e,n,r){const i=e[n];r=Ne([t.to,r,i,t.from]);const o=Ne([t.from,i,r]);this._active=!0,this._fn=t.fn||sr[t.type||typeof o],this._easing=ht[t.easing]||ht.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,n){const r=this;if(r._active){r._notify(!1);const i=r._target[r._prop],o=n-r._start,s=r._duration-o;r._start=n,r._duration=Math.floor(Math.max(s,t.duration)),r._total+=o,r._loop=!!t.loop,r._to=Ne([t.to,e,i,t.from]),r._from=Ne([t.from,i,e])}}cancel(){const t=this;t._active&&(t.tick(Date.now()),t._active=!1,t._notify(!1))}tick(t){const e=this,n=t-e._start,r=e._duration,i=e._prop,o=e._from,s=e._loop,a=e._to;let c;if(e._active=o!==a&&(s||n<r),!e._active)return e._target[i]=a,void e._notify(!0);n<0?e._target[i]=o:(c=n/r%2,c=s&&c>1?2-c:c,c=e._easing(Math.min(1,Math.max(0,c))),e._target[i]=e._fn(o,a,c))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,n)=>{t.push({res:e,rej:n})})}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][e]()}}const cr=["x","y","borderWidth","radius","tension"],ur=["color","borderColor","backgroundColor"];ae.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const lr=Object.keys(ae.animation);ae.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),ae.set("animations",{colors:{type:"color",properties:ur},numbers:{type:"number",properties:cr}}),ae.describe("animations",{_fallback:"animation"}),ae.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}});class hr{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!d(t))return;const e=this._properties;Object.getOwnPropertyNames(t).forEach(n=>{const r=t[n];if(!d(r))return;const i={};for(const t of lr)i[t]=r[t];(f(r.properties)&&r.properties||[n]).forEach(t=>{t!==n&&e.has(t)||e.set(t,i)})})}_animateOptions(t,e){const n=e.options,r=dr(t,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&fr(t.options.$animations,n).then(()=>{t.options=n},()=>{}),i}_createAnimations(t,e){const n=this._properties,r=[],i=t.$animations||(t.$animations={}),o=Object.keys(e),s=Date.now();let a;for(a=o.length-1;a>=0;--a){const c=o[a];if("$"===c.charAt(0))continue;if("options"===c){r.push(...this._animateOptions(t,e));continue}const u=e[c];let l=i[c];const h=n.get(c);if(l){if(h&&l.active()){l.update(h,u,s);continue}l.cancel()}h&&h.duration?(i[c]=l=new ar(h,t,c,u),r.push(l)):t[c]=u}return r}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const n=this._createAnimations(t,e);return n.length?(ir.add(this._chart,n),!0):void 0}}function fr(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const e=t[r[i]];e&&e.active()&&n.push(e.wait())}return Promise.all(n)}function dr(t,e){if(!e)return;let n=t.options;if(n)return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n;t.options=e}function pr(t,e){const n=t&&t.options||{},r=n.reverse,i=void 0===n.min?e:0,o=void 0===n.max?e:0;return{start:r?o:i,end:r?i:o}}function gr(t,e,n){if(!1===n)return!1;const r=pr(t,n),i=pr(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function mr(t){let e,n,r,i;return d(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:!1===t}}function vr(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,o;for(i=0,o=r.length;i<o;++i)n.push(r[i].index);return n}function yr(t,e,n,r){const i=t.keys,o="single"===r.mode;let s,a,c,u;if(null!==e){for(s=0,a=i.length;s<a;++s){if(c=+i[s],c===n){if(r.all)continue;break}u=t.values[c],p(u)&&(o||0===e||H(e)===H(u))&&(e+=u)}return e}}function br(t){const e=Object.keys(t),n=new Array(e.length);let r,i,o;for(r=0,i=e.length;r<i;++r)o=e[r],n[r]={x:o,y:t[o]};return n}function _r(t,e){const n=t&&t.options.stacked;return n||void 0===n&&void 0!==e.stack}function wr(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function xr(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function Er(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function Or(t,e,n){for(const r of e.getMatchingVisibleMetas("bar").reverse()){const e=t[r.index];if(n&&e>0||!n&&e<0)return r.index}return null}function Tr(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:o,vScale:s,index:a}=r,c=o.axis,u=s.axis,l=wr(o,s,r),h=e.length;let f;for(let d=0;d<h;++d){const t=e[d],{[c]:n,[u]:r}=t,o=t._stacks||(t._stacks={});f=o[u]=Er(i,l,n),f[a]=r,f._top=Or(f,s,!0),f._bottom=Or(f,s,!1)}}function Ir(t,e){const n=t.scales;return Object.keys(n).filter(t=>n[t].axis===e).shift()}function kr(t,e){return Object.assign(Object.create(t),{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Sr(t,e,n){return Object.assign(Object.create(t),{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Cr(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[r]||void 0===e[r][n])return;delete e[r][n]}}}const Ar=t=>"reset"===t||"none"===t,jr=(t,e)=>e?t:Object.assign({},t);class Nr{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const t=this,e=t._cachedMeta;t.configure(),t.linkScales(),e._stacked=_r(e.vScale,e),t.addElements()}updateIndex(t){this.index!==t&&Cr(this._cachedMeta),this.index=t}linkScales(){const t=this,e=t.chart,n=t._cachedMeta,r=t.getDataset(),i=(t,e,n,r)=>"x"===t?e:"r"===t?r:n,o=n.xAxisID=m(r.xAxisID,Ir(e,"x")),s=n.yAxisID=m(r.yAxisID,Ir(e,"y")),a=n.rAxisID=m(r.rAxisID,Ir(e,"r")),c=n.indexAxis,u=n.iAxisID=i(c,o,s,a),l=n.vAxisID=i(c,s,o,a);n.xScale=t.getScaleForId(o),n.yScale=t.getScaleForId(s),n.rScale=t.getScaleForId(a),n.iScale=t.getScaleForId(u),n.vScale=t.getScaleForId(l)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Ve(this._data,this),t._stacked&&Cr(t)}_dataCheck(){const t=this,e=t.getDataset(),n=e.data||(e.data=[]),r=t._data;if(d(n))t._data=br(n);else if(r!==n){if(r){Ve(r,t);const e=t._cachedMeta;Cr(e),e._parsed=[]}n&&Object.isExtensible(n)&&Ue(n,t),t._syncList=[],t._data=n}}addElements(){const t=this,e=t._cachedMeta;t._dataCheck(),t.datasetElementType&&(e.dataset=new t.datasetElementType)}buildOrUpdateElements(t){const e=this,n=e._cachedMeta,r=e.getDataset();let i=!1;e._dataCheck();const o=n._stacked;n._stacked=_r(n.vScale,n),n.stack!==r.stack&&(i=!0,Cr(n),n.stack=r.stack),e._resyncElements(t),(i||o!==n._stacked)&&Tr(e,n._parsed)}configure(){const t=this,e=t.chart.config,n=e.datasetScopeKeys(t._type),r=e.getOptionScopes(t.getDataset(),n,!0);t.options=e.createResolver(r,t.getContext()),t._parsing=t.options.parsing}parse(t,e){const n=this,{_cachedMeta:r,_data:i}=n,{iScale:o,_stacked:s}=r,a=o.axis;let c,u,l,h=0===t&&e===i.length||r._sorted,p=t>0&&r._parsed[t-1];if(!1===n._parsing)r._parsed=i,r._sorted=!0,l=i;else{l=f(i[t])?n.parseArrayData(r,i,t,e):d(i[t])?n.parseObjectData(r,i,t,e):n.parsePrimitiveData(r,i,t,e);const o=()=>null===u[a]||p&&u[a]<p[a];for(c=0;c<e;++c)r._parsed[c+t]=u=l[c],h&&(o()&&(h=!1),p=u);r._sorted=h}s&&Tr(n,l)}parsePrimitiveData(t,e,n,r){const{iScale:i,vScale:o}=t,s=i.axis,a=o.axis,c=i.getLabels(),u=i===o,l=new Array(r);let h,f,d;for(h=0,f=r;h<f;++h)d=h+n,l[h]={[s]:u||i.parse(c[d],d),[a]:o.parse(e[d],d)};return l}parseArrayData(t,e,n,r){const{xScale:i,yScale:o}=t,s=new Array(r);let a,c,u,l;for(a=0,c=r;a<c;++a)u=a+n,l=e[u],s[a]={x:i.parse(l[0],u),y:o.parse(l[1],u)};return s}parseObjectData(t,e,n,r){const{xScale:i,yScale:o}=t,{xAxisKey:s="x",yAxisKey:a="y"}=this._parsing,c=new Array(r);let u,l,h,f;for(u=0,l=r;u<l;++u)h=u+n,f=e[h],c[u]={x:i.parse(j(f,s),h),y:o.parse(j(f,a),h)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const r=this.chart,i=this._cachedMeta,o=e[t.axis],s={keys:vr(r,!0),values:e._stacks[t.axis]};return yr(s,o,i.index,{mode:n})}updateRangeFromParsed(t,e,n,r){const i=n[e.axis];let o=null===i?NaN:i;const s=r&&n._stacks[e.axis];r&&s&&(r.values=s,t.min=Math.min(t.min,o),t.max=Math.max(t.max,o),o=yr(r,i,this._cachedMeta.index,{all:!0})),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const n=this,r=n._cachedMeta,i=r._parsed,o=r._sorted&&t===r.iScale,s=i.length,a=n._getOtherScale(t),c=e&&r._stacked&&{keys:vr(n.chart,!0),values:null},u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:l,max:h}=xr(a);let f,d,g,m;function v(){return g=i[f],d=g[t.axis],m=g[a.axis],!p(d)||l>m||h<m}for(f=0;f<s;++f)if(!v()&&(n.updateRangeFromParsed(u,t,g,c),o))break;if(o)for(f=s-1;f>=0;--f)if(!v()){n.updateRangeFromParsed(u,t,g,c);break}return u}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let r,i,o;for(r=0,i=e.length;r<i;++r)o=e[r][t.axis],p(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this,n=e._cachedMeta,r=n.iScale,i=n.vScale,o=e.getParsed(t);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:i?""+i.getLabelForValue(o[i.axis]):""}}_update(t){const e=this,n=e._cachedMeta;e.configure(),e._cachedDataOpts={},e.update(t||"default"),n._clip=mr(m(e.options.clip,gr(n.xScale,n.yScale,e.getMaxOverflow())))}update(t){}draw(){const t=this,e=t._ctx,n=t.chart,r=t._cachedMeta,i=r.data||[],o=n.chartArea,s=[],a=t._drawStart||0,c=t._drawCount||i.length-a;let u;for(r.dataset&&r.dataset.draw(e,o,a,c),u=a;u<a+c;++u){const t=i[u];t.hidden||(t.active?s.push(t):t.draw(e,o))}for(u=0;u<s.length;++u)s[u].draw(e,o)}getStyle(t,e){const n=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const r=this,i=r.getDataset();let o;if(t>=0&&t<r._cachedMeta.data.length){const e=r._cachedMeta.data[t];o=e.$context||(e.$context=Sr(r.getContext(),t,e)),o.parsed=r.getParsed(t),o.raw=i.data[t],o.index=o.dataIndex=t}else o=r.$context||(r.$context=kr(r.chart.getContext(),r.index)),o.dataset=i,o.index=o.datasetIndex=r.index;return o.active=!!e,o.mode=n,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",n){const r=this,i="active"===e,o=r._cachedDataOpts,s=t+"-"+e,a=o[s],c=r.enableOptionSharing&&P(n);if(a)return jr(a,c);const u=r.chart.config,l=u.datasetElementScopeKeys(r._type,t),h=i?[t+"Hover","hover",t,""]:[t,""],f=u.getOptionScopes(r.getDataset(),l),d=Object.keys(ae.elements[t]),p=()=>r.getContext(n,i),g=u.resolveNamedOptions(f,d,p,h);return g.$shared&&(g.$shared=c,o[s]=Object.freeze(jr(g,c))),g}_resolveAnimations(t,e,n){const r=this,i=r.chart,o=r._cachedDataOpts,s="animation-"+e,a=o[s];if(a)return a;let c;if(!1!==i.options.animation){const i=r.chart.config,o=i.datasetAnimationScopeKeys(r._type,e),s=i.getOptionScopes(r.getDataset(),o);c=i.createResolver(s,r.getContext(t,n,e))}const u=new hr(i,c&&c.animations);return c&&c._cacheable&&(o[s]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Ar(t)||this.chart._animationsDisabled}updateElement(t,e,n,r){Ar(r)?Object.assign(t,n):this._resolveAnimations(e,r).update(t,n)}updateSharedOptions(t,e,n){t&&!Ar(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,r){t.active=r;const i=this.getStyle(e,r);this._resolveAnimations(e,n,r).update(t,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this,n=e._data,r=e._cachedMeta.data;for(const[a,c,u]of e._syncList)e[a](c,u);e._syncList=[];const i=r.length,o=n.length,s=Math.min(o,i);s&&e.parse(0,s),o>i?e._insertElements(i,o-i,t):o<i&&e._removeElements(o,i-o)}_insertElements(t,e,n=!0){const r=this,i=r._cachedMeta,o=i.data,s=t+e;let a;const c=t=>{for(t.length+=e,a=t.length-1;a>=s;a--)t[a]=t[a-e]};for(c(o),a=t;a<s;++a)o[a]=new r.dataElementType;r._parsing&&c(i._parsed),r.parse(t,e),n&&r.updateElements(o,t,e,"reset")}updateElements(t,e,n,r){}_removeElements(t,e){const n=this,r=n._cachedMeta;if(n._parsing){const n=r._parsed.splice(t,e);r._stacked&&Cr(r,n)}r.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,r]=t;this[e](n,r)}}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){this._sync(["_removeElements",t,e]),this._sync(["_insertElements",t,arguments.length-2])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Pr(t){if(!t._cache.$bar){const e=t.getMatchingVisibleMetas("bar");let n=[];for(let r=0,i=e.length;r<i;r++)n=n.concat(e[r].controller.getAllParsedValues(t));t._cache.$bar=Be(n.sort((t,e)=>t-e))}return t._cache.$bar}function Dr(t){const e=Pr(t);let n,r,i,o,s=t._length;const a=()=>{32767!==i&&-32768!==i&&(P(o)&&(s=Math.min(s,Math.abs(i-o)||s)),o=i)};for(n=0,r=e.length;n<r;++n)i=t.getPixelForValue(e[n]),a();for(o=void 0,n=0,r=t.ticks.length;n<r;++n)i=t.getPixelForTick(n),a();return s}function Rr(t,e,n,r){const i=n.barThickness;let o,s;return h(i)?(o=e.min*n.categoryPercentage,s=n.barPercentage):(o=i*r,s=1),{chunk:o/r,ratio:s,start:e.pixels[t]-o/2}}function Mr(t,e,n,r){const i=e.pixels,o=i[t];let s=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const c=n.categoryPercentage;null===s&&(s=o-(null===a?e.end-e.start:a-o)),null===a&&(a=o+o-s);const u=o-(o-Math.min(s,a))/2*c,l=Math.abs(a-s)/2*c;return{chunk:l/r,ratio:n.barPercentage,start:u}}function Lr(t,e,n,r){const i=n.parse(t[0],r),o=n.parse(t[1],r),s=Math.min(i,o),a=Math.max(i,o);let c=s,u=a;Math.abs(s)>Math.abs(a)&&(c=a,u=s),e[n.axis]=u,e._custom={barStart:c,barEnd:u,start:i,end:o,min:s,max:a}}function Fr(t,e,n,r){return f(t)?Lr(t,e,n,r):e[n.axis]=n.parse(t,r),e}function Ur(t,e,n,r){const i=t.iScale,o=t.vScale,s=i.getLabels(),a=i===o,c=[];let u,l,h,f;for(u=n,l=n+r;u<l;++u)f=e[u],h={},h[i.axis]=a||i.parse(s[u],u),c.push(Fr(f,h,o,u));return c}function Vr(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function Br(t,e,n){return 0!==t?H(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function qr(t){let e,n,r,i,o;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",o="start"):(i="start",o="end"),{start:n,end:r,reverse:e,top:i,bottom:o}}function zr(t,e,n,r){let i=e.borderSkipped;const o={};if(!i)return void(t.borderSkipped=o);const{start:s,end:a,reverse:c,top:u,bottom:l}=qr(t);"middle"===i&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=u:(n._bottom||0)===r?i=l:(o[Wr(l,s,a,c)]=!0,i=u)),o[Wr(i,s,a,c)]=!0,t.borderSkipped=o}function Wr(t,e,n,r){return r?(t=Hr(t,e,n),t=Kr(t,n,e)):t=Kr(t,e,n),t}function Hr(t,e,n){return t===e?n:t===n?e:t}function Kr(t,e,n){return"start"===t?e:"end"===t?n:t}Nr.defaults={},Nr.prototype.datasetElementType=null,Nr.prototype.dataElementType=null;class Gr extends Nr{parsePrimitiveData(t,e,n,r){return Ur(t,e,n,r)}parseArrayData(t,e,n,r){return Ur(t,e,n,r)}parseObjectData(t,e,n,r){const{iScale:i,vScale:o}=t,{xAxisKey:s="x",yAxisKey:a="y"}=this._parsing,c="x"===i.axis?s:a,u="x"===o.axis?s:a,l=[];let h,f,d,p;for(h=n,f=n+r;h<f;++h)p=e[h],d={},d[i.axis]=i.parse(j(p,c),h),l.push(Fr(j(p,u),d,o,h));return l}updateRangeFromParsed(t,e,n,r){super.updateRangeFromParsed(t,e,n,r);const i=n._custom;i&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this,n=e._cachedMeta,{iScale:r,vScale:i}=n,o=e.getParsed(t),s=o._custom,a=Vr(s)?"["+s.start+", "+s.end+"]":""+i.getLabelForValue(o[i.axis]);return{label:""+r.getLabelForValue(o[r.axis]),value:a}}initialize(){const t=this;t.enableOptionSharing=!0,super.initialize();const e=t._cachedMeta;e.stack=t.getDataset().stack}update(t){const e=this,n=e._cachedMeta;e.updateElements(n.data,0,n.data.length,t)}updateElements(t,e,n,r){const i=this,o="reset"===r,{index:s,_cachedMeta:{vScale:a}}=i,c=a.getBasePixel(),u=a.isHorizontal(),l=i._getRuler(),f=i.resolveDataElementOptions(e,r),d=i.getSharedOptions(f),p=i.includeOptions(r,d);i.updateSharedOptions(d,r,f);for(let g=e;g<e+n;g++){const e=i.getParsed(g),n=o||h(e[a.axis])?{base:c,head:c}:i._calculateBarValuePixels(g),f=i._calculateBarIndexPixels(g,l),m=(e._stacks||{})[a.axis],v={horizontal:u,base:n.base,enableBorderRadius:!m||Vr(e._custom)||s===m._top||s===m._bottom,x:u?n.head:f.center,y:u?f.center:n.head,height:u?f.size:Math.abs(n.size),width:u?Math.abs(n.size):f.size};p&&(v.options=d||i.resolveDataElementOptions(g,t[g].active?"active":r)),zr(v,v.options||t[g].options,m,s),i.updateElement(t[g],g,v,r)}}_getStacks(t,e){const n=this,r=n._cachedMeta,i=r.iScale,o=i.getMatchingVisibleMetas(n._type),s=i.options.stacked,a=o.length,c=[];let u,l;for(u=0;u<a;++u)if(l=o[u],l.controller.options.grouped){if("undefined"!==typeof e){const t=l.controller.getParsed(e)[l.controller._cachedMeta.vScale.axis];if(h(t)||isNaN(t))continue}if((!1===s||-1===c.indexOf(l.stack)||void 0===s&&void 0===l.stack)&&c.push(l.stack),l.index===t)break}return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const r=this._getStacks(t,n),i=void 0!==e?r.indexOf(e):-1;return-1===i?r.length-1:i}_getRuler(){const t=this,e=t.options,n=t._cachedMeta,r=n.iScale,i=[];let o,s;for(o=0,s=n.data.length;o<s;++o)i.push(r.getPixelForValue(t.getParsed(o)[r.axis],o));const a=e.barThickness,c=a||Dr(r);return{min:c,pixels:i,start:r._startPixel,end:r._endPixel,stackCount:t._getStackCount(),scale:r,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(t){const e=this,{_cachedMeta:{vScale:n,_stacked:r},options:{base:i,minBarLength:o}}=e,s=i||0,a=e.getParsed(t),c=a._custom,u=Vr(c);let l,f,d=a[n.axis],p=0,g=r?e.applyStack(n,a,r):d;g!==d&&(p=g-d,g=d),u&&(d=c.barStart,g=c.barEnd-c.barStart,0!==d&&H(d)!==H(c.barEnd)&&(p=0),p+=d);const m=h(i)||u?p:i;let v=n.getPixelForValue(m);if(l=e.chart.getDataVisibility(t)?n.getPixelForValue(p+g):v,f=l-v,Math.abs(f)<o&&(f=Br(f,n,s)*o,d===s&&(v-=f/2),l=v+f),v===n.getPixelForValue(s)){const t=H(f)*n.getLineWidthForValue(s)/2;v+=t,f-=t}return{size:f,base:v,head:l,center:l+f/2}}_calculateBarIndexPixels(t,e){const n=this,r=e.scale,i=n.options,o=i.skipNull,s=m(i.maxBarThickness,1/0);let a,c;if(e.grouped){const r=o?n._getStackCount(t):e.stackCount,u="flex"===i.barThickness?Mr(t,e,i,r):Rr(t,e,i,r),l=n._getStackIndex(n.index,n._cachedMeta.stack,o?t:void 0);a=u.start+u.chunk*l+u.chunk/2,c=Math.min(s,u.chunk*u.ratio)}else a=r.getPixelForValue(n.getParsed(t)[r.axis],t),c=Math.min(s,e.min*e.ratio);return{base:a-c/2,head:a+c/2,center:a,size:c}}draw(){const t=this,e=t._cachedMeta,n=e.vScale,r=e.data,i=r.length;let o=0;for(;o<i;++o)null!==t.getParsed(o)[n.axis]&&r[o].draw(t._ctx)}}Gr.id="bar",Gr.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},Gr.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class $r extends Nr{initialize(){this.enableOptionSharing=!0,super.initialize()}parseObjectData(t,e,n,r){const{xScale:i,yScale:o}=t,{xAxisKey:s="x",yAxisKey:a="y"}=this._parsing,c=[];let u,l,h;for(u=n,l=n+r;u<l;++u)h=e[u],c.push({x:i.parse(j(h,s),u),y:o.parse(j(h,a),u),_custom:h&&h.r&&+h.r});return c}getMaxOverflow(){const{data:t,_parsed:e}=this._cachedMeta;let n=0;for(let r=t.length-1;r>=0;--r)n=Math.max(n,t[r].size()/2,e[r]._custom);return n>0&&n}getLabelAndValue(t){const e=this,n=e._cachedMeta,{xScale:r,yScale:i}=n,o=e.getParsed(t),s=r.getLabelForValue(o.x),a=i.getLabelForValue(o.y),c=o._custom;return{label:n.label,value:"("+s+", "+a+(c?", "+c:"")+")"}}update(t){const e=this,n=e._cachedMeta.data;e.updateElements(n,0,n.length,t)}updateElements(t,e,n,r){const i=this,o="reset"===r,{iScale:s,vScale:a}=i._cachedMeta,c=i.resolveDataElementOptions(e,r),u=i.getSharedOptions(c),l=i.includeOptions(r,u),h=s.axis,f=a.axis;for(let d=e;d<e+n;d++){const e=t[d],n=!o&&i.getParsed(d),c={},u=c[h]=o?s.getPixelForDecimal(.5):s.getPixelForValue(n[h]),p=c[f]=o?a.getBasePixel():a.getPixelForValue(n[f]);c.skip=isNaN(u)||isNaN(p),l&&(c.options=i.resolveDataElementOptions(d,e.active?"active":r),o&&(c.options.radius=0)),i.updateElement(e,d,c,r)}i.updateSharedOptions(u,r,c)}resolveDataElementOptions(t,e){const n=this.getParsed(t);let r=super.resolveDataElementOptions(t,e);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const i=r.radius;return"active"!==e&&(r.radius=0),r.radius+=m(n&&n._custom,i),r}}function Yr(t,e,n){let r=1,i=1,o=0,s=0;if(e<L){const a=t,c=a+e,u=Math.cos(a),l=Math.sin(a),h=Math.cos(c),f=Math.sin(c),d=(t,e,r)=>ot(t,a,c,!0)?1:Math.max(e,e*n,r,r*n),p=(t,e,r)=>ot(t,a,c,!0)?-1:Math.min(e,e*n,r,r*n),g=d(0,u,h),m=d(B,l,f),v=p(M,u,h),y=p(M+B,l,f);r=(g-v)/2,i=(m-y)/2,o=-(g+v)/2,s=-(m+y)/2}return{ratioX:r,ratioY:i,offsetX:o,offsetY:s}}$r.id="bubble",$r.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},$r.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};class Qr extends Nr{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,r=this._cachedMeta;let i,o;for(i=t,o=t+e;i<o;++i)r._parsed[i]=+n[i]}_getRotation(){return J(this.options.rotation-90)}_getCircumference(){return J(this.options.circumference)}_getRotationExtents(){let t=L,e=-L;const n=this;for(let r=0;r<n.chart.data.datasets.length;++r)if(n.chart.isDatasetVisible(r)){const i=n.chart.getDatasetMeta(r).controller,o=i._getRotation(),s=i._getCircumference();t=Math.min(t,o),e=Math.max(e,o+s)}return{rotation:t,circumference:e-t}}update(t){const e=this,n=e.chart,{chartArea:r}=n,i=e._cachedMeta,o=i.data,s=e.getMaxBorderWidth()+e.getMaxOffset(o)+e.options.spacing,a=Math.max((Math.min(r.width,r.height)-s)/2,0),c=Math.min(v(e.options.cutout,a),1),u=e._getRingWeight(e.index),{circumference:l,rotation:h}=e._getRotationExtents(),{ratioX:f,ratioY:d,offsetX:p,offsetY:g}=Yr(h,l,c),m=(r.width-s)/f,b=(r.height-s)/d,_=Math.max(Math.min(m,b)/2,0),w=y(e.options.radius,_),x=Math.max(w*c,0),E=(w-x)/e._getVisibleDatasetWeightTotal();e.offsetX=p*w,e.offsetY=g*w,i.total=e.calculateTotal(),e.outerRadius=w-E*e._getRingWeightOffset(e.index),e.innerRadius=Math.max(e.outerRadius-E*u,0),e.updateElements(o,0,o.length,t)}_circumference(t,e){const n=this,r=n.options,i=n._cachedMeta,o=n._getCircumference();return e&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||null===i._parsed[t]||i.data[t].hidden?0:n.calculateCircumference(i._parsed[t]*o/L)}updateElements(t,e,n,r){const i=this,o="reset"===r,s=i.chart,a=s.chartArea,c=s.options,u=c.animation,l=(a.left+a.right)/2,h=(a.top+a.bottom)/2,f=o&&u.animateScale,d=f?0:i.innerRadius,p=f?0:i.outerRadius,g=i.resolveDataElementOptions(e,r),m=i.getSharedOptions(g),v=i.includeOptions(r,m);let y,b=i._getRotation();for(y=0;y<e;++y)b+=i._circumference(y,o);for(y=e;y<e+n;++y){const e=i._circumference(y,o),n=t[y],s={x:l+i.offsetX,y:h+i.offsetY,startAngle:b,endAngle:b+e,circumference:e,outerRadius:p,innerRadius:d};v&&(s.options=m||i.resolveDataElementOptions(y,n.active?"active":r)),b+=e,i.updateElement(n,y,s,r)}i.updateSharedOptions(m,r,g)}calculateTotal(){const t=this._cachedMeta,e=t.data;let n,r=0;for(n=0;n<e.length;n++){const i=t._parsed[n];null===i||isNaN(i)||!this.chart.getDataVisibility(n)||e[n].hidden||(r+=Math.abs(i))}return r}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?L*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this,n=e._cachedMeta,r=e.chart,i=r.data.labels||[],o=Un(n._parsed[t],r.options.locale);return{label:i[t]||"",value:o}}getMaxBorderWidth(t){const e=this;let n=0;const r=e.chart;let i,o,s,a,c;if(!t)for(i=0,o=r.data.datasets.length;i<o;++i)if(r.isDatasetVisible(i)){s=r.getDatasetMeta(i),t=s.data,a=s.controller,a!==e&&a.configure();break}if(!t)return 0;for(i=0,o=t.length;i<o;++i)c=a.resolveDataElementOptions(i),"inner"!==c.borderAlign&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(t){let e=0;for(let n=0,r=t.length;n<r;++n){const t=this.resolveDataElementOptions(n);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(m(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Qr.id="doughnut",Qr.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},Qr.descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t},Qr.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map((e,r)=>{const i=t.getDatasetMeta(0),o=i.controller.getStyle(r);return{text:e,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(t){let e=t.label;const n=": "+t.formattedValue;return f(e)?(e=e.slice(),e[0]+=n):e+=n,e}}}}};class Xr extends Nr{initialize(){this.enableOptionSharing=!0,super.initialize()}update(t){const e=this,n=e._cachedMeta,{dataset:r,data:i=[],_dataset:o}=n,s=e.chart._animationsDisabled;let{start:a,count:c}=Jr(n,i,s);e._drawStart=a,e._drawCount=c,Zr(n)&&(a=0,c=i.length),r._datasetIndex=e.index,r._decimated=!!o._decimated,r.points=i;const u=e.resolveDatasetElementOptions(t);e.options.showLine||(u.borderWidth=0),u.segment=e.options.segment,e.updateElement(r,void 0,{animated:!s,options:u},t),e.updateElements(i,a,c,t)}updateElements(t,e,n,r){const i=this,o="reset"===r,{iScale:s,vScale:a,_stacked:c}=i._cachedMeta,u=i.resolveDataElementOptions(e,r),l=i.getSharedOptions(u),f=i.includeOptions(r,l),d=s.axis,p=a.axis,g=i.options.spanGaps,m=$(g)?g:Number.POSITIVE_INFINITY,v=i.chart._animationsDisabled||o||"none"===r;let y=e>0&&i.getParsed(e-1);for(let b=e;b<e+n;++b){const e=t[b],n=i.getParsed(b),u=v?e:{},g=h(n[p]),_=u[d]=s.getPixelForValue(n[d],b),w=u[p]=o||g?a.getBasePixel():a.getPixelForValue(c?i.applyStack(a,n,c):n[p],b);u.skip=isNaN(_)||isNaN(w)||g,u.stop=b>0&&n[d]-y[d]>m,u.parsed=n,f&&(u.options=l||i.resolveDataElementOptions(b,e.active?"active":r)),v||i.updateElement(e,b,u,r),y=n}i.updateSharedOptions(l,r,u)}getMaxOverflow(){const t=this,e=t._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const o=i[0].size(t.resolveDataElementOptions(0)),s=i[i.length-1].size(t.resolveDataElementOptions(i.length-1));return Math.max(r,o,s)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function Jr(t,e,n){const r=e.length;let i=0,o=r;if(t._sorted){const{iScale:s,_parsed:a}=t,c=s.axis,{min:u,max:l,minDefined:h,maxDefined:f}=s.getUserBounds();h&&(i=st(Math.min(Re(a,s.axis,u).lo,n?r:Re(e,c,s.getPixelForValue(u)).lo),0,r-1)),o=f?st(Math.max(Re(a,s.axis,l).hi+1,n?0:Re(e,c,s.getPixelForValue(l)).hi+1),i,r)-i:r-i}return{start:i,count:o}}function Zr(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const o=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),o}Xr.id="line",Xr.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},Xr.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class ti extends Nr{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this,n=e._cachedMeta,r=e.chart,i=r.data.labels||[],o=Un(n._parsed[t].r,r.options.locale);return{label:i[t]||"",value:o}}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}_updateRadius(){const t=this,e=t.chart,n=e.chartArea,r=e.options,i=Math.min(n.right-n.left,n.bottom-n.top),o=Math.max(i/2,0),s=Math.max(r.cutoutPercentage?o/100*r.cutoutPercentage:1,0),a=(o-s)/e.getVisibleDatasetCount();t.outerRadius=o-a*t.index,t.innerRadius=t.outerRadius-a}updateElements(t,e,n,r){const i=this,o="reset"===r,s=i.chart,a=i.getDataset(),c=s.options,u=c.animation,l=i._cachedMeta.rScale,h=l.xCenter,f=l.yCenter,d=l.getIndexAngle(0)-.5*M;let p,g=d;const m=360/i.countVisibleElements();for(p=0;p<e;++p)g+=i._computeAngle(p,r,m);for(p=e;p<e+n;p++){const e=t[p];let n=g,c=g+i._computeAngle(p,r,m),v=s.getDataVisibility(p)?l.getDistanceFromCenterForValue(a.data[p]):0;g=c,o&&(u.animateScale&&(v=0),u.animateRotate&&(n=c=d));const y={x:h,y:f,innerRadius:0,outerRadius:v,startAngle:n,endAngle:c,options:i.resolveDataElementOptions(p,e.active?"active":r)};i.updateElement(e,p,y,r)}}countVisibleElements(){const t=this.getDataset(),e=this._cachedMeta;let n=0;return e.data.forEach((e,r)=>{!isNaN(t.data[r])&&this.chart.getDataVisibility(r)&&n++}),n}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?J(this.resolveDataElementOptions(t,e).angle||n):0}}ti.id="polarArea",ti.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},ti.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map((e,r)=>{const i=t.getDatasetMeta(0),o=i.controller.getStyle(r);return{text:e,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(t){return t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class ei extends Qr{}ei.id="pie",ei.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class ni extends Nr{getLabelAndValue(t){const e=this,n=e._cachedMeta.vScale,r=e.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(r[n.axis])}}update(t){const e=this,n=e._cachedMeta,r=n.dataset,i=n.data||[],o=n.iScale.getLabels();if(r.points=i,"resize"!==t){const n=e.resolveDatasetElementOptions(t);e.options.showLine||(n.borderWidth=0);const s={_loop:!0,_fullLoop:o.length===i.length,options:n};e.updateElement(r,void 0,s,t)}e.updateElements(i,0,i.length,t)}updateElements(t,e,n,r){const i=this,o=i.getDataset(),s=i._cachedMeta.rScale,a="reset"===r;for(let c=e;c<e+n;c++){const e=t[c],n=i.resolveDataElementOptions(c,e.active?"active":r),u=s.getPointPositionForValue(c,o.data[c]),l=a?s.xCenter:u.x,h=a?s.yCenter:u.y,f={x:l,y:h,angle:u.angle,skip:isNaN(l)||isNaN(h),options:n};i.updateElement(e,c,f,r)}}}ni.id="radar",ni.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},ni.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class ri extends Xr{}ri.id="scatter",ri.defaults={showLine:!1,fill:!1},ri.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(t){return"("+t.label+", "+t.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var ii=Object.freeze({__proto__:null,BarController:Gr,BubbleController:$r,DoughnutController:Qr,LineController:Xr,PolarAreaController:ti,PieController:ei,RadarController:ni,ScatterController:ri});function oi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class si{constructor(t){this.options=t||{}}formats(){return oi()}parse(t,e){return oi()}format(t,e){return oi()}add(t,e,n){return oi()}diff(t,e,n){return oi()}startOf(t,e,n){return oi()}endOf(t,e){return oi()}}si.override=function(t){Object.assign(si.prototype,t)};var ai={_date:si};function ci(t,e){return"native"in t?{x:t.x,y:t.y}:kn(t,e)}function ui(t,e){const n=t.getSortedVisibleDatasetMetas();let r,i,o;for(let s=0,a=n.length;s<a;++s){({index:r,data:i}=n[s]);for(let t=0,n=i.length;t<n;++t)o=i[t],o.skip||e(o,r,t)}}function li(t,e,n,r){const{controller:i,data:o,_sorted:s}=t,a=i._cachedMeta.iScale;if(a&&e===a.axis&&s&&o.length){const t=a._reversePixels?Me:Re;if(!r)return t(o,e,n);if(i._sharedOptions){const r=o[0],i="function"===typeof r.getRange&&r.getRange(e);if(i){const r=t(o,e,n-i),s=t(o,e,n+i);return{lo:r.lo,hi:s.hi}}}}return{lo:0,hi:o.length-1}}function hi(t,e,n,r,i){const o=t.getSortedVisibleDatasetMetas(),s=n[e];for(let a=0,c=o.length;a<c;++a){const{index:t,data:n}=o[a],{lo:c,hi:u}=li(o[a],e,s,i);for(let e=c;e<=u;++e){const i=n[e];i.skip||r(i,t,e)}}}function fi(t){const e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,r){const i=e?Math.abs(t.x-r.x):0,o=n?Math.abs(t.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function di(t,e,n,r){const i=[];if(!pe(e,t.chartArea,t._minPadding))return i;const o=function(t,n,o){t.inRange(e.x,e.y,r)&&i.push({element:t,datasetIndex:n,index:o})};return hi(t,n,e,o,!0),i}function pi(t,e,n,r,i){const o=fi(n);let s=Number.POSITIVE_INFINITY,a=[];if(!pe(e,t.chartArea,t._minPadding))return a;const c=function(n,c,u){if(r&&!n.inRange(e.x,e.y,i))return;const l=n.getCenterPoint(i);if(!pe(l,t.chartArea,t._minPadding)&&!n.inRange(e.x,e.y,i))return;const h=o(e,l);h<s?(a=[{element:n,datasetIndex:c,index:u}],s=h):h===s&&a.push({element:n,datasetIndex:c,index:u})};return hi(t,n,e,c),a}function gi(t,e,n,r){const i=ci(e,t),o=[],s=n.axis,a="x"===s?"inXRange":"inYRange";let c=!1;return ui(t,(t,e,n)=>{t[a](i[s],r)&&o.push({element:t,datasetIndex:e,index:n}),t.inRange(i.x,i.y,r)&&(c=!0)}),n.intersect&&!c?[]:o}var mi={modes:{index(t,e,n,r){const i=ci(e,t),o=n.axis||"x",s=n.intersect?di(t,i,o,r):pi(t,i,o,!1,r),a=[];return s.length?(t.getSortedVisibleDatasetMetas().forEach(t=>{const e=s[0].index,n=t.data[e];n&&!n.skip&&a.push({element:n,datasetIndex:t.index,index:e})}),a):[]},dataset(t,e,n,r){const i=ci(e,t),o=n.axis||"xy";let s=n.intersect?di(t,i,o,r):pi(t,i,o,!1,r);if(s.length>0){const e=s[0].datasetIndex,n=t.getDatasetMeta(e).data;s=[];for(let t=0;t<n.length;++t)s.push({element:n[t],datasetIndex:e,index:t})}return s},point(t,e,n,r){const i=ci(e,t),o=n.axis||"xy";return di(t,i,o,r)},nearest(t,e,n,r){const i=ci(e,t),o=n.axis||"xy";return pi(t,i,o,n.intersect,r)},x(t,e,n,r){return n.axis="x",gi(t,e,n,r)},y(t,e,n,r){return n.axis="y",gi(t,e,n,r)}}};const vi=["left","top","right","bottom"];function yi(t,e){return t.filter(t=>t.pos===e)}function bi(t,e){return t.filter(t=>-1===vi.indexOf(t.pos)&&t.box.axis===e)}function _i(t,e){return t.sort((t,n)=>{const r=e?n:t,i=e?t:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function wi(t){const e=[];let n,r,i,o,s,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],({position:o,options:{stack:s,stackWeight:a=1}}=i),e.push({index:n,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:s&&o+s,stackWeight:a});return e}function xi(t){const e={};for(const n of t){const{stack:t,pos:r,stackWeight:i}=n;if(!t||!vi.includes(r))continue;const o=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function Ei(t,e){const n=xi(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let o,s,a;for(o=0,s=t.length;o<s;++o){a=t[o];const{fullSize:s}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:s&&e.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:s&&e.availableHeight)}return n}function Oi(t){const e=wi(t),n=_i(e.filter(t=>t.box.fullSize),!0),r=_i(yi(e,"left"),!0),i=_i(yi(e,"right")),o=_i(yi(e,"top"),!0),s=_i(yi(e,"bottom")),a=bi(e,"x"),c=bi(e,"y");return{fullSize:n,leftAndTop:r.concat(o),rightAndBottom:i.concat(c).concat(s).concat(a),chartArea:yi(e,"chartArea"),vertical:r.concat(i).concat(c),horizontal:o.concat(s).concat(a)}}function Ti(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function Ii(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function ki(t,e,n,r){const{pos:i,box:o}=n,s=t.maxPadding;if(!d(i)){n.size&&(t[i]-=n.size);const e=r[n.stack]||{size:0,count:1};e.size=Math.max(e.size,n.horizontal?o.height:o.width),n.size=e.size/e.count,t[i]+=n.size}o.getPadding&&Ii(s,o.getPadding());const a=Math.max(0,e.outerWidth-Ti(s,t,"left","right")),c=Math.max(0,e.outerHeight-Ti(s,t,"top","bottom")),u=a!==t.w,l=c!==t.h;return t.w=a,t.h=c,n.horizontal?{same:u,other:l}:{same:l,other:u}}function Si(t){const e=t.maxPadding;function n(n){const r=Math.max(e[n]-t[n],0);return t[n]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Ci(t,e){const n=e.maxPadding;function r(t){const r={left:0,top:0,right:0,bottom:0};return t.forEach(t=>{r[t]=Math.max(e[t],n[t])}),r}return r(t?["left","right"]:["top","bottom"])}function Ai(t,e,n,r){const i=[];let o,s,a,c,u,l;for(o=0,s=t.length,u=0;o<s;++o){a=t[o],c=a.box,c.update(a.width||e.w,a.height||e.h,Ci(a.horizontal,e));const{same:s,other:h}=ki(e,n,a,r);u|=s&&i.length,l=l||h,c.fullSize||i.push(a)}return u&&Ai(i,e,n,r)||l}function ji(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function Ni(t,e,n,r){const i=n.padding;let{x:o,y:s}=e;for(const a of t){const t=a.box,c=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const r=e.w*u,o=c.size||t.height;P(c.start)&&(s=c.start),t.fullSize?ji(t,i.left,s,n.outerWidth-i.right-i.left,o):ji(t,e.left+c.placed,s,r,o),c.start=s,c.placed+=r,s=t.bottom}else{const r=e.h*u,s=c.size||t.width;P(c.start)&&(o=c.start),t.fullSize?ji(t,o,i.top,s,n.outerHeight-i.bottom-i.top):ji(t,o,e.top+c.placed,s,r),c.start=o,c.placed+=r,o=t.right}}e.x=o,e.y=s}ae.set("layout",{padding:{top:0,right:0,bottom:0,left:0}});var Pi={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=Ae(t.options.layout.padding),o=Math.max(e-i.width,0),s=Math.max(n-i.height,0),a=Oi(t.boxes),c=a.vertical,u=a.horizontal;_(t.boxes,t=>{"function"===typeof t.beforeLayout&&t.beforeLayout()});const l=c.reduce((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/l,hBoxMaxHeight:s/2}),f=Object.assign({},i);Ii(f,Ae(r));const d=Object.assign({maxPadding:f,w:o,h:s,x:i.left,y:i.top},i),p=Ei(c.concat(u),h);Ai(a.fullSize,d,h,p),Ai(c,d,h,p),Ai(u,d,h,p)&&Ai(c,d,h,p),Si(d),Ni(a.leftAndTop,d,h,p),d.x+=d.w,d.y+=d.h,Ni(a.rightAndBottom,d,h,p),t.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},_(a.chartArea,e=>{const n=e.box;Object.assign(n,t.chartArea),n.update(d.w,d.h)})}};class Di{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,r){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):n)}}isAttached(t){return!0}}class Ri extends Di{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}}const Mi="$chartjs",Li={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Fi=t=>null===t||""===t;function Ui(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Mi]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Fi(i)){const e=Pn(t,"width");void 0!==e&&(t.width=e)}if(Fi(r))if(""===t.style.height)t.height=t.width/(e||2);else{const e=Pn(t,"height");void 0!==e&&(t.height=e)}return t}const Vi=!!Nn&&{passive:!0};function Bi(t,e,n){t.addEventListener(e,n,Vi)}function qi(t,e,n){t.canvas.removeEventListener(e,n,Vi)}function zi(t,e){const n=Li[t.type]||t.type,{x:r,y:i}=kn(t,e);return{type:n,chart:e,native:t,x:void 0!==r?r:null,y:void 0!==i?i:null}}function Wi(t,e,n){const r=t.canvas,i=r&&bn(r),o=i||r,s=new MutationObserver(t=>{const e=bn(o);t.forEach(t=>{for(let r=0;r<t.addedNodes.length;r++){const i=t.addedNodes[r];i!==o&&i!==e||n(t.target)}})});return s.observe(document,{childList:!0,subtree:!0}),s}function Hi(t,e,n){const r=t.canvas,i=r&&bn(r);if(!i)return;const o=new MutationObserver(t=>{t.forEach(t=>{for(let e=0;e<t.removedNodes.length;e++)if(t.removedNodes[e]===r){n();break}})});return o.observe(i,{childList:!0}),o}const Ki=new Map;let Gi=0;function $i(){const t=window.devicePixelRatio;t!==Gi&&(Gi=t,Ki.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Yi(t,e){Ki.size||window.addEventListener("resize",$i),Ki.set(t,e)}function Qi(t){Ki.delete(t),Ki.size||window.removeEventListener("resize",$i)}function Xi(t,e,n){const r=t.canvas,o=r&&bn(r);if(!o)return;const s=i((t,e)=>{const r=o.clientWidth;n(t,e),r<o.clientWidth&&n()},window),a=new ResizeObserver(t=>{const e=t[0],n=e.contentRect.width,r=e.contentRect.height;0===n&&0===r||s(n,r)});return a.observe(o),Yi(t,s),a}function Ji(t,e,n){n&&n.disconnect(),"resize"===e&&Qi(t)}function Zi(t,e,n){const r=t.canvas,o=i(e=>{null!==t.ctx&&n(zi(e,t))},t,t=>{const e=t[0];return[e,e.offsetX,e.offsetY]});return Bi(r,e,o),o}class to extends Di{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(Ui(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[Mi])return!1;const n=e[Mi].initial;["height","width"].forEach(t=>{const r=n[t];h(r)?e.removeAttribute(t):e.setAttribute(t,r)});const r=n.style||{};return Object.keys(r).forEach(t=>{e.style[t]=r[t]}),e.width=e.width,delete e[Mi],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),i={attach:Wi,detach:Hi,resize:Xi},o=i[e]||Zi;r[e]=o(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),r=n[e];if(!r)return;const i={attach:Ji,detach:Ji,resize:Ji},o=i[e]||qi;o(t,e,r),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,r){return An(t,e,n,r)}isAttached(t){const e=bn(t);return!(!e||!e.isConnected)}}function eo(t){return!yn()||"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas?Ri:to}class no{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return $(this.x)&&$(this.y)}getProps(t,e){const n=this,r=this.$animations;if(!e||!r)return n;const i={};return t.forEach(t=>{i[t]=r[t]&&r[t].active()?r[t]._to:n[t]}),i}}no.defaults={},no.defaultRoutes=void 0;const ro={values(t){return f(t)?t:""+t},numeric(t,e,n){if(0===t)return"0";const r=this.chart.options.locale;let i,o=t;if(n.length>1){const e=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(e<1e-4||e>1e15)&&(i="scientific"),o=io(t,n)}const s=W(Math.abs(o)),a=Math.max(Math.min(-1*Math.floor(s),20),0),c={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),Un(t,r,c)},logarithmic(t,e,n){if(0===t)return"0";const r=t/Math.pow(10,Math.floor(W(t)));return 1===r||2===r||5===r?ro.numeric.call(this,t,e,n):""}};function io(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var oo={formatters:ro};function so(t,e){const n=t.options.ticks,r=n.maxTicksLimit||ao(t),i=n.major.enabled?uo(e):[],o=i.length,s=i[0],a=i[o-1],c=[];if(o>r)return lo(e,c,i,o/r),c;const u=co(i,e,r);if(o>0){let t,n;const r=o>1?Math.round((a-s)/(o-1)):null;for(ho(e,c,u,h(r)?0:s-r,s),t=0,n=o-1;t<n;t++)ho(e,c,u,i[t],i[t+1]);return ho(e,c,u,a,h(r)?e.length:a+r),c}return ho(e,c,u),c}function ao(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function co(t,e,n){const r=fo(t),i=e.length/n;if(!r)return Math.max(i,1);const o=G(r);for(let s=0,a=o.length-1;s<a;s++){const t=o[s];if(t>i)return t}return Math.max(i,1)}function uo(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function lo(t,e,n,r){let i,o=0,s=n[0];for(r=Math.ceil(r),i=0;i<t.length;i++)i===s&&(e.push(t[i]),o++,s=n[o*r])}function ho(t,e,n,r,i){const o=m(r,0),s=Math.min(m(i,t.length),t.length);let a,c,u,l=0;n=Math.ceil(n),i&&(a=i-r,n=a/Math.floor(a/n)),u=o;while(u<0)l++,u=Math.round(o+l*n);for(c=Math.max(o,0);c<s;c++)c===u&&(e.push(t[c]),l++,u=Math.round(o+l*n))}function fo(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}ae.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:oo.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),ae.route("scale.ticks","color","","color"),ae.route("scale.grid","color","","borderColor"),ae.route("scale.grid","borderColor","","borderColor"),ae.route("scale.title","color","","color"),ae.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t}),ae.describe("scales",{_fallback:"scale"}),ae.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t});const po=t=>"left"===t?"right":"right"===t?"left":t,go=(t,e,n)=>"top"===e||"left"===e?t[e]+n:t[e]-n;function mo(t,e){const n=[],r=t.length/e,i=t.length;let o=0;for(;o<i;o+=r)n.push(t[Math.floor(o)]);return n}function vo(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),o=t._startPixel,s=t._endPixel,a=1e-6;let c,u=t.getPixelForTick(i);if(!(n&&(c=1===r?Math.max(u-o,s-u):0===e?(t.getPixelForTick(1)-u)/2:(u-t.getPixelForTick(i-1))/2,u+=i<e?c:-c,u<o-a||u>s+a)))return u}function yo(t,e){_(t,t=>{const n=t.gc,r=n.length/2;let i;if(r>e){for(i=0;i<r;++i)delete t.data[n[i]];n.splice(0,r)}})}function bo(t){return t.drawTicks?t.tickLength:0}function _o(t,e){if(!t.display)return 0;const n=je(t.font,e),r=Ae(t.padding),i=f(t.text)?t.text.length:1;return i*n.lineHeight+r.height}function wo(t,e){return Object.assign(Object.create(t),{scale:e,type:"scale"})}function xo(t,e,n){return Object.assign(Object.create(t),{tick:n,index:e,type:"tick"})}function Eo(t,e,n){let r=s(t);return(n&&"right"!==e||!n&&"right"===e)&&(r=po(r)),r}function Oo(t,e,n,r){const{top:i,left:o,bottom:s,right:c,chart:u}=t,{chartArea:l,scales:h}=u;let f,p,g,m=0;const v=s-i,y=c-o;if(t.isHorizontal()){if(p=a(r,o,c),d(n)){const t=Object.keys(n)[0],r=n[t];g=h[t].getPixelForValue(r)+v-e}else g="center"===n?(l.bottom+l.top)/2+v-e:go(t,n,e);f=c-o}else{if(d(n)){const t=Object.keys(n)[0],r=n[t];p=h[t].getPixelForValue(r)-y+e}else p="center"===n?(l.left+l.right)/2-y+e:go(t,n,e);g=a(r,s,i),m="left"===n?-B:B}return{titleX:p,titleY:g,maxWidth:f,rotation:m}}class To extends no{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){const e=this;e.options=t.setContext(e.getContext()),e.axis=t.axis,e._userMin=e.parse(t.min),e._userMax=e.parse(t.max),e._suggestedMin=e.parse(t.suggestedMin),e._suggestedMax=e.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:r}=this;return t=g(t,Number.POSITIVE_INFINITY),e=g(e,Number.NEGATIVE_INFINITY),n=g(n,Number.POSITIVE_INFINITY),r=g(r,Number.NEGATIVE_INFINITY),{min:g(t,n),max:g(e,r),minDefined:p(t),maxDefined:p(e)}}getMinMax(t){const e=this;let n,{min:r,max:i,minDefined:o,maxDefined:s}=e.getUserBounds();if(o&&s)return{min:r,max:i};const a=e.getMatchingVisibleMetas();for(let c=0,u=a.length;c<u;++c)n=a[c].controller.getMinMax(e,t),o||(r=Math.min(r,n.min)),s||(i=Math.max(i,n.max));return{min:g(r,g(i,r)),max:g(i,g(r,i))}}getPadding(){const t=this;return{left:t.paddingLeft||0,top:t.paddingTop||0,right:t.paddingRight||0,bottom:t.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){b(this.options.beforeUpdate,[this])}update(t,e,n){const r=this,i=r.options.ticks,o=i.sampleSize;r.beforeUpdate(),r.maxWidth=t,r.maxHeight=e,r._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),r.ticks=null,r._labelSizes=null,r._gridLineItems=null,r._labelItems=null,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r._maxLength=r.isHorizontal()?r.width+n.left+n.right:r.height+n.top+n.bottom,r._dataLimitsCached||(r.beforeDataLimits(),r.determineDataLimits(),r.afterDataLimits(),r._range=Pe(r,r.options.grace),r._dataLimitsCached=!0),r.beforeBuildTicks(),r.ticks=r.buildTicks()||[],r.afterBuildTicks();const s=o<r.ticks.length;r._convertTicksToLabels(s?mo(r.ticks,o):r.ticks),r.configure(),r.beforeCalculateLabelRotation(),r.calculateLabelRotation(),r.afterCalculateLabelRotation(),i.display&&(i.autoSkip||"auto"===i.source)&&(r.ticks=so(r,r.ticks),r._labelSizes=null),s&&r._convertTicksToLabels(r.ticks),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate()}configure(){const t=this;let e,n,r=t.options.reverse;t.isHorizontal()?(e=t.left,n=t.right):(e=t.top,n=t.bottom,r=!r),t._startPixel=e,t._endPixel=n,t._reversePixels=r,t._length=n-e,t._alignToPixels=t.options.alignToPixels}afterUpdate(){b(this.options.afterUpdate,[this])}beforeSetDimensions(){b(this.options.beforeSetDimensions,[this])}setDimensions(){const t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0}afterSetDimensions(){b(this.options.afterSetDimensions,[this])}_callHooks(t){const e=this;e.chart.notifyPlugins(t,e.getContext()),b(e.options[t],[e])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){b(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this,n=e.options.ticks;let r,i,o;for(r=0,i=t.length;r<i;r++)o=t[r],o.label=b(n.callback,[o.value,r,t],e)}afterTickToLabelConversion(){b(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){b(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this,e=t.options,n=e.ticks,r=t.ticks.length,i=n.minRotation||0,o=n.maxRotation;let s,a,c,u=i;if(!t._isVisible()||!n.display||i>=o||r<=1||!t.isHorizontal())return void(t.labelRotation=i);const l=t._getLabelSizes(),h=l.widest.width,f=l.highest.height,d=st(t.chart.width-h,0,t.maxWidth);s=e.offset?t.maxWidth/r:d/(r-1),h+6>s&&(s=d/(r-(e.offset?.5:1)),a=t.maxHeight-bo(e.grid)-n.padding-_o(e.title,t.chart.options.font),c=Math.sqrt(h*h+f*f),u=Z(Math.min(Math.asin(st((l.highest.height+6)/s,-1,1)),Math.asin(st(a/c,-1,1))-Math.asin(st(f/c,-1,1)))),u=Math.max(i,Math.min(o,u))),t.labelRotation=u}afterCalculateLabelRotation(){b(this.options.afterCalculateLabelRotation,[this])}beforeFit(){b(this.options.beforeFit,[this])}fit(){const t=this,e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:o}}=t,s=t._isVisible(),a=t.isHorizontal();if(s){const s=_o(i,n.options.font);if(a?(e.width=t.maxWidth,e.height=bo(o)+s):(e.height=t.maxHeight,e.width=bo(o)+s),r.display&&t.ticks.length){const{first:n,last:i,widest:o,highest:s}=t._getLabelSizes(),c=2*r.padding,u=J(t.labelRotation),l=Math.cos(u),h=Math.sin(u);if(a){const n=r.mirror?0:h*o.width+l*s.height;e.height=Math.min(t.maxHeight,e.height+n+c)}else{const n=r.mirror?0:l*o.width+h*s.height;e.width=Math.min(t.maxWidth,e.width+n+c)}t._calculatePadding(n,i,h,l)}}t._handleMargins(),a?(t.width=t._length=n.width-t._margins.left-t._margins.right,t.height=e.height):(t.width=e.width,t.height=t._length=n.height-t._margins.top-t._margins.bottom)}_calculatePadding(t,e,n,r){const i=this,{ticks:{align:o,padding:s},position:a}=i.options,c=0!==i.labelRotation,u="top"!==a&&"x"===i.axis;if(i.isHorizontal()){const a=i.getPixelForTick(0)-i.left,l=i.right-i.getPixelForTick(i.ticks.length-1);let h=0,f=0;c?u?(h=r*t.width,f=n*e.height):(h=n*t.height,f=r*e.width):"start"===o?f=e.width:"end"===o?h=t.width:(h=t.width/2,f=e.width/2),i.paddingLeft=Math.max((h-a+s)*i.width/(i.width-a),0),i.paddingRight=Math.max((f-l+s)*i.width/(i.width-l),0)}else{let n=e.height/2,r=t.height/2;"start"===o?(n=0,r=t.height):"end"===o&&(n=e.height,r=0),i.paddingTop=n+s,i.paddingBottom=r+s}}_handleMargins(){const t=this;t._margins&&(t._margins.left=Math.max(t.paddingLeft,t._margins.left),t._margins.top=Math.max(t.paddingTop,t._margins.top),t._margins.right=Math.max(t.paddingRight,t._margins.right),t._margins.bottom=Math.max(t.paddingBottom,t._margins.bottom))}afterFit(){b(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){const e=this;let n,r;for(e.beforeTickToLabelConversion(),e.generateTickLabels(t),n=0,r=t.length;n<r;n++)h(t[n].label)&&(t.splice(n,1),r--,n--);e.afterTickToLabelConversion()}_getLabelSizes(){const t=this;let e=t._labelSizes;if(!e){const n=t.options.ticks.sampleSize;let r=t.ticks;n<r.length&&(r=mo(r,n)),t._labelSizes=e=t._computeLabelSizes(r,r.length)}return e}_computeLabelSizes(t,e){const{ctx:n,_longestTextCache:r}=this,i=[],o=[];let s,a,c,u,l,d,p,g,m,v,y,b=0,_=0;for(s=0;s<e;++s){if(u=t[s].label,l=this._resolveTickFontOptions(s),n.font=d=l.string,p=r[d]=r[d]||{data:{},gc:[]},g=l.lineHeight,m=v=0,h(u)||f(u)){if(f(u))for(a=0,c=u.length;a<c;++a)y=u[a],h(y)||f(y)||(m=ue(n,p.data,p.gc,m,y),v+=g)}else m=ue(n,p.data,p.gc,m,u),v=g;i.push(m),o.push(v),b=Math.max(m,b),_=Math.max(v,_)}yo(r,e);const w=i.indexOf(b),x=o.indexOf(_),E=t=>({width:i[t]||0,height:o[t]||0});return{first:E(0),last:E(e-1),widest:E(w),highest:E(x),widths:i,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){const e=this;e._reversePixels&&(t=1-t);const n=e._startPixel+t*e._length;return at(e._alignToPixels?he(e.chart,n,0):n)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this,n=e.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=xo(e.getContext(),t,r))}return e.$context||(e.$context=wo(e.chart.getContext(),e))}_tickSize(){const t=this,e=t.options.ticks,n=J(t.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),o=t._getLabelSizes(),s=e.autoSkipPadding||0,a=o?o.widest.width+s:0,c=o?o.highest.height+s:0;return t.isHorizontal()?c*r>a*i?a/r:c/i:c*i<a*r?c/r:a/i}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this,n=e.axis,r=e.chart,i=e.options,{grid:o,position:s}=i,a=o.offset,c=e.isHorizontal(),u=e.ticks,l=u.length+(a?1:0),h=bo(o),f=[],p=o.setContext(e.getContext()),g=p.drawBorder?p.borderWidth:0,v=g/2,y=function(t){return he(r,t,g)};let b,_,w,x,E,O,T,I,k,S,C,A;if("top"===s)b=y(e.bottom),O=e.bottom-h,I=b-v,S=y(t.top)+v,A=t.bottom;else if("bottom"===s)b=y(e.top),S=t.top,A=y(t.bottom)-v,O=b+v,I=e.top+h;else if("left"===s)b=y(e.right),E=e.right-h,T=b-v,k=y(t.left)+v,C=t.right;else if("right"===s)b=y(e.left),k=t.left,C=y(t.right)-v,E=b+v,T=e.left+h;else if("x"===n){if("center"===s)b=y((t.top+t.bottom)/2+.5);else if(d(s)){const t=Object.keys(s)[0],n=s[t];b=y(e.chart.scales[t].getPixelForValue(n))}S=t.top,A=t.bottom,O=b+v,I=O+h}else if("y"===n){if("center"===s)b=y((t.left+t.right)/2);else if(d(s)){const t=Object.keys(s)[0],n=s[t];b=y(e.chart.scales[t].getPixelForValue(n))}E=b-v,T=E-h,k=t.left,C=t.right}const j=m(i.ticks.maxTicksLimit,l),N=Math.max(1,Math.ceil(l/j));for(_=0;_<l;_+=N){const t=o.setContext(e.getContext(_)),n=t.lineWidth,i=t.color,s=o.borderDash||[],u=t.borderDashOffset,l=t.tickWidth,h=t.tickColor,d=t.tickBorderDash||[],p=t.tickBorderDashOffset;w=vo(e,_,a),void 0!==w&&(x=he(r,w,n),c?E=T=k=C=x:O=I=S=A=x,f.push({tx1:E,ty1:O,tx2:T,ty2:I,x1:k,y1:S,x2:C,y2:A,width:n,color:i,borderDash:s,borderDashOffset:u,tickWidth:l,tickColor:h,tickBorderDash:d,tickBorderDashOffset:p}))}return e._ticksLength=l,e._borderValue=b,f}_computeLabelItems(t){const e=this,n=e.axis,r=e.options,{position:i,ticks:o}=r,s=e.isHorizontal(),a=e.ticks,{align:c,crossAlign:u,padding:l,mirror:h}=o,p=bo(r.grid),g=p+l,m=h?-l:g,v=-J(e.labelRotation),y=[];let b,_,w,x,E,O,T,I,k,S,C,A,j="middle";if("top"===i)O=e.bottom-m,T=e._getXAxisLabelAlignment();else if("bottom"===i)O=e.top+m,T=e._getXAxisLabelAlignment();else if("left"===i){const t=e._getYAxisLabelAlignment(p);T=t.textAlign,E=t.x}else if("right"===i){const t=e._getYAxisLabelAlignment(p);T=t.textAlign,E=t.x}else if("x"===n){if("center"===i)O=(t.top+t.bottom)/2+g;else if(d(i)){const t=Object.keys(i)[0],n=i[t];O=e.chart.scales[t].getPixelForValue(n)+g}T=e._getXAxisLabelAlignment()}else if("y"===n){if("center"===i)E=(t.left+t.right)/2-g;else if(d(i)){const t=Object.keys(i)[0],n=i[t];E=e.chart.scales[t].getPixelForValue(n)}T=e._getYAxisLabelAlignment(p).textAlign}"y"===n&&("start"===c?j="top":"end"===c&&(j="bottom"));const N=e._getLabelSizes();for(b=0,_=a.length;b<_;++b){w=a[b],x=w.label;const t=o.setContext(e.getContext(b));I=e.getPixelForTick(b)+o.labelOffset,k=e._resolveTickFontOptions(b),S=k.lineHeight,C=f(x)?x.length:1;const n=C/2,r=t.color,c=t.textStrokeColor,l=t.textStrokeWidth;let d;if(s?(E=I,A="top"===i?"near"===u||0!==v?-C*S+S/2:"center"===u?-N.highest.height/2-n*S+S:-N.highest.height+S/2:"near"===u||0!==v?S/2:"center"===u?N.highest.height/2-n*S:N.highest.height-C*S,h&&(A*=-1)):(O=I,A=(1-C)*S/2),t.showLabelBackdrop){const e=Ae(t.backdropPadding),n=N.heights[b],r=N.widths[b];let i=O+A-e.top,o=E-e.left;switch(j){case"middle":i-=n/2;break;case"bottom":i-=n;break}switch(T){case"center":o-=r/2;break;case"right":o-=r;break}d={left:o,top:i,width:r+e.width,height:n+e.height,color:t.backdropColor}}y.push({rotation:v,label:x,font:k,color:r,strokeColor:c,strokeWidth:l,textOffset:A,textAlign:T,textBaseline:j,translation:[E,O],backdrop:d})}return y}_getXAxisLabelAlignment(){const t=this,{position:e,ticks:n}=t.options,r=-J(t.labelRotation);if(r)return"top"===e?"left":"right";let i="center";return"start"===n.align?i="left":"end"===n.align&&(i="right"),i}_getYAxisLabelAlignment(t){const e=this,{position:n,ticks:{crossAlign:r,mirror:i,padding:o}}=e.options,s=e._getLabelSizes(),a=t+o,c=s.widest.width;let u,l;return"left"===n?i?(l=e.right+o,"near"===r?u="left":"center"===r?(u="center",l+=c/2):(u="right",l+=c)):(l=e.right-a,"near"===r?u="right":"center"===r?(u="center",l-=c/2):(u="left",l=e.left)):"right"===n?i?(l=e.left+o,"near"===r?u="right":"center"===r?(u="center",l-=c/2):(u="left",l-=c)):(l=e.left+a,"near"===r?u="left":"center"===r?(u="center",l+=c/2):(u="right",l=e.right)):u="right",{textAlign:u,x:l}}_computeLabelArea(){const t=this;if(t.options.ticks.mirror)return;const e=t.chart,n=t.options.position;return"left"===n||"right"===n?{top:0,left:t.left,bottom:e.height,right:t.right}:"top"===n||"bottom"===n?{top:t.top,left:0,bottom:t.bottom,right:e.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:r,width:i,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,r,i,o),t.restore())}getLineWidthForValue(t){const e=this,n=e.options.grid;if(!e._isVisible()||!n.display)return 0;const r=e.ticks,i=r.findIndex(e=>e.value===t);if(i>=0){const t=n.setContext(e.getContext(i));return t.lineWidth}return 0}drawGrid(t){const e=this,n=e.options.grid,r=e.ctx,i=e._gridLineItems||(e._gridLineItems=e._computeGridLineItems(t));let o,s;const a=(t,e,n)=>{n.width&&n.color&&(r.save(),r.lineWidth=n.width,r.strokeStyle=n.color,r.setLineDash(n.borderDash||[]),r.lineDashOffset=n.borderDashOffset,r.beginPath(),r.moveTo(t.x,t.y),r.lineTo(e.x,e.y),r.stroke(),r.restore())};if(n.display)for(o=0,s=i.length;o<s;++o){const t=i[o];n.drawOnChartArea&&a({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),n.drawTicks&&a({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const t=this,{chart:e,ctx:n,options:{grid:r}}=t,i=r.setContext(t.getContext()),o=r.drawBorder?i.borderWidth:0;if(!o)return;const s=r.setContext(t.getContext(0)).lineWidth,a=t._borderValue;let c,u,l,h;t.isHorizontal()?(c=he(e,t.left,o)-o/2,u=he(e,t.right,s)+s/2,l=h=a):(l=he(e,t.top,o)-o/2,h=he(e,t.bottom,s)+s/2,c=u=a),n.save(),n.lineWidth=i.borderWidth,n.strokeStyle=i.borderColor,n.beginPath(),n.moveTo(c,l),n.lineTo(u,h),n.stroke(),n.restore()}drawLabels(t){const e=this,n=e.options.ticks;if(!n.display)return;const r=e.ctx,i=e._computeLabelArea();i&&ge(r,i);const o=e._labelItems||(e._labelItems=e._computeLabelItems(t));let s,a;for(s=0,a=o.length;s<a;++s){const t=o[s],e=t.font,n=t.label;t.backdrop&&(r.fillStyle=t.backdrop.color,r.fillRect(t.backdrop.left,t.backdrop.top,t.backdrop.width,t.backdrop.height));let i=t.textOffset;be(r,n,0,i,e,t)}i&&me(r)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:r}}=this;if(!n.display)return;const i=je(n.font),o=Ae(n.padding),s=n.align;let a=i.lineHeight/2;"bottom"===e||"center"===e||d(e)?(a+=o.bottom,f(n.text)&&(a+=i.lineHeight*(n.text.length-1))):a+=o.top;const{titleX:c,titleY:u,maxWidth:l,rotation:h}=Oo(this,a,e,s);be(t,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:h,textAlign:Eo(s,e,r),textBaseline:"middle",translation:[c,u]})}draw(t){const e=this;e._isVisible()&&(e.drawBackground(),e.drawGrid(t),e.drawBorder(),e.drawTitle(),e.drawLabels(t))}_layers(){const t=this,e=t.options,n=e.ticks&&e.ticks.z||0,r=m(e.grid&&e.grid.z,-1);return t._isVisible()&&t.draw===To.prototype.draw?[{z:r,draw(e){t.drawBackground(),t.drawGrid(e),t.drawTitle()}},{z:r+1,draw(){t.drawBorder()}},{z:n,draw(e){t.drawLabels(e)}}]:[{z:n,draw(e){t.draw(e)}}]}getMatchingVisibleMetas(t){const e=this,n=e.chart.getSortedVisibleDatasetMetas(),r=e.axis+"AxisID",i=[];let o,s;for(o=0,s=n.length;o<s;++o){const s=n[o];s[r]!==e.id||t&&s.type!==t||i.push(s)}return i}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return je(e.font)}_maxDigits(){const t=this,e=t._resolveTickFontOptions(0).lineHeight;return(t.isHorizontal()?t.width:t.height)/e}}class Io{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=this,n=Object.getPrototypeOf(t);let r;Co(n)&&(r=e.register(n));const i=e.items,o=t.id,s=e.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in i||(i[o]=t,ko(t,s,r),e.override&&ae.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,r=this.scope;n in e&&delete e[n],r&&n in ae[r]&&(delete ae[r][n],this.override&&delete ne[n])}}function ko(t,e,n){const r=T(Object.create(null),[n?ae.get(n):{},ae.get(e),t.defaults]);ae.set(e,r),t.defaultRoutes&&So(e,t.defaultRoutes),t.descriptors&&ae.describe(e,t.descriptors)}function So(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),o=[t].concat(r).join("."),s=e[n].split("."),a=s.pop(),c=s.join(".");ae.route(o,i,c,a)})}function Co(t){return"id"in t&&"defaults"in t}class Ao{constructor(){this.controllers=new Io(Nr,"datasets",!0),this.elements=new Io(no,"elements"),this.plugins=new Io(Object,"plugins"),this.scales=new Io(To,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){const r=this;[...e].forEach(e=>{const i=n||r._getRegistryForType(e);n||i.isForType(e)||i===r.plugins&&e.id?r._exec(t,i,e):_(e,e=>{const i=n||r._getRegistryForType(e);r._exec(t,i,e)})})}_exec(t,e,n){const r=N(t);b(n["before"+r],[],n),e[t](n),b(n["after"+r],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const r=e.get(t);if(void 0===r)throw new Error('"'+t+'" is not a registered '+n+".");return r}}var jo=new Ao;class No{constructor(){this._init=[]}notify(t,e,n,r){const i=this;"beforeInit"===e&&(i._init=i._createDescriptors(t,!0),i._notify(i._init,t,"install"));const o=r?i._descriptors(t).filter(r):i._descriptors(t),s=i._notify(o,t,e,n);return"destroy"===e&&(i._notify(o,t,"stop"),i._notify(i._init,t,"uninstall")),s}_notify(t,e,n,r){r=r||{};for(const i of t){const t=i.plugin,o=t[n],s=[e,r,i.options];if(!1===b(o,s,t)&&r.cancelable)return!1}return!0}invalidate(){h(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,r=m(n.options&&n.options.plugins,{}),i=Po(n);return!1!==r||e?Ro(t,i,r,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,r=(t,e)=>t.filter(t=>!e.some(e=>t.plugin.id===e.plugin.id));this._notify(r(e,n),t,"stop"),this._notify(r(n,e),t,"start")}}function Po(t){const e=[],n=Object.keys(jo.plugins.items);for(let i=0;i<n.length;i++)e.push(jo.getPlugin(n[i]));const r=t.plugins||[];for(let i=0;i<r.length;i++){const t=r[i];-1===e.indexOf(t)&&e.push(t)}return e}function Do(t,e){return e||!1!==t?!0===t?{}:t:null}function Ro(t,e,n,r){const i=[],o=t.getContext();for(let s=0;s<e.length;s++){const a=e[s],c=a.id,u=Do(n[c],r);null!==u&&i.push({plugin:a,options:Mo(t.config,a,u,o)})}return i}function Mo(t,e,n,r){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(n,i);return t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Lo(t,e){const n=ae.datasets[t]||{},r=(e.datasets||{})[t]||{};return r.indexAxis||e.indexAxis||n.indexAxis||"x"}function Fo(t,e){let n=t;return"_index_"===t?n=e:"_value_"===t&&(n="x"===e?"y":"x"),n}function Uo(t,e){return t===e?"_index_":"_value_"}function Vo(t){return"top"===t||"bottom"===t?"x":"left"===t||"right"===t?"y":void 0}function Bo(t,e){return"x"===t||"y"===t?t:e.axis||Vo(e.position)||t.charAt(0).toLowerCase()}function qo(t,e){const n=ne[t.type]||{scales:{}},r=e.scales||{},i=Lo(t.type,e),o=Object.create(null),s=Object.create(null);return Object.keys(r).forEach(t=>{const e=r[t],a=Bo(t,e),c=Uo(a,i),u=n.scales||{};o[a]=o[a]||t,s[t]=I(Object.create(null),[{axis:a},e,u[a],u[c]])}),t.data.datasets.forEach(n=>{const i=n.type||t.type,a=n.indexAxis||Lo(i,e),c=ne[i]||{},u=c.scales||{};Object.keys(u).forEach(t=>{const e=Fo(t,a),i=n[e+"AxisID"]||o[e]||e;s[i]=s[i]||Object.create(null),I(s[i],[{axis:e},r[i],u[t]])})}),Object.keys(s).forEach(t=>{const e=s[t];I(e,[ae.scales[e.type],ae.scale])}),s}function zo(t){const e=t.options||(t.options={});e.plugins=m(e.plugins,{}),e.scales=qo(t,e)}function Wo(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Ho(t){return t=t||{},t.data=Wo(t.data),zo(t),t}const Ko=new Map,Go=new Set;function $o(t,e){let n=Ko.get(t);return n||(n=e(),Ko.set(t,n),Go.add(n)),n}const Yo=(t,e,n)=>{const r=j(e,n);void 0!==r&&t.add(r)};class Qo{constructor(t){this._config=Ho(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Wo(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),zo(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return $o(t,()=>[["datasets."+t,""]])}datasetAnimationScopeKeys(t,e){return $o(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,"transitions."+e],["datasets."+t,""]])}datasetElementScopeKeys(t,e){return $o(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,"datasets."+t,"elements."+e,""]])}pluginScopeKeys(t){const e=t.id,n=this.type;return $o(`${n}-plugin-${e}`,()=>[["plugins."+e,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const n=this._scopeCache;let r=n.get(t);return r&&!e||(r=new Map,n.set(t,r)),r}getOptionScopes(t,e,n){const{options:r,type:i}=this,o=this._cachedScopes(t,n),s=o.get(e);if(s)return s;const a=new Set;e.forEach(e=>{t&&(a.add(t),e.forEach(e=>Yo(a,t,e))),e.forEach(t=>Yo(a,r,t)),e.forEach(t=>Yo(a,ne[i]||{},t)),e.forEach(t=>Yo(a,ae,t)),e.forEach(t=>Yo(a,re,t))});const c=Array.from(a);return 0===c.length&&c.push(Object.create(null)),Go.has(e)&&o.set(e,c),c}chartOptionScopes(){const{options:t,type:e}=this;return[t,ne[e]||{},ae.datasets[e]||{},{type:e},ae,re]}resolveNamedOptions(t,e,n,r=[""]){const i={$shared:!0},{resolver:o,subPrefixes:s}=Xo(this._resolverCache,t,r);let a=o;if(Jo(o,e)){i.$shared=!1,n=D(n)?n():n;const e=this.createResolver(t,n,s);a=ze(o,n,e)}for(const c of e)i[c]=a[c];return i}createResolver(t,e,n=[""],r){const{resolver:i}=Xo(this._resolverCache,t,n);return d(e)?ze(i,e,void 0,r):i}}function Xo(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let o=r.get(i);if(!o){const t=qe(e,n);o={resolver:t,subPrefixes:n.filter(t=>!t.toLowerCase().includes("hover"))},r.set(i,o)}return o}function Jo(t,e){const{isScriptable:n,isIndexable:r}=We(t);for(const i of e)if(n(i)&&D(t[i])||r(i)&&f(t[i]))return!0;return!1}var Zo="3.5.1";const ts=["top","bottom","left","right","chartArea"];function es(t,e){return"top"===t||"bottom"===t||-1===ts.indexOf(t)&&"x"===e}function ns(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function rs(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),b(n&&n.onComplete,[t],e)}function is(t){const e=t.chart,n=e.options.animation;b(n&&n.onProgress,[t],e)}function os(t){return yn()&&"string"===typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const ss={},as=t=>{const e=os(t);return Object.values(ss).filter(t=>t.canvas===e).pop()};class cs{constructor(t,e){const n=this,r=this.config=new Qo(e),i=os(t),s=as(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas can be reused.");const a=r.createResolver(r.chartOptionScopes(),n.getContext());this.platform=new(r.platform||eo(i));const c=n.platform.acquireContext(i,a.aspectRatio),u=c&&c.canvas,h=u&&u.height,f=u&&u.width;this.id=l(),this.ctx=c,this.canvas=u,this.width=f,this.height=h,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new No,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=o(()=>this.update("resize"),a.resizeDelay||0),ss[n.id]=n,c&&u?(ir.listen(n,"complete",rs),ir.listen(n,"progress",is),n._initialize(),n.attached&&n.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:r,_aspectRatio:i}=this;return h(t)?e&&i?i:r?n/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){const t=this;return t.notifyPlugins("beforeInit"),t.options.responsive?t.resize():jn(t,t.options.devicePixelRatio),t.bindEvents(),t.notifyPlugins("afterInit"),t}clear(){return fe(this.canvas,this.ctx),this}stop(){return ir.stop(this),this}resize(t,e){ir.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this,r=n.options,i=n.canvas,o=r.maintainAspectRatio&&n.aspectRatio,s=n.platform.getMaximumSize(i,t,e,o),a=r.devicePixelRatio||n.platform.getDevicePixelRatio();n.width=s.width,n.height=s.height,n._aspectRatio=n.aspectRatio,jn(n,a,!0)&&(n.notifyPlugins("resize",{size:s}),b(r.onResize,[n,s],n),n.attached&&n._doResize()&&n.render())}ensureScalesHaveIDs(){const t=this.options,e=t.scales||{};_(e,(t,e)=>{t.id=e})}buildOrUpdateScales(){const t=this,e=t.options,n=e.scales,r=t.scales,i=Object.keys(r).reduce((t,e)=>(t[e]=!1,t),{});let o=[];n&&(o=o.concat(Object.keys(n).map(t=>{const e=n[t],r=Bo(t,e),i="r"===r,o="x"===r;return{options:e,dposition:i?"chartArea":o?"bottom":"left",dtype:i?"radialLinear":o?"category":"linear"}}))),_(o,n=>{const o=n.options,s=o.id,a=Bo(s,o),c=m(o.type,n.dtype);void 0!==o.position&&es(o.position,a)===es(n.dposition)||(o.position=n.dposition),i[s]=!0;let u=null;if(s in r&&r[s].type===c)u=r[s];else{const e=jo.getScale(c);u=new e({id:s,type:c,ctx:t.ctx,chart:t}),r[u.id]=u}u.init(o,e)}),_(i,(t,e)=>{t||delete r[e]}),_(r,e=>{Pi.configure(t,e,e.options),Pi.addBox(t,e)})}_updateMetasets(){const t=this,e=t._metasets,n=t.data.datasets.length,r=e.length;if(e.sort((t,e)=>t.index-e.index),r>n){for(let e=n;e<r;++e)t._destroyDatasetMeta(e);e.splice(n,r-n)}t._sortedMetasets=e.slice(0).sort(ns("order","index"))}_removeUnreferencedMetasets(){const t=this,{_metasets:e,data:{datasets:n}}=t;e.length>n.length&&delete t._stacks,e.forEach((e,r)=>{0===n.filter(t=>t===e._dataset).length&&t._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=this,e=[],n=t.data.datasets;let r,i;for(t._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const i=n[r];let o=t.getDatasetMeta(r);const s=i.type||t.config.type;if(o.type&&o.type!==s&&(t._destroyDatasetMeta(r),o=t.getDatasetMeta(r)),o.type=s,o.indexAxis=i.indexAxis||Lo(s,t.options),o.order=i.order||0,o.index=r,o.label=""+i.label,o.visible=t.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const n=jo.getController(s),{datasetElementType:i,dataElementType:a}=ae.datasets[s];Object.assign(n.prototype,{dataElementType:jo.getElement(a),datasetElementType:i&&jo.getElement(i)}),o.controller=new n(t,r),e.push(o.controller)}}return t._updateMetasets(),e}_resetElements(){const t=this;_(t.data.datasets,(e,n)=>{t.getDatasetMeta(n).controller.reset()},t)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this,n=e.config;n.update(),e._options=n.createResolver(n.chartOptionScopes(),e.getContext()),_(e.scales,t=>{Pi.removeBox(e,t)});const r=e._animationsDisabled=!e.options.animation;e.ensureScalesHaveIDs(),e.buildOrUpdateScales();const i=new Set(Object.keys(e._listeners)),o=new Set(e.options.events);if(R(i,o)&&!!this._responsiveListeners===e.options.responsive||(e.unbindEvents(),e.bindEvents()),e._plugins.invalidate(),!1===e.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const s=e.buildOrUpdateControllers();e.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,u=e.data.datasets.length;c<u;c++){const{controller:t}=e.getDatasetMeta(c),n=!r&&-1===s.indexOf(t);t.buildOrUpdateElements(n),a=Math.max(+t.getMaxOverflow(),a)}e._minPadding=a,e._updateLayout(a),r||_(s,t=>{t.reset()}),e._updateDatasets(t),e.notifyPlugins("afterUpdate",{mode:t}),e._layers.sort(ns("z","_idx")),e._lastEvent&&e._eventHandler(e._lastEvent,!0),e.render()}_updateLayout(t){const e=this;if(!1===e.notifyPlugins("beforeLayout",{cancelable:!0}))return;Pi.update(e,e.width,e.height,t);const n=e.chartArea,r=n.width<=0||n.height<=0;e._layers=[],_(e.boxes,t=>{r&&"chartArea"===t.position||(t.configure&&t.configure(),e._layers.push(...t._layers()))},e),e._layers.forEach((t,e)=>{t._idx=e}),e.notifyPlugins("afterLayout")}_updateDatasets(t){const e=this,n="function"===typeof t;if(!1!==e.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let r=0,i=e.data.datasets.length;r<i;++r)e._updateDataset(r,n?t({datasetIndex:r}):t);e.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this,r=n.getDatasetMeta(t),i={meta:r,index:t,mode:e,cancelable:!0};!1!==n.notifyPlugins("beforeDatasetUpdate",i)&&(r.controller._update(e),i.cancelable=!1,n.notifyPlugins("afterDatasetUpdate",i))}render(){const t=this;!1!==t.notifyPlugins("beforeRender",{cancelable:!0})&&(ir.has(t)?t.attached&&!ir.running(t)&&ir.start(t):(t.draw(),rs({chart:t})))}draw(){const t=this;let e;if(t._resizeBeforeDraw){const{width:e,height:n}=t._resizeBeforeDraw;t._resize(e,n),t._resizeBeforeDraw=null}if(t.clear(),t.width<=0||t.height<=0)return;if(!1===t.notifyPlugins("beforeDraw",{cancelable:!0}))return;const n=t._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(t.chartArea);for(t._drawDatasets();e<n.length;++e)n[e].draw(t.chartArea);t.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this,n=e._sortedMetasets,r=[];let i,o;for(i=0,o=n.length;i<o;++i){const e=n[i];t&&!e.visible||r.push(e)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){const t=this;if(!1===t.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=t.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)t._drawDataset(e[n]);t.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this,n=e.ctx,r=t._clip,i=!r.disabled,o=e.chartArea,s={meta:t,index:t.index,cancelable:!0};!1!==e.notifyPlugins("beforeDatasetDraw",s)&&(i&&ge(n,{left:!1===r.left?0:o.left-r.left,right:!1===r.right?e.width:o.right+r.right,top:!1===r.top?0:o.top-r.top,bottom:!1===r.bottom?e.height:o.bottom+r.bottom}),t.controller.draw(),i&&me(n),s.cancelable=!1,e.notifyPlugins("afterDatasetDraw",s))}getElementsAtEventForMode(t,e,n,r){const i=mi.modes[e];return"function"===typeof i?i(this,t,n,r):[]}getDatasetMeta(t){const e=this,n=e.data.datasets[t],r=e._metasets;let i=r.filter(t=>t&&t._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context={chart:this,type:"chart"})}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return"boolean"===typeof n.hidden?!n.hidden:!e.hidden}setDatasetVisibility(t,e){const n=this.getDatasetMeta(t);n.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const r=this,i=n?"show":"hide",o=r.getDatasetMeta(t),s=o.controller._resolveAnimations(void 0,i);P(e)?(o.data[e].hidden=!n,r.update()):(r.setDatasetVisibility(t,n),s.update(o,{visible:n}),r.update(e=>e.datasetIndex===t?i:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this,n=e._metasets&&e._metasets[t];n&&n.controller&&(n.controller._destroy(),delete e._metasets[t])}destroy(){const t=this,{canvas:e,ctx:n}=t;let r,i;for(t.stop(),ir.remove(t),r=0,i=t.data.datasets.length;r<i;++r)t._destroyDatasetMeta(r);t.config.clearCache(),e&&(t.unbindEvents(),fe(e,n),t.platform.releaseContext(n),t.canvas=null,t.ctx=null),t.notifyPlugins("destroy"),delete ss[t.id]}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this,e=t._listeners,n=t.platform,r=(r,i)=>{n.addEventListener(t,r,i),e[r]=i},i=function(e,n,r){e.offsetX=n,e.offsetY=r,t._eventHandler(e)};_(t.options.events,t=>r(t,i))}bindResponsiveEvents(){const t=this;t._responsiveListeners||(t._responsiveListeners={});const e=t._responsiveListeners,n=t.platform,r=(r,i)=>{n.addEventListener(t,r,i),e[r]=i},i=(r,i)=>{e[r]&&(n.removeEventListener(t,r,i),delete e[r])},o=(e,n)=>{t.canvas&&t.resize(e,n)};let s;const a=()=>{i("attach",a),t.attached=!0,t.resize(),r("resize",o),r("detach",s)};s=()=>{t.attached=!1,i("resize",o),r("attach",a)},n.isAttached(t.canvas)?a():s()}unbindEvents(){const t=this;_(t._listeners,(e,n)=>{t.platform.removeEventListener(t,n,e)}),t._listeners={},_(t._responsiveListeners,(e,n)=>{t.platform.removeEventListener(t,n,e)}),t._responsiveListeners=void 0}updateHoverStyle(t,e,n){const r=n?"set":"remove";let i,o,s,a;for("dataset"===e&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),s=0,a=t.length;s<a;++s){o=t[s];const e=o&&this.getDatasetMeta(o.datasetIndex).controller;e&&e[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this,n=e._active||[],r=t.map(({datasetIndex:t,index:n})=>{const r=e.getDatasetMeta(t);if(!r)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:r.data[n],index:n}}),i=!w(r,n);i&&(e._active=r,e._updateHoverStyles(r,n))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}_updateHoverStyles(t,e,n){const r=this,i=r.options.hover,o=(t,e)=>t.filter(t=>!e.some(e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)),s=o(e,t),a=n?t:o(t,e);s.length&&r.updateHoverStyle(s,i.mode,!1),a.length&&i.mode&&r.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,e){const n=this,r={event:t,replay:e,cancelable:!0},i=e=>(e.options.events||this.options.events).includes(t.type);if(!1===n.notifyPlugins("beforeEvent",r,i))return;const o=n._handleEvent(t,e);return r.cancelable=!1,n.notifyPlugins("afterEvent",r,i),(o||r.changed)&&n.render(),n}_handleEvent(t,e){const n=this,{_active:r=[],options:i}=n,o=i.hover,s=e;let a=[],c=!1,u=null;return"mouseout"!==t.type&&(a=n.getElementsAtEventForMode(t,o.mode,o,s),u="click"===t.type?n._lastEvent:t),n._lastEvent=null,pe(t,n.chartArea,n._minPadding)&&(b(i.onHover,[t,a,n],n),"mouseup"!==t.type&&"click"!==t.type&&"contextmenu"!==t.type||b(i.onClick,[t,a,n],n)),c=!w(a,r),(c||e)&&(n._active=a,n._updateHoverStyles(a,r,e)),n._lastEvent=u,c}}const us=()=>_(cs.instances,t=>t._plugins.invalidate()),ls=!0;function hs(t,e,n){const{startAngle:r,pixelMargin:i,x:o,y:s,outerRadius:a,innerRadius:c}=e;let u=i/a;t.beginPath(),t.arc(o,s,a,r-u,n+u),c>i?(u=i/c,t.arc(o,s,c,n+u,r-u,!0)):t.arc(o,s,i,n+B,r-B),t.closePath(),t.clip()}function fs(t){return ke(t,["outerStart","outerEnd","innerStart","innerEnd"])}function ds(t,e,n,r){const i=fs(t.options.borderRadius),o=(n-e)/2,s=Math.min(o,r*e/2),a=t=>{const e=(n-Math.min(o,t))*r/2;return st(t,0,Math.min(o,e))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:st(i.innerStart,0,s),innerEnd:st(i.innerEnd,0,s)}}function ps(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function gs(t,e,n,r,i){const{x:o,y:s,startAngle:a,pixelMargin:c,innerRadius:u}=e,l=Math.max(e.outerRadius+r+n-c,0),h=u>0?u+r+n+c:0;let f=0;const d=i-a;if(r){const t=u>0?u-r:0,e=l>0?l-r:0,n=(t+e)/2,i=0!==n?d*n/(n+r):d;f=(d-i)/2}const p=Math.max(.001,d*l-n/M)/l,g=(d-p)/2,m=a+g+f,v=i-g-f,{outerStart:y,outerEnd:b,innerStart:_,innerEnd:w}=ds(e,h,l,v-m),x=l-y,E=l-b,O=m+y/x,T=v-b/E,I=h+_,k=h+w,S=m+_/I,C=v-w/k;if(t.beginPath(),t.arc(o,s,l,O,T),b>0){const e=ps(E,T,o,s);t.arc(e.x,e.y,b,T,v+B)}const A=ps(k,v,o,s);if(t.lineTo(A.x,A.y),w>0){const e=ps(k,C,o,s);t.arc(e.x,e.y,w,v+B,C+Math.PI)}if(t.arc(o,s,h,v-w/h,m+_/h,!0),_>0){const e=ps(I,S,o,s);t.arc(e.x,e.y,_,S+Math.PI,m-B)}const j=ps(x,m,o,s);if(t.lineTo(j.x,j.y),y>0){const e=ps(x,O,o,s);t.arc(e.x,e.y,y,m-B,O)}t.closePath()}function ms(t,e,n,r){const{fullCircles:i,startAngle:o,circumference:s}=e;let a=e.endAngle;if(i){gs(t,e,n,r,o+L);for(let e=0;e<i;++e)t.fill();isNaN(s)||(a=o+s%L,s%L===0&&(a+=L))}return gs(t,e,n,r,a),t.fill(),a}function vs(t,e,n){const{x:r,y:i,startAngle:o,pixelMargin:s,fullCircles:a}=e,c=Math.max(e.outerRadius-s,0),u=e.innerRadius+s;let l;for(n&&hs(t,e,o+L),t.beginPath(),t.arc(r,i,u,o+L,o,!0),l=0;l<a;++l)t.stroke();for(t.beginPath(),t.arc(r,i,c,o,o+L),l=0;l<a;++l)t.stroke()}function ys(t,e,n,r,i){const{options:o}=e,s="inner"===o.borderAlign;o.borderWidth&&(s?(t.lineWidth=2*o.borderWidth,t.lineJoin="round"):(t.lineWidth=o.borderWidth,t.lineJoin="bevel"),e.fullCircles&&vs(t,e,s),s&&hs(t,e,i),gs(t,e,n,r,i),t.stroke())}Object.defineProperties(cs,{defaults:{enumerable:ls,value:ae},instances:{enumerable:ls,value:ss},overrides:{enumerable:ls,value:ne},registry:{enumerable:ls,value:jo},version:{enumerable:ls,value:Zo},getChart:{enumerable:ls,value:as},register:{enumerable:ls,value:(...t)=>{jo.add(...t),us()}},unregister:{enumerable:ls,value:(...t)=>{jo.remove(...t),us()}}});class bs extends no{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){const r=this.getProps(["x","y"],n),{angle:i,distance:o}=et(r,{x:t,y:e}),{startAngle:s,endAngle:a,innerRadius:c,outerRadius:u,circumference:l}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=this.options.spacing/2,f=l>=L||ot(i,s,a),d=o>=c+h&&o<=u+h;return f&&d}getCenterPoint(t){const{x:e,y:n,startAngle:r,endAngle:i,innerRadius:o,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:a,spacing:c}=this.options,u=(r+i)/2,l=(o+s+c+a)/2;return{x:e+Math.cos(u)*l,y:n+Math.sin(u)*l}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const e=this,{options:n,circumference:r}=e,i=(n.offset||0)/2,o=(n.spacing||0)/2;if(e.pixelMargin="inner"===n.borderAlign?.33:0,e.fullCircles=r>L?Math.floor(r/L):0,0===r||e.innerRadius<0||e.outerRadius<0)return;t.save();let s=0;if(i){s=i/2;const n=(e.startAngle+e.endAngle)/2;t.translate(Math.cos(n)*s,Math.sin(n)*s),e.circumference>=M&&(s=i)}t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor;const a=ms(t,e,s,o);ys(t,e,s,o,a),t.restore()}}function _s(t,e,n=e){t.lineCap=m(n.borderCapStyle,e.borderCapStyle),t.setLineDash(m(n.borderDash,e.borderDash)),t.lineDashOffset=m(n.borderDashOffset,e.borderDashOffset),t.lineJoin=m(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=m(n.borderWidth,e.borderWidth),t.strokeStyle=m(n.borderColor,e.borderColor)}function ws(t,e,n){t.lineTo(n.x,n.y)}function xs(t){return t.stepped?ve:t.tension||"monotone"===t.cubicInterpolationMode?ye:ws}function Es(t,e,n={}){const r=t.length,{start:i=0,end:o=r-1}=n,{start:s,end:a}=e,c=Math.max(i,s),u=Math.min(o,a),l=i<s&&o<s||i>a&&o>a;return{count:r,start:c,loop:e.loop,ilen:u<c&&!l?r+u-c:u-c}}function Os(t,e,n,r){const{points:i,options:o}=e,{count:s,start:a,loop:c,ilen:u}=Es(i,n,r),l=xs(o);let h,f,d,{move:p=!0,reverse:g}=r||{};for(h=0;h<=u;++h)f=i[(a+(g?u-h:h))%s],f.skip||(p?(t.moveTo(f.x,f.y),p=!1):l(t,d,f,g,o.stepped),d=f);return c&&(f=i[(a+(g?u:0))%s],l(t,d,f,g,o.stepped)),!!c}function Ts(t,e,n,r){const i=e.points,{count:o,start:s,ilen:a}=Es(i,n,r),{move:c=!0,reverse:u}=r||{};let l,h,f,d,p,g,m=0,v=0;const y=t=>(s+(u?a-t:t))%o,b=()=>{d!==p&&(t.lineTo(m,p),t.lineTo(m,d),t.lineTo(m,g))};for(c&&(h=i[y(0)],t.moveTo(h.x,h.y)),l=0;l<=a;++l){if(h=i[y(l)],h.skip)continue;const e=h.x,n=h.y,r=0|e;r===f?(n<d?d=n:n>p&&(p=n),m=(v*m+e)/++v):(b(),t.lineTo(e,n),f=r,v=0,d=p=n),g=n}b()}function Is(t){const e=t.options,n=e.borderDash&&e.borderDash.length,r=!t._decimated&&!t._loop&&!e.tension&&"monotone"!==e.cubicInterpolationMode&&!e.stepped&&!n;return r?Ts:Os}function ks(t){return t.stepped?Rn:t.tension||"monotone"===t.cubicInterpolationMode?Mn:Dn}function Ss(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),_s(t,e.options),t.stroke(i)}function Cs(t,e,n,r){const{segments:i,options:o}=e,s=Is(e);for(const a of i)_s(t,o,a.style),t.beginPath(),s(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}bs.id="arc",bs.defaults={borderAlign:"center",borderColor:"#fff",borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0},bs.defaultRoutes={backgroundColor:"backgroundColor"};const As="function"===typeof Path2D;function js(t,e,n,r){As&&1===e.segments.length?Ss(t,e,n,r):Cs(t,e,n,r)}class Ns extends no{constructor(t){super(),this.animated=!0,this.options=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this,r=n.options;if((r.tension||"monotone"===r.cubicInterpolationMode)&&!r.stepped&&!n._pointsUpdated){const i=r.spanGaps?n._loop:n._fullLoop;vn(n._points,r,t,i,e),n._pointsUpdated=!0}}set points(t){const e=this;e._points=t,delete e._segments,delete e._path,e._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Jn(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this,r=n.options,i=t[e],o=n.points,s=Yn(n,{property:e,start:i,end:i});if(!s.length)return;const a=[],c=ks(r);let u,l;for(u=0,l=s.length;u<l;++u){const{start:n,end:l}=s[u],h=o[n],f=o[l];if(h===f){a.push(h);continue}const d=Math.abs((i-h[e])/(f[e]-h[e])),p=c(h,f,d,r.stepped);p[e]=t[e],a.push(p)}return 1===a.length?a[0]:a}pathSegment(t,e,n){const r=Is(this);return r(t,this,e,n)}path(t,e,n){const r=this,i=r.segments,o=Is(r);let s=r._loop;e=e||0,n=n||r.points.length-e;for(const a of i)s&=o(t,r,a,{start:e,end:e+n-1});return!!s}draw(t,e,n,r){const i=this,o=i.options||{},s=i.points||[];s.length&&o.borderWidth&&(t.save(),js(t,i,n,r),t.restore(),i.animated&&(i._pointsUpdated=!1,i._path=void 0))}}function Ps(t,e,n,r){const i=t.options,{[n]:o}=t.getProps([n],r);return Math.abs(e-o)<i.radius+i.hitRadius}Ns.id="line",Ns.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},Ns.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},Ns.descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t};class Ds extends no{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,n){const r=this.options,{x:i,y:o}=this.getProps(["x","y"],n);return Math.pow(t-i,2)+Math.pow(e-o,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return Ps(this,t,"x",e)}inYRange(t,e){return Ps(this,t,"y",e)}getCenterPoint(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const n=e&&t.borderWidth||0;return 2*(e+n)}draw(t,e){const n=this,r=n.options;n.skip||r.radius<.1||!pe(n,e,n.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,de(t,r,n.x,n.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function Rs(t,e){const{x:n,y:r,base:i,width:o,height:s}=t.getProps(["x","y","base","width","height"],e);let a,c,u,l,h;return t.horizontal?(h=s/2,a=Math.min(n,i),c=Math.max(n,i),u=r-h,l=r+h):(h=o/2,a=n-h,c=n+h,u=Math.min(r,i),l=Math.max(r,i)),{left:a,top:u,right:c,bottom:l}}function Ms(t,e,n,r){return t?0:st(e,n,r)}function Ls(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,o=Se(r);return{t:Ms(i.top,o.top,0,n),r:Ms(i.right,o.right,0,e),b:Ms(i.bottom,o.bottom,0,n),l:Ms(i.left,o.left,0,e)}}function Fs(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,o=Ce(i),s=Math.min(e,n),a=t.borderSkipped,c=r||d(i);return{topLeft:Ms(!c||a.top||a.left,o.topLeft,0,s),topRight:Ms(!c||a.top||a.right,o.topRight,0,s),bottomLeft:Ms(!c||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:Ms(!c||a.bottom||a.right,o.bottomRight,0,s)}}function Us(t){const e=Rs(t),n=e.right-e.left,r=e.bottom-e.top,i=Ls(t,n/2,r/2),o=Fs(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:o},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function Vs(t,e,n,r){const i=null===e,o=null===n,s=i&&o,a=t&&!s&&Rs(t,r);return a&&(i||e>=a.left&&e<=a.right)&&(o||n>=a.top&&n<=a.bottom)}function Bs(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function qs(t,e){t.rect(e.x,e.y,e.w,e.h)}function zs(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-r,s=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+o,h:t.h+s,radius:t.radius}}Ds.id="point",Ds.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},Ds.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class Ws extends no{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,t&&Object.assign(this,t)}draw(t){const e=this.options,{inner:n,outer:r}=Us(this),i=Bs(r.radius)?xe:qs,o=.33;t.save(),r.w===n.w&&r.h===n.h||(t.beginPath(),i(t,zs(r,o,n)),t.clip(),i(t,zs(n,-o,r)),t.fillStyle=e.borderColor,t.fill("evenodd")),t.beginPath(),i(t,zs(n,o,r)),t.fillStyle=e.backgroundColor,t.fill(),t.restore()}inRange(t,e,n){return Vs(this,t,e,n)}inXRange(t,e){return Vs(this,t,null,e)}inYRange(t,e){return Vs(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(e+r)/2:e,y:i?n:(n+r)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}Ws.id="bar",Ws.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,enableBorderRadius:!0,pointStyle:void 0},Ws.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var Hs=Object.freeze({__proto__:null,ArcElement:bs,LineElement:Ns,PointElement:Ds,BarElement:Ws});function Ks(t,e,n,r,i){const o=i.samples||r;if(o>=n)return t.slice(e,e+n);const s=[],a=(n-2)/(o-2);let c=0;const u=e+n-1;let l,h,f,d,p,g=e;for(s[c++]=t[g],l=0;l<o-2;l++){let r,i=0,o=0;const u=Math.floor((l+1)*a)+1+e,m=Math.min(Math.floor((l+2)*a)+1,n)+e,v=m-u;for(r=u;r<m;r++)i+=t[r].x,o+=t[r].y;i/=v,o/=v;const y=Math.floor(l*a)+1+e,b=Math.min(Math.floor((l+1)*a)+1,n)+e,{x:_,y:w}=t[g];for(f=d=-1,r=y;r<b;r++)d=.5*Math.abs((_-i)*(t[r].y-w)-(_-t[r].x)*(o-w)),d>f&&(f=d,h=t[r],p=r);s[c++]=h,g=p}return s[c++]=t[u],s}function Gs(t,e,n,r){let i,o,s,a,c,u,l,f,d,p,g=0,m=0;const v=[],y=e+n-1,b=t[e].x,_=t[y].x,w=_-b;for(i=e;i<e+n;++i){o=t[i],s=(o.x-b)/w*r,a=o.y;const e=0|s;if(e===c)a<d?(d=a,u=i):a>p&&(p=a,l=i),g=(m*g+o.x)/++m;else{const n=i-1;if(!h(u)&&!h(l)){const e=Math.min(u,l),r=Math.max(u,l);e!==f&&e!==n&&v.push({...t[e],x:g}),r!==f&&r!==n&&v.push({...t[r],x:g})}i>0&&n!==f&&v.push(t[n]),v.push(o),c=e,m=0,d=p=a,u=l=f=i}}return v}function $s(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{value:e})}}function Ys(t){t.data.datasets.forEach(t=>{$s(t)})}function Qs(t,e){const n=e.length;let r,i=0;const{iScale:o}=t,{min:s,max:a,minDefined:c,maxDefined:u}=o.getUserBounds();return c&&(i=st(Re(e,o.axis,s).lo,0,n-1)),r=u?st(Re(e,o.axis,a).hi+1,i,n)-i:n-i,{start:i,count:r}}var Xs={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled)return void Ys(t);const r=t.width;t.data.datasets.forEach((e,i)=>{const{_data:o,indexAxis:s}=e,a=t.getDatasetMeta(i),c=o||e.data;if("y"===Ne([s,t.options.indexAxis]))return;if("line"!==a.type)return;const u=t.scales[a.xAxisID];if("linear"!==u.type&&"time"!==u.type)return;if(t.options.parsing)return;let{start:l,count:f}=Qs(a,c);const d=n.threshold||4*r;if(f<=d)return void $s(e);let p;switch(h(o)&&(e._data=c,delete e.data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),n.algorithm){case"lttb":p=Ks(c,l,f,r,n);break;case"min-max":p=Gs(c,l,f,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}e._decimated=p})},destroy(t){Ys(t)}};function Js(t,e){const n=t.getDatasetMeta(e),r=n&&t.isDatasetVisible(e);return r?n.dataset:null}function Zs(t){const e=t.options,n=e.fill;let r=m(n&&n.target,n);return void 0===r&&(r=!!e.backgroundColor),!1!==r&&null!==r&&(!0===r?"origin":r)}function ta(t,e,n){const r=Zs(t);if(d(r))return!isNaN(r.value)&&r;let i=parseFloat(r);return p(i)&&Math.floor(i)===i?("-"!==r[0]&&"+"!==r[0]||(i=e+i),!(i===e||i<0||i>=n)&&i):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function ea(t){const{scale:e={},fill:n}=t;let r,i=null;return"start"===n?i=e.bottom:"end"===n?i=e.top:d(n)?i=e.getPixelForValue(n.value):e.getBasePixel&&(i=e.getBasePixel()),p(i)?(r=e.isHorizontal(),{x:r?i:null,y:r?null:i}):null}class na{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){const{x:r,y:i,radius:o}=this;return e=e||{start:0,end:L},t.arc(r,i,o,e.end,e.start,!0),!n.bounds}interpolate(t){const{x:e,y:n,radius:r}=this,i=t.angle;return{x:e+Math.cos(i)*r,y:n+Math.sin(i)*r,angle:i}}}function ra(t){const{scale:e,fill:n}=t,r=e.options,i=e.getLabels().length,o=[],s=r.reverse?e.max:e.min,a=r.reverse?e.min:e.max;let c,u,l;if(l="start"===n?s:"end"===n?a:d(n)?n.value:e.getBaseValue(),r.grid.circular)return u=e.getPointPositionForValue(0,s),new na({x:u.x,y:u.y,radius:e.getDistanceFromCenterForValue(l)});for(c=0;c<i;++c)o.push(e.getPointPositionForValue(c,l));return o}function ia(t){const e=t.scale||{};return e.getPointPositionForValue?ra(t):ea(t)}function oa(t,e,n){for(;e>t;e--){const t=n[e];if(!isNaN(t.x)&&!isNaN(t.y))break}return e}function sa(t,e){const{x:n=null,y:r=null}=t||{},i=e.points,o=[];return e.segments.forEach(({start:t,end:e})=>{e=oa(t,e,i);const s=i[t],a=i[e];null!==r?(o.push({x:s.x,y:r}),o.push({x:a.x,y:r})):null!==n&&(o.push({x:n,y:s.y}),o.push({x:n,y:a.y}))}),o}function aa(t){const{chart:e,scale:n,index:r,line:i}=t,o=[],s=i.segments,a=i.points,c=ua(e,r);c.push(da({x:null,y:n.bottom},i));for(let u=0;u<s.length;u++){const t=s[u];for(let e=t.start;e<=t.end;e++)la(o,a[e],c)}return new Ns({points:o,options:{}})}const ca=t=>"line"===t.type&&!t.hidden;function ua(t,e){const n=[],r=t.getSortedVisibleDatasetMetas();for(let i=0;i<r.length;i++){const t=r[i];if(t.index===e)break;ca(t)&&n.unshift(t.dataset)}return n}function la(t,e,n){const r=[];for(let i=0;i<n.length;i++){const o=n[i],{first:s,last:a,point:c}=ha(o,e,"x");if(!(!c||s&&a))if(s)r.unshift(c);else if(t.push(c),!a)break}t.push(...r)}function ha(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const i=r[n],o=t.segments,s=t.points;let a=!1,c=!1;for(let u=0;u<o.length;u++){const t=o[u],e=s[t.start][n],r=s[t.end][n];if(i>=e&&i<=r){a=i===e,c=i===r;break}}return{first:a,last:c,point:r}}function fa(t){const{chart:e,fill:n,line:r}=t;if(p(n))return Js(e,n);if("stack"===n)return aa(t);if("shape"===n)return!0;const i=ia(t);return i instanceof na?i:da(i,r)}function da(t,e){let n=[],r=!1;return f(t)?(r=!0,n=t):n=sa(t,e),n.length?new Ns({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function pa(t,e,n){const r=t[e];let i=r.fill;const o=[e];let s;if(!n)return i;while(!1!==i&&-1===o.indexOf(i)){if(!p(i))return i;if(s=t[i],!s)return!1;if(s.visible)return i;o.push(i),i=s.fill}return!1}function ga(t,e,n){t.beginPath(),e.path(t),t.lineTo(e.last().x,n),t.lineTo(e.first().x,n),t.closePath(),t.clip()}function ma(t,e,n,r){if(r)return;let i=e[t],o=n[t];return"angle"===t&&(i=it(i),o=it(o)),{property:t,start:i,end:o}}function va(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function ya(t,e,n){const r=t.segments,i=t.points,o=e.points,s=[];for(const a of r){let{start:t,end:r}=a;r=oa(t,r,i);const c=ma(n,i[t],i[r],a.loop);if(!e.segments){s.push({source:a,target:c,start:i[t],end:i[r]});continue}const u=Yn(e,c);for(const e of u){const t=ma(n,o[e.start],o[e.end],e.loop),r=$n(a,i,t);for(const i of r)s.push({source:i,target:e,start:{[n]:va(c,t,"start",Math.max)},end:{[n]:va(c,t,"end",Math.min)}})}}return s}function ba(t,e,n){const{top:r,bottom:i}=e.chart.chartArea,{property:o,start:s,end:a}=n||{};"x"===o&&(t.beginPath(),t.rect(s,r,a-s,i-r),t.clip())}function _a(t,e,n,r){const i=e.interpolate(n,r);i&&t.lineTo(i.x,i.y)}function wa(t,e){const{line:n,target:r,property:i,color:o,scale:s}=e,a=ya(n,r,i);for(const{source:c,target:u,start:l,end:h}of a){const{style:{backgroundColor:e=o}={}}=c,a=!0!==r;t.save(),t.fillStyle=e,ba(t,s,a&&ma(i,l,h)),t.beginPath();const f=!!n.pathSegment(t,c);let d;if(a){f?t.closePath():_a(t,r,h,i);const e=!!r.pathSegment(t,u,{move:f,reverse:!0});d=f&&e,d||_a(t,r,l,i)}t.closePath(),t.fill(d?"evenodd":"nonzero"),t.restore()}}function xa(t,e){const{line:n,target:r,above:i,below:o,area:s,scale:a}=e,c=n._loop?"angle":e.axis;t.save(),"x"===c&&o!==i&&(ga(t,r,s.top),wa(t,{line:n,target:r,color:i,scale:a,property:c}),t.restore(),t.save(),ga(t,r,s.bottom)),wa(t,{line:n,target:r,color:o,scale:a,property:c}),t.restore()}function Ea(t,e,n){const r=fa(e),{line:i,scale:o,axis:s}=e,a=i.options,c=a.fill,u=a.backgroundColor,{above:l=u,below:h=u}=c||{};r&&i.points.length&&(ge(t,n),xa(t,{line:i,target:r,above:l,below:h,area:n,scale:o,axis:s}),me(t))}var Oa={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,i=[];let o,s,a,c;for(s=0;s<r;++s)o=t.getDatasetMeta(s),a=o.dataset,c=null,a&&a.options&&a instanceof Ns&&(c={visible:t.isDatasetVisible(s),index:s,fill:ta(a,s,r),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=c,i.push(c);for(s=0;s<r;++s)c=i[s],c&&!1!==c.fill&&(c.fill=pa(i,s,n.propagate))},beforeDraw(t,e,n){const r="beforeDraw"===n.drawTime,i=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let s=i.length-1;s>=0;--s){const e=i[s].$filler;e&&(e.line.updateControlPoints(o,e.axis),r&&Ea(t.ctx,e,o))}},beforeDatasetsDraw(t,e,n){if("beforeDatasetsDraw"!==n.drawTime)return;const r=t.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const e=r[i].$filler;e&&Ea(t.ctx,e,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;r&&!1!==r.fill&&"beforeDatasetDraw"===n.drawTime&&Ea(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Ta=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},Ia=(t,e)=>null!==t&&null!==e&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class ka extends no{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){const r=this;r.maxWidth=t,r.maxHeight=e,r._margins=n,r.setDimensions(),r.buildLabels(),r.fit()}setDimensions(){const t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=t._margins.left,t.right=t.width):(t.height=t.maxHeight,t.top=t._margins.top,t.bottom=t.height)}buildLabels(){const t=this,e=t.options.labels||{};let n=b(e.generateLabels,[t.chart],t)||[];e.filter&&(n=n.filter(n=>e.filter(n,t.chart.data))),e.sort&&(n=n.sort((n,r)=>e.sort(n,r,t.chart.data))),t.options.reverse&&n.reverse(),t.legendItems=n}fit(){const t=this,{options:e,ctx:n}=t;if(!e.display)return void(t.width=t.height=0);const r=e.labels,i=je(r.font),o=i.size,s=t._computeTitleHeight(),{boxWidth:a,itemHeight:c}=Ta(r,o);let u,l;n.font=i.string,t.isHorizontal()?(u=t.maxWidth,l=t._fitRows(s,o,a,c)+10):(l=t.maxHeight,u=t._fitCols(s,o,a,c)+10),t.width=Math.min(u,e.maxWidth||t.maxWidth),t.height=Math.min(l,e.maxHeight||t.maxHeight)}_fitRows(t,e,n,r){const i=this,{ctx:o,maxWidth:s,options:{labels:{padding:a}}}=i,c=i.legendHitBoxes=[],u=i.lineWidths=[0],l=r+a;let h=t;o.textAlign="left",o.textBaseline="middle";let f=-1,d=-l;return i.legendItems.forEach((t,i)=>{const p=n+e/2+o.measureText(t.text).width;(0===i||u[u.length-1]+p+2*a>s)&&(h+=l,u[u.length-(i>0?0:1)]=0,d+=l,f++),c[i]={left:0,top:d,row:f,width:p,height:r},u[u.length-1]+=p+a}),h}_fitCols(t,e,n,r){const i=this,{ctx:o,maxHeight:s,options:{labels:{padding:a}}}=i,c=i.legendHitBoxes=[],u=i.columnSizes=[],l=s-t;let h=a,f=0,d=0,p=0,g=0;return i.legendItems.forEach((t,i)=>{const s=n+e/2+o.measureText(t.text).width;i>0&&d+r+2*a>l&&(h+=f+a,u.push({width:f,height:d}),p+=f+a,g++,f=d=0),c[i]={left:p,top:d,col:g,width:s,height:r},f=Math.max(f,s),d+=r+a}),h+=f,u.push({width:f,height:d}),h}adjustHitBoxes(){const t=this;if(!t.options.display)return;const e=t._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:o}}=t,s=qn(o,t.left,t.width);if(this.isHorizontal()){let o=0,c=a(r,t.left+i,t.right-t.lineWidths[o]);for(const u of n)o!==u.row&&(o=u.row,c=a(r,t.left+i,t.right-t.lineWidths[o])),u.top+=t.top+e+i,u.left=s.leftForLtr(s.x(c),u.width),c+=u.width+i}else{let o=0,c=a(r,t.top+e+i,t.bottom-t.columnSizes[o].height);for(const u of n)u.col!==o&&(o=u.col,c=a(r,t.top+e+i,t.bottom-t.columnSizes[o].height)),u.top=c,u.left+=t.left+i,u.left=s.leftForLtr(s.x(u.left),u.width),c+=u.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){const t=this;if(t.options.display){const e=t.ctx;ge(e,t),t._draw(),me(e)}}_draw(){const t=this,{options:e,columnSizes:n,lineWidths:r,ctx:i}=t,{align:o,labels:s}=e,u=ae.color,l=qn(e.rtl,t.left,t.width),h=je(s.font),{color:f,padding:d}=s,p=h.size,g=p/2;let v;t.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=h.string;const{boxWidth:y,boxHeight:b,itemHeight:_}=Ta(s,p),w=function(t,e,n){if(isNaN(y)||y<=0||isNaN(b)||b<0)return;i.save();const r=m(n.lineWidth,1);if(i.fillStyle=m(n.fillStyle,u),i.lineCap=m(n.lineCap,"butt"),i.lineDashOffset=m(n.lineDashOffset,0),i.lineJoin=m(n.lineJoin,"miter"),i.lineWidth=r,i.strokeStyle=m(n.strokeStyle,u),i.setLineDash(m(n.lineDash,[])),s.usePointStyle){const o={radius:y*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:r},s=l.xPlus(t,y/2),a=e+g;de(i,o,s,a)}else{const o=e+Math.max((p-b)/2,0),s=l.leftForLtr(t,y),a=Ce(n.borderRadius);i.beginPath(),Object.values(a).some(t=>0!==t)?xe(i,{x:s,y:o,w:y,h:b,radius:a}):i.rect(s,o,y,b),i.fill(),0!==r&&i.stroke()}i.restore()},x=function(t,e,n){be(i,n.text,t,e+_/2,h,{strikethrough:n.hidden,textAlign:l.textAlign(n.textAlign)})},E=t.isHorizontal(),O=this._computeTitleHeight();v=E?{x:a(o,t.left+d,t.right-r[0]),y:t.top+d+O,line:0}:{x:t.left+d,y:a(o,t.top+O+d,t.bottom-n[0].height),line:0},zn(t.ctx,e.textDirection);const T=_+d;t.legendItems.forEach((u,h)=>{i.strokeStyle=u.fontColor||f,i.fillStyle=u.fontColor||f;const p=i.measureText(u.text).width,m=l.textAlign(u.textAlign||(u.textAlign=s.textAlign)),b=y+g+p;let _=v.x,I=v.y;l.setWidth(t.width),E?h>0&&_+b+d>t.right&&(I=v.y+=T,v.line++,_=v.x=a(o,t.left+d,t.right-r[v.line])):h>0&&I+T>t.bottom&&(_=v.x=_+n[v.line].width+d,v.line++,I=v.y=a(o,t.top+O+d,t.bottom-n[v.line].height));const k=l.x(_);w(k,I,u),_=c(m,_+y+g,E?_+b:t.right,e.rtl),x(l.x(_),I,u),E?v.x+=b+d:v.y+=T}),Wn(t.ctx,e.textDirection)}drawTitle(){const t=this,e=t.options,n=e.title,r=je(n.font),i=Ae(n.padding);if(!n.display)return;const o=qn(e.rtl,t.left,t.width),c=t.ctx,u=n.position,l=r.size/2,h=i.top+l;let f,d=t.left,p=t.width;if(this.isHorizontal())p=Math.max(...t.lineWidths),f=t.top+h,d=a(e.align,d,t.right-p);else{const n=t.columnSizes.reduce((t,e)=>Math.max(t,e.height),0);f=h+a(e.align,t.top,t.bottom-n-e.labels.padding-t._computeTitleHeight())}const g=a(u,d,d+p);c.textAlign=o.textAlign(s(u)),c.textBaseline="middle",c.strokeStyle=n.color,c.fillStyle=n.color,c.font=r.string,be(c,n.text,g,f,r)}_computeTitleHeight(){const t=this.options.title,e=je(t.font),n=Ae(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){const n=this;let r,i,o;if(t>=n.left&&t<=n.right&&e>=n.top&&e<=n.bottom)for(o=n.legendHitBoxes,r=0;r<o.length;++r)if(i=o[r],t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height)return n.legendItems[r];return null}handleEvent(t){const e=this,n=e.options;if(!Sa(t.type,n))return;const r=e._getLegendItemAt(t.x,t.y);if("mousemove"===t.type){const i=e._hoveredItem,o=Ia(i,r);i&&!o&&b(n.onLeave,[t,i,e],e),e._hoveredItem=r,r&&!o&&b(n.onHover,[t,r,e],e)}else r&&b(n.onClick,[t,r,e],e)}}function Sa(t,e){return!("mousemove"!==t||!e.onHover&&!e.onLeave)||!(!e.onClick||"click"!==t&&"mouseup"!==t)}var Ca={id:"legend",_element:ka,start(t,e,n){const r=t.legend=new ka({ctx:t.ctx,options:n,chart:t});Pi.configure(t,r,n),Pi.addBox(t,r)},stop(t){Pi.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Pi.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:o}}=t.legend.options;return t._getSortedDatasetMetas().map(t=>{const s=t.controller.getStyle(n?0:void 0),a=Ae(s.borderWidth);return{text:e[t.index].label,fillStyle:s.backgroundColor,fontColor:o,hidden:!t.visible,lineCap:s.borderCapStyle,lineDash:s.borderDash,lineDashOffset:s.borderDashOffset,lineJoin:s.borderJoinStyle,lineWidth:(a.width+a.height)/4,strokeStyle:s.borderColor,pointStyle:r||s.pointStyle,rotation:s.rotation,textAlign:i||s.textAlign,borderRadius:0,datasetIndex:t.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Aa extends no{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this,r=n.options;if(n.left=0,n.top=0,!r.display)return void(n.width=n.height=n.right=n.bottom=0);n.width=n.right=t,n.height=n.bottom=e;const i=f(r.text)?r.text.length:1;n._padding=Ae(r.padding);const o=i*je(r.font).lineHeight+n._padding.height;n.isHorizontal()?n.height=o:n.width=o}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:n,bottom:r,right:i,options:o}=this,s=o.align;let c,u,l,h=0;return this.isHorizontal()?(u=a(s,n,i),l=e+t,c=i-n):("left"===o.position?(u=n+t,l=a(s,r,e),h=-.5*M):(u=i-t,l=a(s,e,r),h=.5*M),c=r-e),{titleX:u,titleY:l,maxWidth:c,rotation:h}}draw(){const t=this,e=t.ctx,n=t.options;if(!n.display)return;const r=je(n.font),i=r.lineHeight,o=i/2+t._padding.top,{titleX:a,titleY:c,maxWidth:u,rotation:l}=t._drawArgs(o);be(e,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:l,textAlign:s(n.align),textBaseline:"middle",translation:[a,c]})}}function ja(t,e){const n=new Aa({ctx:t.ctx,options:e,chart:t});Pi.configure(t,n,e),Pi.addBox(t,n),t.titleBlock=n}var Na={id:"title",_element:Aa,start(t,e,n){ja(t,n)},stop(t){const e=t.titleBlock;Pi.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;Pi.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Pa=new WeakMap;var Da={id:"subtitle",start(t,e,n){const r=new Aa({ctx:t.ctx,options:n,chart:t});Pi.configure(t,r,n),Pi.addBox(t,r),Pa.set(t,r)},stop(t){Pi.removeBox(t,Pa.get(t)),Pa.delete(t)},beforeUpdate(t,e,n){const r=Pa.get(t);Pi.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ra={average(t){if(!t.length)return!1;let e,n,r=0,i=0,o=0;for(e=0,n=t.length;e<n;++e){const n=t[e].element;if(n&&n.hasValue()){const t=n.tooltipPosition();r+=t.x,i+=t.y,++o}}return{x:r/o,y:i/o}},nearest(t,e){if(!t.length)return!1;let n,r,i,o=e.x,s=e.y,a=Number.POSITIVE_INFINITY;for(n=0,r=t.length;n<r;++n){const r=t[n].element;if(r&&r.hasValue()){const t=r.getCenterPoint(),n=nt(e,t);n<a&&(a=n,i=r)}}if(i){const t=i.tooltipPosition();o=t.x,s=t.y}return{x:o,y:s}}};function Ma(t,e){return e&&(f(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function La(t){return("string"===typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function Fa(t,e){const{element:n,datasetIndex:r,index:i}=e,o=t.getDatasetMeta(r).controller,{label:s,value:a}=o.getLabelAndValue(i);return{chart:t,label:s,parsed:o.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function Ua(t,e){const n=t._chart.ctx,{body:r,footer:i,title:o}=t,{boxWidth:s,boxHeight:a}=e,c=je(e.bodyFont),u=je(e.titleFont),l=je(e.footerFont),h=o.length,f=i.length,d=r.length,p=Ae(e.padding);let g=p.height,m=0,v=r.reduce((t,e)=>t+e.before.length+e.lines.length+e.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,h&&(g+=h*u.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),v){const t=e.displayColors?Math.max(a,c.lineHeight):c.lineHeight;g+=d*t+(v-d)*c.lineHeight+(v-1)*e.bodySpacing}f&&(g+=e.footerMarginTop+f*l.lineHeight+(f-1)*e.footerSpacing);let y=0;const b=function(t){m=Math.max(m,n.measureText(t).width+y)};return n.save(),n.font=u.string,_(t.title,b),n.font=c.string,_(t.beforeBody.concat(t.afterBody),b),y=e.displayColors?s+2:0,_(r,t=>{_(t.before,b),_(t.lines,b),_(t.after,b)}),y=0,n.font=l.string,_(t.footer,b),n.restore(),m+=p.width,{width:m,height:g}}function Va(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function Ba(t,e,n,r){const{x:i,width:o}=r,s=n.caretSize+n.caretPadding;return"left"===t&&i+o+s>e.width||("right"===t&&i-o-s<0||void 0)}function qa(t,e,n,r){const{x:i,width:o}=n,{width:s,chartArea:{left:a,right:c}}=t;let u="center";return"center"===r?u=i<=(a+c)/2?"left":"right":i<=o/2?u="left":i>=s-o/2&&(u="right"),Ba(u,t,e,n)&&(u="center"),u}function za(t,e,n){const r=e.yAlign||Va(t,n);return{xAlign:e.xAlign||qa(t,e,n,r),yAlign:r}}function Wa(t,e){let{x:n,width:r}=t;return"right"===e?n-=r:"center"===e&&(n-=r/2),n}function Ha(t,e,n){let{y:r,height:i}=t;return"top"===e?r+=n:r-="bottom"===e?i+n:i/2,r}function Ka(t,e,n,r){const{caretSize:i,caretPadding:o,cornerRadius:s}=t,{xAlign:a,yAlign:c}=n,u=i+o,l=s+o;let h=Wa(e,a);const f=Ha(e,c,u);return"center"===c?"left"===a?h+=u:"right"===a&&(h-=u):"left"===a?h-=l:"right"===a&&(h+=l),{x:st(h,0,r.width-e.width),y:st(f,0,r.height-e.height)}}function Ga(t,e,n){const r=Ae(n.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-r.right:t.x+r.left}function $a(t){return Ma([],La(t))}function Ya(t,e,n){return Object.assign(Object.create(t),{tooltip:e,tooltipItems:n,type:"tooltip"})}function Qa(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}class Xa extends no{constructor(t){super(),this.opacity=0,this._active=[],this._chart=t._chart,this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this,e=t._cachedAnimations;if(e)return e;const n=t._chart,r=t.options.setContext(t.getContext()),i=r.enabled&&n.options.animation&&r.animations,o=new hr(t._chart,i);return i._cacheable&&(t._cachedAnimations=Object.freeze(o)),o}getContext(){const t=this;return t.$context||(t.$context=Ya(t._chart.getContext(),t,t._tooltipItems))}getTitle(t,e){const n=this,{callbacks:r}=e,i=r.beforeTitle.apply(n,[t]),o=r.title.apply(n,[t]),s=r.afterTitle.apply(n,[t]);let a=[];return a=Ma(a,La(i)),a=Ma(a,La(o)),a=Ma(a,La(s)),a}getBeforeBody(t,e){return $a(e.callbacks.beforeBody.apply(this,[t]))}getBody(t,e){const n=this,{callbacks:r}=e,i=[];return _(t,t=>{const e={before:[],lines:[],after:[]},o=Qa(r,t);Ma(e.before,La(o.beforeLabel.call(n,t))),Ma(e.lines,o.label.call(n,t)),Ma(e.after,La(o.afterLabel.call(n,t))),i.push(e)}),i}getAfterBody(t,e){return $a(e.callbacks.afterBody.apply(this,[t]))}getFooter(t,e){const n=this,{callbacks:r}=e,i=r.beforeFooter.apply(n,[t]),o=r.footer.apply(n,[t]),s=r.afterFooter.apply(n,[t]);let a=[];return a=Ma(a,La(i)),a=Ma(a,La(o)),a=Ma(a,La(s)),a}_createItems(t){const e=this,n=e._active,r=e._chart.data,i=[],o=[],s=[];let a,c,u=[];for(a=0,c=n.length;a<c;++a)u.push(Fa(e._chart,n[a]));return t.filter&&(u=u.filter((e,n,i)=>t.filter(e,n,i,r))),t.itemSort&&(u=u.sort((e,n)=>t.itemSort(e,n,r))),_(u,n=>{const r=Qa(t.callbacks,n);i.push(r.labelColor.call(e,n)),o.push(r.labelPointStyle.call(e,n)),s.push(r.labelTextColor.call(e,n))}),e.labelColors=i,e.labelPointStyles=o,e.labelTextColors=s,e.dataPoints=u,u}update(t,e){const n=this,r=n.options.setContext(n.getContext()),i=n._active;let o,s=[];if(i.length){const t=Ra[r.position].call(n,i,n._eventPosition);s=n._createItems(r),n.title=n.getTitle(s,r),n.beforeBody=n.getBeforeBody(s,r),n.body=n.getBody(s,r),n.afterBody=n.getAfterBody(s,r),n.footer=n.getFooter(s,r);const e=n._size=Ua(n,r),a=Object.assign({},t,e),c=za(n._chart,r,a),u=Ka(r,a,c,n._chart);n.xAlign=c.xAlign,n.yAlign=c.yAlign,o={opacity:1,x:u.x,y:u.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==n.opacity&&(o={opacity:0});n._tooltipItems=s,n.$context=void 0,o&&n._resolveAnimations().update(n,o),t&&r.external&&r.external.call(n,{chart:n._chart,tooltip:n,replay:e})}drawCaret(t,e,n,r){const i=this.getCaretPosition(t,n,r);e.lineTo(i.x1,i.y1),e.lineTo(i.x2,i.y2),e.lineTo(i.x3,i.y3)}getCaretPosition(t,e,n){const{xAlign:r,yAlign:i}=this,{cornerRadius:o,caretSize:s}=n,{x:a,y:c}=t,{width:u,height:l}=e;let h,f,d,p,g,m;return"center"===i?(g=c+l/2,"left"===r?(h=a,f=h-s,p=g+s,m=g-s):(h=a+u,f=h+s,p=g-s,m=g+s),d=h):(f="left"===r?a+o+s:"right"===r?a+u-o-s:this.caretX,"top"===i?(p=c,g=p-s,h=f-s,d=f+s):(p=c+l,g=p+s,h=f+s,d=f-s),m=p),{x1:h,x2:f,x3:d,y1:p,y2:g,y3:m}}drawTitle(t,e,n){const r=this,i=r.title,o=i.length;let s,a,c;if(o){const u=qn(n.rtl,r.x,r.width);for(t.x=Ga(r,n.titleAlign,n),e.textAlign=u.textAlign(n.titleAlign),e.textBaseline="middle",s=je(n.titleFont),a=n.titleSpacing,e.fillStyle=n.titleColor,e.font=s.string,c=0;c<o;++c)e.fillText(i[c],u.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+a,c+1===o&&(t.y+=n.titleMarginBottom-a)}}_drawColorBox(t,e,n,r,i){const o=this,s=o.labelColors[n],a=o.labelPointStyles[n],{boxHeight:c,boxWidth:u}=i,l=je(i.bodyFont),h=Ga(o,"left",i),f=r.x(h),d=c<l.lineHeight?(l.lineHeight-c)/2:0,p=e.y+d;if(i.usePointStyle){const e={radius:Math.min(u,c)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},n=r.leftForLtr(f,u)+u/2,o=p+c/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,de(t,e,n,o),t.strokeStyle=s.borderColor,t.fillStyle=s.backgroundColor,de(t,e,n,o)}else{t.lineWidth=s.borderWidth||1,t.strokeStyle=s.borderColor,t.setLineDash(s.borderDash||[]),t.lineDashOffset=s.borderDashOffset||0;const e=r.leftForLtr(f,u),n=r.leftForLtr(r.xPlus(f,1),u-2),o=Ce(s.borderRadius);Object.values(o).some(t=>0!==t)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,xe(t,{x:e,y:p,w:u,h:c,radius:o}),t.fill(),t.stroke(),t.fillStyle=s.backgroundColor,t.beginPath(),xe(t,{x:n,y:p+1,w:u-2,h:c-2,radius:o}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(e,p,u,c),t.strokeRect(e,p,u,c),t.fillStyle=s.backgroundColor,t.fillRect(n,p+1,u-2,c-2))}t.fillStyle=o.labelTextColors[n]}drawBody(t,e,n){const r=this,{body:i}=r,{bodySpacing:o,bodyAlign:s,displayColors:a,boxHeight:c,boxWidth:u}=n,l=je(n.bodyFont);let h=l.lineHeight,f=0;const d=qn(n.rtl,r.x,r.width),p=function(n){e.fillText(n,d.x(t.x+f),t.y+h/2),t.y+=h+o},g=d.textAlign(s);let m,v,y,b,w,x,E;for(e.textAlign=s,e.textBaseline="middle",e.font=l.string,t.x=Ga(r,g,n),e.fillStyle=n.bodyColor,_(r.beforeBody,p),f=a&&"right"!==g?"center"===s?u/2+1:u+2:0,b=0,x=i.length;b<x;++b){for(m=i[b],v=r.labelTextColors[b],e.fillStyle=v,_(m.before,p),y=m.lines,a&&y.length&&(r._drawColorBox(e,t,b,d,n),h=Math.max(l.lineHeight,c)),w=0,E=y.length;w<E;++w)p(y[w]),h=l.lineHeight;_(m.after,p)}f=0,h=l.lineHeight,_(r.afterBody,p),t.y-=o}drawFooter(t,e,n){const r=this,i=r.footer,o=i.length;let s,a;if(o){const c=qn(n.rtl,r.x,r.width);for(t.x=Ga(r,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=c.textAlign(n.footerAlign),e.textBaseline="middle",s=je(n.footerFont),e.fillStyle=n.footerColor,e.font=s.string,a=0;a<o;++a)e.fillText(i[a],c.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+n.footerSpacing}}drawBackground(t,e,n,r){const{xAlign:i,yAlign:o}=this,{x:s,y:a}=t,{width:c,height:u}=n,l=r.cornerRadius;e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(s+l,a),"top"===o&&this.drawCaret(t,e,n,r),e.lineTo(s+c-l,a),e.quadraticCurveTo(s+c,a,s+c,a+l),"center"===o&&"right"===i&&this.drawCaret(t,e,n,r),e.lineTo(s+c,a+u-l),e.quadraticCurveTo(s+c,a+u,s+c-l,a+u),"bottom"===o&&this.drawCaret(t,e,n,r),e.lineTo(s+l,a+u),e.quadraticCurveTo(s,a+u,s,a+u-l),"center"===o&&"left"===i&&this.drawCaret(t,e,n,r),e.lineTo(s,a+l),e.quadraticCurveTo(s,a,s+l,a),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this,n=e._chart,r=e.$animations,i=r&&r.x,o=r&&r.y;if(i||o){const r=Ra[t.position].call(e,e._active,e._eventPosition);if(!r)return;const s=e._size=Ua(e,t),a=Object.assign({},r,e._size),c=za(n,t,a),u=Ka(t,a,c,n);i._to===u.x&&o._to===u.y||(e.xAlign=c.xAlign,e.yAlign=c.yAlign,e.width=s.width,e.height=s.height,e.caretX=r.x,e.caretY=r.y,e._resolveAnimations().update(e,u))}}draw(t){const e=this,n=e.options.setContext(e.getContext());let r=e.opacity;if(!r)return;e._updateAnimationTarget(n);const i={width:e.width,height:e.height},o={x:e.x,y:e.y};r=Math.abs(r)<.001?0:r;const s=Ae(n.padding),a=e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=r,e.drawBackground(o,t,i,n),zn(t,n.textDirection),o.y+=s.top,e.drawTitle(o,t,n),e.drawBody(o,t,n),e.drawFooter(o,t,n),Wn(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this,r=n._active,i=t.map(({datasetIndex:t,index:e})=>{const r=n._chart.getDatasetMeta(t);if(!r)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:r.data[e],index:e}}),o=!w(r,i),s=n._positionChanged(i,e);(o||s)&&(n._active=i,n._eventPosition=e,n.update(!0))}handleEvent(t,e){const n=this,r=n.options,i=n._active||[];let o=!1,s=[];"mouseout"!==t.type&&(s=n._chart.getElementsAtEventForMode(t,r.mode,r,e),r.reverse&&s.reverse());const a=n._positionChanged(s,t);return o=e||!w(s,i)||a,o&&(n._active=s,(r.enabled||r.external)&&(n._eventPosition={x:t.x,y:t.y},n.update(!0,e))),o}_positionChanged(t,e){const{caretX:n,caretY:r,options:i}=this,o=Ra[i.position].call(this,t,e);return!1!==o&&(n!==o.x||r!==o.y)}}Xa.positioners=Ra;var Ja={id:"tooltip",_element:Xa,positioners:Ra,afterInit(t,e,n){n&&(t.tooltip=new Xa({_chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip,n={tooltip:e};!1!==t.notifyPlugins("beforeTooltipDraw",n)&&(e&&e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n))},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:u,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:u,beforeBody:u,beforeLabel:u,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return h(n)||(e+=n),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex),n=e.controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex),n=e.controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:u,afterBody:u,beforeFooter:u,footer:u,afterFooter:u}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Za=Object.freeze({__proto__:null,Decimation:Xs,Filler:Oa,Legend:Ca,SubTitle:Da,Title:Na,Tooltip:Ja});const tc=(t,e,n)=>"string"===typeof e?t.push(e)-1:isNaN(e)?null:n;function ec(t,e,n){const r=t.indexOf(e);if(-1===r)return tc(t,e,n);const i=t.lastIndexOf(e);return r!==i?n:r}const nc=(t,e)=>null===t?null:st(Math.round(t),0,e);class rc extends To{constructor(t){super(t),this._startValue=void 0,this._valueRange=0}parse(t,e){if(h(t))return null;const n=this.getLabels();return e=isFinite(e)&&n[e]===t?e:ec(n,t,m(e,t)),nc(e,n.length-1)}determineDataLimits(){const t=this,{minDefined:e,maxDefined:n}=t.getUserBounds();let{min:r,max:i}=t.getMinMax(!0);"ticks"===t.options.bounds&&(e||(r=0),n||(i=t.getLabels().length-1)),t.min=r,t.max=i}buildTicks(){const t=this,e=t.min,n=t.max,r=t.options.offset,i=[];let o=t.getLabels();o=0===e&&n===o.length-1?o:o.slice(e,n+1),t._valueRange=Math.max(o.length-(r?0:1),1),t._startValue=t.min-(r?.5:0);for(let s=e;s<=n;s++)i.push({value:s});return i}getLabelForValue(t){const e=this,n=e.getLabels();return t>=0&&t<n.length?n[t]:t}configure(){const t=this;super.configure(),t.isHorizontal()||(t._reversePixels=!t._reversePixels)}getPixelForValue(t){const e=this;return"number"!==typeof t&&(t=e.parse(t)),null===t?NaN:e.getPixelForDecimal((t-e._startValue)/e._valueRange)}getPixelForTick(t){const e=this,n=e.ticks;return t<0||t>n.length-1?null:e.getPixelForValue(n[t].value)}getValueForPixel(t){const e=this;return Math.round(e._startValue+e.getDecimalForPixel(t)*e._valueRange)}getBasePixel(){return this.bottom}}function ic(t,e){const n=[],r=1e-14,{bounds:i,step:o,min:s,max:a,precision:c,count:u,maxTicks:l,maxDigits:f,includeBounds:d}=t,p=o||1,g=l-1,{min:m,max:v}=e,y=!h(s),b=!h(a),_=!h(u),w=(v-m)/(f+1);let x,E,O,T,I=K((v-m)/g/p)*p;if(I<r&&!y&&!b)return[{value:m},{value:v}];T=Math.ceil(v/I)-Math.floor(m/I),T>g&&(I=K(T*I/g/p)*p),h(c)||(x=Math.pow(10,c),I=Math.ceil(I*x)/x),"ticks"===i?(E=Math.floor(m/I)*I,O=Math.ceil(v/I)*I):(E=m,O=v),y&&b&&o&&Q((a-s)/o,I/1e3)?(T=Math.round(Math.min((a-s)/I,l)),I=(a-s)/T,E=s,O=a):_?(E=y?s:E,O=b?a:O,T=u-1,I=(O-E)/T):(T=(O-E)/I,T=Y(T,Math.round(T),I/1e3)?Math.round(T):Math.ceil(T));const k=Math.max(tt(I),tt(E));x=Math.pow(10,h(c)?k:c),E=Math.round(E*x)/x,O=Math.round(O*x)/x;let S=0;for(y&&(d&&E!==s?(n.push({value:s}),E<s&&S++,Y(Math.round((E+S*I)*x)/x,s,oc(s,w,t))&&S++):E<s&&S++);S<T;++S)n.push({value:Math.round((E+S*I)*x)/x});return b&&d&&O!==a?Y(n[n.length-1].value,a,oc(a,w,t))?n[n.length-1].value=a:n.push({value:a}):b&&O!==a||n.push({value:O}),n}function oc(t,e,{horizontal:n,minRotation:r}){const i=J(r),o=(n?Math.sin(i):Math.cos(i))||.001,s=.75*e*(""+t).length;return Math.min(e/o,s)}rc.id="category",rc.defaults={ticks:{callback:rc.prototype.getLabelForValue}};class sc extends To{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return h(t)||("number"===typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const t=this,{beginAtZero:e}=t.options,{minDefined:n,maxDefined:r}=t.getUserBounds();let{min:i,max:o}=t;const s=t=>i=n?i:t,a=t=>o=r?o:t;if(e){const t=H(i),e=H(o);t<0&&e<0?a(0):t>0&&e>0&&s(0)}if(i===o){let t=1;(o>=Number.MAX_SAFE_INTEGER||i<=Number.MIN_SAFE_INTEGER)&&(t=Math.abs(.05*o)),a(o+t),e||s(i-t)}t.min=i,t.max=o}getTickLimit(){const t=this,e=t.options.ticks;let n,{maxTicksLimit:r,stepSize:i}=e;return i?n=Math.ceil(t.max/i)-Math.floor(t.min/i)+1:(n=t.computeTickLimit(),r=r||11),r&&(n=Math.min(r,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this,e=t.options,n=e.ticks;let r=t.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:t._maxDigits(),horizontal:t.isHorizontal(),minRotation:n.minRotation||0,includeBounds:!1!==n.includeBounds},o=t._range||t,s=ic(i,o);return"ticks"===e.bounds&&X(s,t,"value"),e.reverse?(s.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),s}configure(){const t=this,e=t.ticks;let n=t.min,r=t.max;if(super.configure(),t.options.offset&&e.length){const t=(r-n)/Math.max(e.length-1,1)/2;n-=t,r+=t}t._startValue=n,t._endValue=r,t._valueRange=r-n}getLabelForValue(t){return Un(t,this.chart.options.locale)}}class ac extends sc{determineDataLimits(){const t=this,{min:e,max:n}=t.getMinMax(!0);t.min=p(e)?e:0,t.max=p(n)?n:1,t.handleTickRangeOptions()}computeTickLimit(){const t=this,e=t.isHorizontal(),n=e?t.width:t.height,r=J(t.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,o=t._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/i))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}function cc(t){const e=t/Math.pow(10,Math.floor(W(t)));return 1===e}function uc(t,e){const n=Math.floor(W(e.max)),r=Math.ceil(e.max/Math.pow(10,n)),i=[];let o=g(t.min,Math.pow(10,Math.floor(W(e.min)))),s=Math.floor(W(o)),a=Math.floor(o/Math.pow(10,s)),c=s<0?Math.pow(10,Math.abs(s)):1;do{i.push({value:o,major:cc(o)}),++a,10===a&&(a=1,++s,c=s>=0?1:c),o=Math.round(a*Math.pow(10,s)*c)/c}while(s<n||s===n&&a<r);const u=g(t.max,o);return i.push({value:u,major:cc(o)}),i}ac.id="linear",ac.defaults={ticks:{callback:oo.formatters.numeric}};class lc extends To{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=sc.prototype.parse.apply(this,[t,e]);if(0!==n)return p(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const t=this,{min:e,max:n}=t.getMinMax(!0);t.min=p(e)?Math.max(0,e):null,t.max=p(n)?Math.max(0,n):null,t.options.beginAtZero&&(t._zero=!0),t.handleTickRangeOptions()}handleTickRangeOptions(){const t=this,{minDefined:e,maxDefined:n}=t.getUserBounds();let r=t.min,i=t.max;const o=t=>r=e?r:t,s=t=>i=n?i:t,a=(t,e)=>Math.pow(10,Math.floor(W(t))+e);r===i&&(r<=0?(o(1),s(10)):(o(a(r,-1)),s(a(i,1)))),r<=0&&o(a(i,-1)),i<=0&&s(a(r,1)),t._zero&&t.min!==t._suggestedMin&&r===a(t.min,0)&&o(a(r,-1)),t.min=r,t.max=i}buildTicks(){const t=this,e=t.options,n={min:t._userMin,max:t._userMax},r=uc(n,t);return"ticks"===e.bounds&&X(r,t,"value"),e.reverse?(r.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),r}getLabelForValue(t){return void 0===t?"0":Un(t,this.chart.options.locale)}configure(){const t=this,e=t.min;super.configure(),t._startValue=W(e),t._valueRange=W(t.max)-W(e)}getPixelForValue(t){const e=this;return void 0!==t&&0!==t||(t=e.min),null===t||isNaN(t)?NaN:e.getPixelForDecimal(t===e.min?0:(W(t)-e._startValue)/e._valueRange)}getValueForPixel(t){const e=this,n=e.getDecimalForPixel(t);return Math.pow(10,e._startValue+n*e._valueRange)}}function hc(t){const e=t.ticks;if(e.display&&t.display){const t=Ae(e.backdropPadding);return m(e.font&&e.font.size,ae.font.size)+t.height}return 0}function fc(t,e,n){return n=f(n)?n:[n],{w:le(t,e.string,n),h:n.length*e.lineHeight}}function dc(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function pc(t){const e={l:0,r:t.width,t:0,b:t.height-t.paddingTop},n={},r=[],i=[],o=t.getLabels().length;for(let s=0;s<o;s++){const o=t.options.pointLabels.setContext(t.getPointLabelContext(s));i[s]=o.padding;const a=t.getPointPosition(s,t.drawingArea+i[s]),c=je(o.font),u=fc(t.ctx,c,t._pointLabels[s]);r[s]=u;const l=t.getIndexAngle(s),h=Z(l),f=dc(h,a.x,u.w,0,180),d=dc(h,a.y,u.h,90,270);f.start<e.l&&(e.l=f.start,n.l=l),f.end>e.r&&(e.r=f.end,n.r=l),d.start<e.t&&(e.t=d.start,n.t=l),d.end>e.b&&(e.b=d.end,n.b=l)}t._setReductions(t.drawingArea,e,n),t._pointLabelItems=gc(t,r,i)}function gc(t,e,n){const r=[],i=t.getLabels().length,o=t.options,s=hc(o),a=t.getDistanceFromCenterForValue(o.ticks.reverse?t.min:t.max);for(let c=0;c<i;c++){const i=0===c?s/2:0,o=t.getPointPosition(c,a+i+n[c]),u=Z(t.getIndexAngle(c)),l=e[c],h=yc(o.y,l.h,u),f=mc(u),d=vc(o.x,l.w,f);r.push({x:o.x,y:h,textAlign:f,left:d,top:h,right:d+l.w,bottom:h+l.h})}return r}function mc(t){return 0===t||180===t?"center":t<180?"left":"right"}function vc(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function yc(t,e,n){return 90===n||270===n?t-=e/2:(n>270||n<90)&&(t-=e),t}function bc(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const e=r.setContext(t.getPointLabelContext(i)),o=je(e.font),{x:s,y:a,textAlign:c,left:u,top:l,right:f,bottom:d}=t._pointLabelItems[i],{backdropColor:p}=e;if(!h(p)){const t=Ae(e.backdropPadding);n.fillStyle=p,n.fillRect(u-t.left,l-t.top,f-u+t.width,d-l+t.height)}be(n,t._pointLabels[i],s,a+o.lineHeight/2,o,{color:e.color,textAlign:c,textBaseline:"middle"})}}function _c(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,L);else{let n=t.getPointPosition(0,e);i.moveTo(n.x,n.y);for(let o=1;o<r;o++)n=t.getPointPosition(o,e),i.lineTo(n.x,n.y)}}function wc(t,e,n,r){const i=t.ctx,o=e.circular,{color:s,lineWidth:a}=e;!o&&!r||!s||!a||n<0||(i.save(),i.strokeStyle=s,i.lineWidth=a,i.setLineDash(e.borderDash),i.lineDashOffset=e.borderDashOffset,i.beginPath(),_c(t,n,o,r),i.closePath(),i.stroke(),i.restore())}function xc(t){return $(t)?t:0}function Ec(t,e,n){return Object.assign(Object.create(t),{label:n,index:e,type:"pointLabel"})}lc.id="logarithmic",lc.defaults={ticks:{callback:oo.formatters.logarithmic,major:{enabled:!0}}};class Oc extends sc{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this;t.width=t.maxWidth,t.height=t.maxHeight,t.paddingTop=hc(t.options)/2,t.xCenter=Math.floor(t.width/2),t.yCenter=Math.floor((t.height-t.paddingTop)/2),t.drawingArea=Math.min(t.height-t.paddingTop,t.width)/2}determineDataLimits(){const t=this,{min:e,max:n}=t.getMinMax(!1);t.min=p(e)&&!isNaN(e)?e:0,t.max=p(n)&&!isNaN(n)?n:0,t.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/hc(this.options))}generateTickLabels(t){const e=this;sc.prototype.generateTickLabels.call(e,t),e._pointLabels=e.getLabels().map((t,n)=>{const r=b(e.options.pointLabels.callback,[t,n],e);return r||0===r?r:""})}fit(){const t=this,e=t.options;e.display&&e.pointLabels.display?pc(t):t.setCenterPoint(0,0,0,0)}_setReductions(t,e,n){const r=this;let i=e.l/Math.sin(n.l),o=Math.max(e.r-r.width,0)/Math.sin(n.r),s=-e.t/Math.cos(n.t),a=-Math.max(e.b-(r.height-r.paddingTop),0)/Math.cos(n.b);i=xc(i),o=xc(o),s=xc(s),a=xc(a),r.drawingArea=Math.max(t/2,Math.min(Math.floor(t-(i+o)/2),Math.floor(t-(s+a)/2))),r.setCenterPoint(i,o,s,a)}setCenterPoint(t,e,n,r){const i=this,o=i.width-e-i.drawingArea,s=t+i.drawingArea,a=n+i.drawingArea,c=i.height-i.paddingTop-r-i.drawingArea;i.xCenter=Math.floor((s+o)/2+i.left),i.yCenter=Math.floor((a+c)/2+i.top+i.paddingTop)}getIndexAngle(t){const e=L/this.getLabels().length,n=this.options.startAngle||0;return it(t*e+J(n))}getDistanceFromCenterForValue(t){const e=this;if(h(t))return NaN;const n=e.drawingArea/(e.max-e.min);return e.options.reverse?(e.max-t)*n:(t-e.min)*n}getValueForDistanceFromCenter(t){if(h(t))return NaN;const e=this,n=t/(e.drawingArea/(e.max-e.min));return e.options.reverse?e.max-n:e.min+n}getPointLabelContext(t){const e=this,n=e._pointLabels||[];if(t>=0&&t<n.length){const r=n[t];return Ec(e.getContext(),t,r)}}getPointPosition(t,e){const n=this,r=n.getIndexAngle(t)-B;return{x:Math.cos(r)*e+n.xCenter,y:Math.sin(r)*e+n.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:r,bottom:i}=this._pointLabelItems[t];return{left:e,top:n,right:r,bottom:i}}drawBackground(){const t=this,{backgroundColor:e,grid:{circular:n}}=t.options;if(e){const r=t.ctx;r.save(),r.beginPath(),_c(t,t.getDistanceFromCenterForValue(t._endValue),n,t.getLabels().length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const t=this,e=t.ctx,n=t.options,{angleLines:r,grid:i}=n,o=t.getLabels().length;let s,a,c;if(n.pointLabels.display&&bc(t,o),i.display&&t.ticks.forEach((e,n)=>{if(0!==n){a=t.getDistanceFromCenterForValue(e.value);const r=i.setContext(t.getContext(n-1));wc(t,r,a,o)}}),r.display){for(e.save(),s=t.getLabels().length-1;s>=0;s--){const i=r.setContext(t.getPointLabelContext(s)),{color:o,lineWidth:u}=i;u&&o&&(e.lineWidth=u,e.strokeStyle=o,e.setLineDash(i.borderDash),e.lineDashOffset=i.borderDashOffset,a=t.getDistanceFromCenterForValue(n.ticks.reverse?t.min:t.max),c=t.getPointPosition(s,a),e.beginPath(),e.moveTo(t.xCenter,t.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const t=this,e=t.ctx,n=t.options,r=n.ticks;if(!r.display)return;const i=t.getIndexAngle(0);let o,s;e.save(),e.translate(t.xCenter,t.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",t.ticks.forEach((i,a)=>{if(0===a&&!n.reverse)return;const c=r.setContext(t.getContext(a)),u=je(c.font);if(o=t.getDistanceFromCenterForValue(t.ticks[a].value),c.showLabelBackdrop){e.font=u.string,s=e.measureText(i.label).width,e.fillStyle=c.backdropColor;const t=Ae(c.backdropPadding);e.fillRect(-s/2-t.left,-o-u.size/2-t.top,s+t.width,u.size+t.height)}be(e,i.label,0,-o,u,{color:c.color})}),e.restore()}drawTitle(){}}Oc.id="radialLinear",Oc.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:oo.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5}},Oc.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},Oc.descriptors={angleLines:{_fallback:"grid"}};const Tc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ic=Object.keys(Tc);function kc(t,e){return t-e}function Sc(t,e){if(h(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:o}=t._parseOpts;let s=e;return"function"===typeof r&&(s=r(s)),p(s)||(s="string"===typeof r?n.parse(s,r):n.parse(s)),null===s?null:(i&&(s="week"!==i||!$(o)&&!0!==o?n.startOf(s,i):n.startOf(s,"isoWeek",o)),+s)}function Cc(t,e,n,r){const i=Ic.length;for(let o=Ic.indexOf(t);o<i-1;++o){const t=Tc[Ic[o]],i=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((n-e)/(i*t.size))<=r)return Ic[o]}return Ic[i-1]}function Ac(t,e,n,r,i){for(let o=Ic.length-1;o>=Ic.indexOf(n);o--){const n=Ic[o];if(Tc[n].common&&t._adapter.diff(i,r,n)>=e-1)return n}return Ic[n?Ic.indexOf(n):0]}function jc(t){for(let e=Ic.indexOf(t)+1,n=Ic.length;e<n;++e)if(Tc[Ic[e]].common)return Ic[e]}function Nc(t,e,n){if(n){if(n.length){const{lo:r,hi:i}=De(n,e),o=n[r]>=e?n[r]:n[i];t[o]=!0}}else t[e]=!0}function Pc(t,e,n,r){const i=t._adapter,o=+i.startOf(e[0].value,r),s=e[e.length-1].value;let a,c;for(a=o;a<=s;a=+i.add(a,1,r))c=n[a],c>=0&&(e[c].major=!0);return e}function Dc(t,e,n){const r=[],i={},o=e.length;let s,a;for(s=0;s<o;++s)a=e[s],i[a]=s,r.push({value:a,major:!1});return 0!==o&&n?Pc(t,r,i,n):r}class Rc extends To{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e){const n=t.time||(t.time={}),r=this._adapter=new ai._date(t.adapters.date);I(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:Sc(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this,e=t.options,n=t._adapter,r=e.time.unit||"day";let{min:i,max:o,minDefined:s,maxDefined:a}=t.getUserBounds();function c(t){s||isNaN(t.min)||(i=Math.min(i,t.min)),a||isNaN(t.max)||(o=Math.max(o,t.max))}s&&a||(c(t._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||c(t.getMinMax(!1))),i=p(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),o=p(o)&&!isNaN(o)?o:+n.endOf(Date.now(),r)+1,t.min=Math.min(i,o-1),t.max=Math.max(i+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this,e=t.options,n=e.time,r=e.ticks,i="labels"===r.source?t.getLabelTimestamps():t._generate();"ticks"===e.bounds&&i.length&&(t.min=t._userMin||i[0],t.max=t._userMax||i[i.length-1]);const o=t.min,s=t.max,a=Le(i,o,s);return t._unit=n.unit||(r.autoSkip?Cc(n.minUnit,t.min,t.max,t._getLabelCapacity(o)):Ac(t,a.length,n.minUnit,t.min,t.max)),t._majorUnit=r.major.enabled&&"year"!==t._unit?jc(t._unit):void 0,t.initOffsets(i),e.reverse&&a.reverse(),Dc(t,a,t._majorUnit)}initOffsets(t){const e=this;let n,r,i=0,o=0;e.options.offset&&t.length&&(n=e.getDecimalForValue(t[0]),i=1===t.length?1-n:(e.getDecimalForValue(t[1])-n)/2,r=e.getDecimalForValue(t[t.length-1]),o=1===t.length?r:(r-e.getDecimalForValue(t[t.length-2]))/2);const s=t.length<3?.5:.25;i=st(i,0,s),o=st(o,0,s),e._offsets={start:i,end:o,factor:1/(i+1+o)}}_generate(){const t=this,e=t._adapter,n=t.min,r=t.max,i=t.options,o=i.time,s=o.unit||Cc(o.minUnit,n,r,t._getLabelCapacity(n)),a=m(o.stepSize,1),c="week"===s&&o.isoWeekday,u=$(c)||!0===c,l={};let h,f,d=n;if(u&&(d=+e.startOf(d,"isoWeek",c)),d=+e.startOf(d,u?"day":s),e.diff(r,n,s)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+s);const p="data"===i.ticks.source&&t.getDataTimestamps();for(h=d,f=0;h<r;h=+e.add(h,a,s),f++)Nc(l,h,p);return h!==r&&"ticks"!==i.bounds&&1!==f||Nc(l,h,p),Object.keys(l).sort((t,e)=>t-e).map(t=>+t)}getLabelForValue(t){const e=this,n=e._adapter,r=e.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}_tickFormatFunction(t,e,n,r){const i=this,o=i.options,s=o.time.displayFormats,a=i._unit,c=i._majorUnit,u=a&&s[a],l=c&&s[c],h=n[e],f=c&&l&&h&&h.major,d=i._adapter.format(t,r||(f?l:u)),p=o.ticks.callback;return p?b(p,[d,e,n],i):d}generateTickLabels(t){let e,n,r;for(e=0,n=t.length;e<n;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){const e=this;return null===t?NaN:(t-e.min)/(e.max-e.min)}getPixelForValue(t){const e=this,n=e._offsets,r=e.getDecimalForValue(t);return e.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const e=this,n=e._offsets,r=e.getDecimalForPixel(t)/n.factor-n.end;return e.min+r*(e.max-e.min)}_getLabelSize(t){const e=this,n=e.options.ticks,r=e.ctx.measureText(t).width,i=J(e.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(i),s=Math.sin(i),a=e._resolveTickFontOptions(0).size;return{w:r*o+a*s,h:r*s+a*o}}_getLabelCapacity(t){const e=this,n=e.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,o=e._tickFormatFunction(t,0,Dc(e,[t],e._majorUnit),i),s=e._getLabelSize(o),a=Math.floor(e.isHorizontal()?e.width/s.w:e.height/s.h)-1;return a>0?a:1}getDataTimestamps(){const t=this;let e,n,r=t._cache.data||[];if(r.length)return r;const i=t.getMatchingVisibleMetas();if(t._normalized&&i.length)return t._cache.data=i[0].controller.getAllParsedValues(t);for(e=0,n=i.length;e<n;++e)r=r.concat(i[e].controller.getAllParsedValues(t));return t._cache.data=t.normalize(r)}getLabelTimestamps(){const t=this,e=t._cache.labels||[];let n,r;if(e.length)return e;const i=t.getLabels();for(n=0,r=i.length;n<r;++n)e.push(Sc(t,i[n]));return t._cache.labels=t._normalized?e:t.normalize(e)}normalize(t){return Be(t.sort(kc))}}function Mc(t,e,n){let r,i,o,s,a=0,c=t.length-1;n?(e>=t[a].pos&&e<=t[c].pos&&({lo:a,hi:c}=Re(t,"pos",e)),({pos:r,time:o}=t[a]),({pos:i,time:s}=t[c])):(e>=t[a].time&&e<=t[c].time&&({lo:a,hi:c}=Re(t,"time",e)),({time:r,pos:o}=t[a]),({time:i,pos:s}=t[c]));const u=i-r;return u?o+(s-o)*(e-r)/u:o}Rc.id="time",Rc.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};class Lc extends Rc{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this,e=t._getTimestampsForTable(),n=t._table=t.buildLookupTable(e);t._minPos=Mc(n,t.min),t._tableRange=Mc(n,t.max)-t._minPos,super.initOffsets(e)}buildLookupTable(t){const{min:e,max:n}=this,r=[],i=[];let o,s,a,c,u;for(o=0,s=t.length;o<s;++o)c=t[o],c>=e&&c<=n&&r.push(c);if(r.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(o=0,s=r.length;o<s;++o)u=r[o+1],a=r[o-1],c=r[o],Math.round((u+a)/2)!==c&&i.push({time:c,pos:o/(s-1)});return i}_getTimestampsForTable(){const t=this;let e=t._cache.all||[];if(e.length)return e;const n=t.getDataTimestamps(),r=t.getLabelTimestamps();return e=n.length&&r.length?t.normalize(n.concat(r)):n.length?n:r,e=t._cache.all=e,e}getDecimalForValue(t){return(Mc(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this,n=e._offsets,r=e.getDecimalForPixel(t)/n.factor-n.end;return Mc(e._table,r*e._tableRange+e._minPos,!0)}}Lc.id="timeseries",Lc.defaults=Rc.defaults;var Fc=Object.freeze({__proto__:null,CategoryScale:rc,LinearScale:ac,LogarithmicScale:lc,RadialLinearScale:Oc,TimeScale:Rc,TimeSeriesScale:Lc});const Uc=[ii,Hs,Za,Fc]},"9bdd":function(t,e,n){var r=n("825a"),i=n("2a62");t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(s){i(t,"throw",s)}}},"9bf2":function(t,e,n){var r=n("83ab"),i=n("0cfb"),o=n("825a"),s=n("a04b"),a=Object.defineProperty;e.f=r?a:function(t,e,n){if(o(t),e=s(e),o(n),i)try{return a(t,e,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},"9dbb":function(t,e,n){(function(t,n){n(e)})(0,(function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function r(t,e,r){var i,o=new Promise((function(o,s){i=t[e].apply(t,r),n(i).then(o,s)}));return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then((function(t){if(t)return new l(t,i.request)}))}function o(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function s(t,e,n,i){i.forEach((function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})}))}function a(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function c(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})}))}function u(t){this._index=t}function l(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function f(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function d(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new f(n)}function p(t){this._db=t}function g(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new d(o.result,t.oldVersion,o.transaction))}),i.then((function(t){return new p(t)}))}function m(t){return r(indexedDB,"deleteDatabase",[t])}o(u,"_index",["name","keyPath","multiEntry","unique"]),s(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),c(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),s(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(l.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then((function(t){if(t)return new l(t,e._request)}))}))})})),h.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),s(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),c(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),a(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),a(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[h,u].forEach((function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[u,h].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})})),t.openDb=g,t.deleteDb=m,Object.defineProperty(t,"__esModule",{value:!0})}))},"9ed3":function(t,e,n){"use strict";var r=n("ae93").IteratorPrototype,i=n("7c73"),o=n("5c6c"),s=n("d44e"),a=n("3f8c"),c=function(){return this};t.exports=function(t,e,n){var u=e+" Iterator";return t.prototype=i(r,{next:o(1,n)}),s(t,u,!1,!0),a[u]=c,t}},"9f7f":function(t,e,n){var r=n("d039"),i=n("da84"),o=i.RegExp;e.UNSUPPORTED_Y=r((function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},"9ff4":function(t,e,n){"use strict";(function(t){function r(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?t=>!!n[t.toLowerCase()]:t=>!!n[t]}n.d(e,"a",(function(){return O})),n.d(e,"b",(function(){return E})),n.d(e,"c",(function(){return I})),n.d(e,"d",(function(){return T})),n.d(e,"e",(function(){return X})),n.d(e,"f",(function(){return tt})),n.d(e,"g",(function(){return it})),n.d(e,"h",(function(){return A})),n.d(e,"i",(function(){return nt})),n.d(e,"j",(function(){return P})),n.d(e,"k",(function(){return Z})),n.d(e,"l",(function(){return c})),n.d(e,"m",(function(){return rt})),n.d(e,"n",(function(){return D})),n.d(e,"o",(function(){return F})),n.d(e,"p",(function(){return o})),n.d(e,"q",(function(){return m})),n.d(e,"r",(function(){return G})),n.d(e,"s",(function(){return R})),n.d(e,"t",(function(){return C})),n.d(e,"u",(function(){return B})),n.d(e,"v",(function(){return S})),n.d(e,"w",(function(){return K})),n.d(e,"x",(function(){return q})),n.d(e,"y",(function(){return $})),n.d(e,"z",(function(){return v})),n.d(e,"A",(function(){return M})),n.d(e,"B",(function(){return a})),n.d(e,"C",(function(){return U})),n.d(e,"D",(function(){return V})),n.d(e,"E",(function(){return b})),n.d(e,"F",(function(){return _})),n.d(e,"G",(function(){return r})),n.d(e,"H",(function(){return d})),n.d(e,"I",(function(){return u})),n.d(e,"J",(function(){return j})),n.d(e,"K",(function(){return w})),n.d(e,"L",(function(){return et})),n.d(e,"M",(function(){return ot})),n.d(e,"N",(function(){return H}));const i="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",o=r(i);const s="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",a=r(s);function c(t){return!!t||""===t}function u(t){if(D(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=U(r)?f(r):u(r);if(i)for(const t in i)e[t]=i[t]}return e}return U(t)||B(t)?t:void 0}const l=/;(?![^(]*\))/g,h=/:(.+)/;function f(t){const e={};return t.split(l).forEach(t=>{if(t){const n=t.split(h);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function d(t){let e="";if(U(t))e=t;else if(D(t))for(let n=0;n<t.length;n++){const r=d(t[n]);r&&(e+=r+" ")}else if(B(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const p="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",g="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",m=r(p),v=r(g);function y(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=b(t[r],e[r]);return n}function b(t,e){if(t===e)return!0;let n=L(t),r=L(e);if(n||r)return!(!n||!r)&&t.getTime()===e.getTime();if(n=D(t),r=D(e),n||r)return!(!n||!r)&&y(t,e);if(n=B(t),r=B(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,o=Object.keys(e).length;if(i!==o)return!1;for(const n in t){const r=t.hasOwnProperty(n),i=e.hasOwnProperty(n);if(r&&!i||!r&&i||!b(t[n],e[n]))return!1}}return String(t)===String(e)}function _(t,e){return t.findIndex(t=>b(t,e))}const w=t=>null==t?"":D(t)||B(t)&&(t.toString===z||!F(t.toString))?JSON.stringify(t,x,2):String(t),x=(t,e)=>e&&e.__v_isRef?x(t,e.value):R(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[e,n])=>(t[e+" =>"]=n,t),{})}:M(e)?{[`Set(${e.size})`]:[...e.values()]}:!B(e)||D(e)||K(e)?e:String(e),E={},O=[],T=()=>{},I=()=>!1,k=/^on[^a-z]/,S=t=>k.test(t),C=t=>t.startsWith("onUpdate:"),A=Object.assign,j=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},N=Object.prototype.hasOwnProperty,P=(t,e)=>N.call(t,e),D=Array.isArray,R=t=>"[object Map]"===W(t),M=t=>"[object Set]"===W(t),L=t=>t instanceof Date,F=t=>"function"===typeof t,U=t=>"string"===typeof t,V=t=>"symbol"===typeof t,B=t=>null!==t&&"object"===typeof t,q=t=>B(t)&&F(t.then)&&F(t.catch),z=Object.prototype.toString,W=t=>z.call(t),H=t=>W(t).slice(8,-1),K=t=>"[object Object]"===W(t),G=t=>U(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,$=r(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Y=t=>{const e=Object.create(null);return n=>{const r=e[n];return r||(e[n]=t(n))}},Q=/-(\w)/g,X=Y(t=>t.replace(Q,(t,e)=>e?e.toUpperCase():"")),J=/\B([A-Z])/g,Z=Y(t=>t.replace(J,"-$1").toLowerCase()),tt=Y(t=>t.charAt(0).toUpperCase()+t.slice(1)),et=Y(t=>t?"on"+tt(t):""),nt=(t,e)=>!Object.is(t,e),rt=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},it=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},ot=t=>{const e=parseFloat(t);return isNaN(e)?t:e}}).call(this,n("c8ba"))},a04b:function(t,e,n){var r=n("c04e"),i=n("d9b5");t.exports=function(t){var e=r(t,"string");return i(e)?e:String(e)}},a15b:function(t,e,n){"use strict";var r=n("23e7"),i=n("44ad"),o=n("fc6a"),s=n("a640"),a=[].join,c=i!=Object,u=s("join",",");r({target:"Array",proto:!0,forced:c||!u},{join:function(t){return a.call(o(this),void 0===t?",":t)}})},a2cd:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return a}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function o(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r["throw"](t))}catch(e){o(e)}}function c(t){t.done?n(t.value):i(t.value).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function s(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return c([t,e])}}function c(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}Object.create;function a(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create},a321:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("1fc0");function i(t){var e=Object(r["a"])(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}},a4b4:function(t,e,n){var r=n("342f");t.exports=/web0s(?!.*chrome)/i.test(r)},a4d3:function(t,e,n){"use strict";var r=n("23e7"),i=n("da84"),o=n("d066"),s=n("c430"),a=n("83ab"),c=n("4930"),u=n("d039"),l=n("5135"),h=n("e8b5"),f=n("861d"),d=n("d9b5"),p=n("825a"),g=n("7b0b"),m=n("fc6a"),v=n("a04b"),y=n("577e"),b=n("5c6c"),_=n("7c73"),w=n("df75"),x=n("241c"),E=n("057f"),O=n("7418"),T=n("06cf"),I=n("9bf2"),k=n("d1e7"),S=n("9112"),C=n("6eeb"),A=n("5692"),j=n("f772"),N=n("d012"),P=n("90e3"),D=n("b622"),R=n("e538"),M=n("746f"),L=n("d44e"),F=n("69f3"),U=n("b727").forEach,V=j("hidden"),B="Symbol",q="prototype",z=D("toPrimitive"),W=F.set,H=F.getterFor(B),K=Object[q],G=i.Symbol,$=o("JSON","stringify"),Y=T.f,Q=I.f,X=E.f,J=k.f,Z=A("symbols"),tt=A("op-symbols"),et=A("string-to-symbol-registry"),nt=A("symbol-to-string-registry"),rt=A("wks"),it=i.QObject,ot=!it||!it[q]||!it[q].findChild,st=a&&u((function(){return 7!=_(Q({},"a",{get:function(){return Q(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=Y(K,e);r&&delete K[e],Q(t,e,n),r&&t!==K&&Q(K,e,r)}:Q,at=function(t,e){var n=Z[t]=_(G[q]);return W(n,{type:B,tag:t,description:e}),a||(n.description=e),n},ct=function(t,e,n){t===K&&ct(tt,e,n),p(t);var r=v(e);return p(n),l(Z,r)?(n.enumerable?(l(t,V)&&t[V][r]&&(t[V][r]=!1),n=_(n,{enumerable:b(0,!1)})):(l(t,V)||Q(t,V,b(1,{})),t[V][r]=!0),st(t,r,n)):Q(t,r,n)},ut=function(t,e){p(t);var n=m(e),r=w(n).concat(pt(n));return U(r,(function(e){a&&!ht.call(n,e)||ct(t,e,n[e])})),t},lt=function(t,e){return void 0===e?_(t):ut(_(t),e)},ht=function(t){var e=v(t),n=J.call(this,e);return!(this===K&&l(Z,e)&&!l(tt,e))&&(!(n||!l(this,e)||!l(Z,e)||l(this,V)&&this[V][e])||n)},ft=function(t,e){var n=m(t),r=v(e);if(n!==K||!l(Z,r)||l(tt,r)){var i=Y(n,r);return!i||!l(Z,r)||l(n,V)&&n[V][r]||(i.enumerable=!0),i}},dt=function(t){var e=X(m(t)),n=[];return U(e,(function(t){l(Z,t)||l(N,t)||n.push(t)})),n},pt=function(t){var e=t===K,n=X(e?tt:m(t)),r=[];return U(n,(function(t){!l(Z,t)||e&&!l(K,t)||r.push(Z[t])})),r};if(c||(G=function(){if(this instanceof G)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?y(arguments[0]):void 0,e=P(t),n=function(t){this===K&&n.call(tt,t),l(this,V)&&l(this[V],e)&&(this[V][e]=!1),st(this,e,b(1,t))};return a&&ot&&st(K,e,{configurable:!0,set:n}),at(e,t)},C(G[q],"toString",(function(){return H(this).tag})),C(G,"withoutSetter",(function(t){return at(P(t),t)})),k.f=ht,I.f=ct,T.f=ft,x.f=E.f=dt,O.f=pt,R.f=function(t){return at(D(t),t)},a&&(Q(G[q],"description",{configurable:!0,get:function(){return H(this).description}}),s||C(K,"propertyIsEnumerable",ht,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:G}),U(w(rt),(function(t){M(t)})),r({target:B,stat:!0,forced:!c},{for:function(t){var e=y(t);if(l(et,e))return et[e];var n=G(e);return et[e]=n,nt[n]=e,n},keyFor:function(t){if(!d(t))throw TypeError(t+" is not a symbol");if(l(nt,t))return nt[t]},useSetter:function(){ot=!0},useSimple:function(){ot=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!a},{create:lt,defineProperty:ct,defineProperties:ut,getOwnPropertyDescriptor:ft}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:dt,getOwnPropertySymbols:pt}),r({target:"Object",stat:!0,forced:u((function(){O.f(1)}))},{getOwnPropertySymbols:function(t){return O.f(g(t))}}),$){var gt=!c||u((function(){var t=G();return"[null]"!=$([t])||"{}"!=$({a:t})||"{}"!=$(Object(t))}));r({target:"JSON",stat:!0,forced:gt},{stringify:function(t,e,n){var r,i=[t],o=1;while(arguments.length>o)i.push(arguments[o++]);if(r=e,(f(e)||void 0!==t)&&!d(t))return h(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!d(e))return e}),i[1]=e,$.apply(null,i)}})}G[q][z]||S(G[q],z,G[q].valueOf),L(G,B),N[V]=!0},a630:function(t,e,n){var r=n("23e7"),i=n("4df4"),o=n("1c7e"),s=!o((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:s},{from:i})},a640:function(t,e,n){"use strict";var r=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},a691:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},a6a6:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return Xa})),n.d(e,"b",(function(){return qa})),n.d(e,"c",(function(){return O})),n.d(e,"d",(function(){return cu})),n.d(e,"e",(function(){return za})),n.d(e,"f",(function(){return su})),n.d(e,"g",(function(){return lu})),n.d(e,"h",(function(){return mu})),n.d(e,"i",(function(){return vu})),n.d(e,"j",(function(){return iu})),n.d(e,"k",(function(){return Tu})),n.d(e,"l",(function(){return uu})),n.d(e,"m",(function(){return _u})),n.d(e,"n",(function(){return Ou})),n.d(e,"o",(function(){return ou})),n.d(e,"p",(function(){return Eu})),n.d(e,"q",(function(){return wu})),n.d(e,"r",(function(){return yu})),n.d(e,"s",(function(){return Iu})),n.d(e,"t",(function(){return fu}));var r=n("a2cd"),i=n("a8e9"),o=n("abfd"),s=n("c7b2"),a=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();a.o=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var c={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},u=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(r["b"])(e,t),e}(Error),l=new o["Logger"]("@firebase/firestore");function h(){return l.logLevel}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=o["LogLevel"].DEBUG){var i=e.map(g);l.debug.apply(l,Object(r["d"])(["Firestore (8.10.0): "+t],i))}}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=o["LogLevel"].ERROR){var i=e.map(g);l.error.apply(l,Object(r["d"])(["Firestore (8.10.0): "+t],i))}}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=o["LogLevel"].WARN){var i=e.map(g);l.warn.apply(l,Object(r["d"])(["Firestore (8.10.0): "+t],i))}}function g(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.0) INTERNAL ASSERTION FAILED: "+t;throw d(e),new Error(e)}function v(t,e){t||m()}function y(t,e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=b(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function w(t,e){return t<e?-1:t>e?1:0}function x(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function E(t){return t+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new u(c.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new u(c.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new u(c.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new u(c.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?w(this.nanoseconds,t.nanoseconds):w(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),T=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new O(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function k(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function S(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&m(),void 0===n?n=t.length-e:n>t.length-e&&m(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["b"])(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new u(c.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(C),j=/^[_a-zA-Z][_a-zA-Z0-9]*$/,N=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["b"])(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return j.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new u(c.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new u(c.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var l=t[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new u(c.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new u(c.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(C),P=function(){function t(t){this.fields=t,t.sort(N.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return x(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),D=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return w(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();D.EMPTY_BYTE_STRING=new D("");var R=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function M(t){if(v(!!t),"string"==typeof t){var e=0,n=R.exec(t);if(v(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:L(t.seconds),nanos:L(t.nanos)}}function L(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function F(t){return"string"==typeof t?D.fromBase64String(t):D.fromUint8Array(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function V(t){var e=t.mapValue.fields.__previous_value__;return U(e)?V(e):e}function B(t){var e=M(t.mapValue.fields.__local_write_time__.timestampValue);return new O(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q(t){return null==t}function z(t){return 0===t&&1/t==-1/0}function W(t){return"number"==typeof t&&Number.isInteger(t)&&!z(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(A.fromString(e))},t.fromName=function(e){return new t(A.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===A.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return A.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new A(e.slice()))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?U(t)?4:10:m()}function G(t,e){var n=K(t);if(n!==K(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return B(t).isEqual(B(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=M(t.timestampValue),r=M(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return F(t.bytesValue).isEqual(F(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return L(t.geoPointValue.latitude)===L(e.geoPointValue.latitude)&&L(t.geoPointValue.longitude)===L(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return L(t.integerValue)===L(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=L(t.doubleValue),r=L(e.doubleValue);return n===r?z(n)===z(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return x(t.arrayValue.values||[],e.arrayValue.values||[],G);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(I(n)!==I(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!G(n[i],r[i])))return!1;return!0}(t,e);default:return m()}}function $(t,e){return void 0!==(t.values||[]).find((function(t){return G(t,e)}))}function Y(t,e){var n=K(t),r=K(e);if(n!==r)return w(n,r);switch(n){case 0:return 0;case 1:return w(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=L(t.integerValue||t.doubleValue),r=L(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Q(t.timestampValue,e.timestampValue);case 4:return Q(B(t),B(e));case 5:return w(t.stringValue,e.stringValue);case 6:return function(t,e){var n=F(t),r=F(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=w(n[i],r[i]);if(0!==o)return o}return w(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=w(L(t.latitude),L(e.latitude));return 0!==n?n:w(L(t.longitude),L(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Y(n[i],r[i]);if(o)return o}return w(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=w(r[s],o[s]);if(0!==a)return a;var c=Y(n[r[s]],i[o[s]]);if(0!==c)return c}return w(r.length,o.length)}(t.mapValue,e.mapValue);default:throw m()}}function Q(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return w(t,e);var n=M(t),r=M(e),i=w(n.seconds,r.seconds);return 0!==i?i:w(n.nanos,r.nanos)}function X(t){return J(t)}function J(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=M(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?F(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,H.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=J(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+J(t.fields[o])}return e+"}"}(t.mapValue):m();var e,n}function Z(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function tt(t){return!!t&&"integerValue"in t}function et(t){return!!t&&"arrayValue"in t}function nt(t){return!!t&&"nullValue"in t}function rt(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function it(t){return!!t&&"mapValue"in t}function ot(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return k(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=ot(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=ot(t.arrayValue.values[r]);return n}return Object.assign({},t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!it(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ot(e)},t.prototype.setAll=function(t){var e=this,n=N.emptyPath(),r={},i=[];t.forEach((function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=ot(t):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());it(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return G(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];it(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){k(e,(function(e,n){return t[e]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete t[o]}},t.prototype.clone=function(){return new t(ot(this.value))},t}();function at(t){var e=[];return k(t.fields,(function(t,n){var r=new N([t]);if(it(n)){var i=at(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var a=s[o];e.push(r.child(a))}}else e.push(r)})),new P(e)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var ct=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,T.min(),st.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,st.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,st.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=st.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=st.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),ut=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new ut(t,e,n,r,i,o,s)}function ht(t){var e=y(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+X(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),q(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Ot(e.startAt)),e.endAt&&(n+="|ub:",n+=Ot(e.endAt)),e.h=n}return e.h}function ft(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!It(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!G(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!St(t.startAt,e.startAt)&&St(t.endAt,e.endAt)}function dt(t){return H.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var pt=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(r["b"])(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new gt(t,n,r):"array-contains"===n?new bt(t,r):"in"===n?new _t(t,r):"not-in"===n?new wt(t,r):"array-contains-any"===n?new xt(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new mt(t,n):new vt(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Y(e,this.value)):null!==e&&K(this.value)===K(e)&&this.m(Y(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return m()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),gt=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=H.fromName(r.referenceValue),i}return Object(r["b"])(e,t),e.prototype.matches=function(t){var e=H.comparator(t.key,this.key);return this.m(e)},e}(pt),mt=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=yt("in",n),r}return Object(r["b"])(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(pt),vt=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=yt("not-in",n),r}return Object(r["b"])(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(pt);function yt(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return H.fromName(t.referenceValue)}))}var bt=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(r["b"])(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return et(e)&&$(e.arrayValue,this.value)},e}(pt),_t=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(r["b"])(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&$(this.value.arrayValue,e)},e}(pt),wt=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(r["b"])(e,t),e.prototype.matches=function(t){if($(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!$(this.value.arrayValue,e)},e}(pt),xt=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(r["b"])(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!et(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return $(e.value.arrayValue,t)}))},e}(pt),Et=function(t,e){this.position=t,this.before=e};function Ot(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return X(t)})).join(",")}var Tt=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function It(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function kt(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?H.comparator(H.fromName(s.referenceValue),n.key):Y(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function St(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!G(t.position[n],e.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null,this.startAt,this.endAt};function At(t,e,n,r,i,o,s,a){return new Ct(t,e,n,r,i,o,s,a)}function jt(t){return new Ct(t)}function Nt(t){return!q(t.limit)&&"F"===t.limitType}function Pt(t){return!q(t.limit)&&"L"===t.limitType}function Dt(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Rt(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Mt(t){return null!==t.collectionGroup}function Lt(t){var e=y(t);if(null===e.p){e.p=[];var n=Rt(e),r=Dt(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Tt(n)),e.p.push(new Tt(N.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Tt(N.keyField(),c))}}}return e.p}function Ft(t){var e=y(t);if(!e.T)if("F"===e.limitType)e.T=lt(e.path,e.collectionGroup,Lt(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Lt(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new Tt(o.field,s))}var a=e.endAt?new Et(e.endAt.position,!e.endAt.before):null,c=e.startAt?new Et(e.startAt.position,!e.startAt.before):null;e.T=lt(e.path,e.collectionGroup,n,e.filters,e.limit,a,c)}return e.T}function Ut(t,e,n){return new Ct(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vt(t,e){return ft(Ft(t),Ft(e))&&t.limitType===e.limitType}function Bt(t){return ht(Ft(t))+"|lt:"+t.limitType}function qt(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+X(e.value);var e})).join(", ")+"]"),q(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Ot(t.startAt)),t.endAt&&(e+=", endAt: "+Ot(t.endAt)),"Target("+e+")"}(Ft(t))+"; limitType="+t.limitType+")"}function zt(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):H.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!kt(t.startAt,Lt(t),e))&&(!t.endAt||!kt(t.endAt,Lt(t),e))}(t,e)}function Wt(t){return function(e,n){for(var r=!1,i=0,o=Lt(t);i<o.length;i++){var s=o[i],a=Ht(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function Ht(t,e,n){var r=t.field.isKeyField()?H.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Y(r,i):m()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return m()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:z(e)?"-0":e}}function Gt(t){return{integerValue:""+t}}function $t(t,e){return W(e)?Gt(e):Kt(t,e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt=function(){this._=void 0};function Qt(t,e,n){return t instanceof Zt?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof te?ee(t,e):t instanceof ne?re(t,e):function(t,e){var n=Jt(t,e),r=oe(n)+oe(t.A);return tt(n)&&tt(t.A)?Gt(r):Kt(t.R,r)}(t,e)}function Xt(t,e,n){return t instanceof te?ee(t,e):t instanceof ne?re(t,e):n}function Jt(t,e){return t instanceof ie?tt(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Zt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["b"])(e,t),e}(Yt),te=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(r["b"])(e,t),e}(Yt);function ee(t,e){for(var n=se(e),r=function(t){n.some((function(e){return G(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ne=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(r["b"])(e,t),e}(Yt);function re(t,e){for(var n=se(e),r=function(t){n=n.filter((function(e){return!G(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ie=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(r["b"])(e,t),e}(Yt);function oe(t){return L(t.integerValue||t.doubleValue)}function se(t){return et(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae=function(t,e){this.field=t,this.transform=e},ce=function(t,e){this.version=t,this.transformResults=e},ue=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function le(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var he=function(){};function fe(t,e,n){t instanceof ve?function(t,e,n){var r=t.value.clone(),i=_e(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof ye?function(t,e,n){if(le(t.precondition,e)){var r=_e(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(be(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function de(t,e,n){t instanceof ve?function(t,e,n){if(le(t.precondition,e)){var r=t.value.clone(),i=we(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(me(e),r).setHasLocalMutations()}}(t,e,n):t instanceof ye?function(t,e,n){if(le(t.precondition,e)){var r=we(t.fieldTransforms,n,e),i=e.data;i.setAll(be(t)),i.setAll(r),e.convertToFoundDocument(me(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){le(t.precondition,e)&&e.convertToNoDocument(T.min())}(t,e)}function pe(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=Jt(o.transform,s||null);null!=a&&(null==n&&(n=st.empty()),n.set(o.field,a))}return n||null}function ge(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&x(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof te&&e instanceof te||t instanceof ne&&e instanceof ne?x(t.elements,e.elements,G):t instanceof ie&&e instanceof ie?G(t.A,e.A):t instanceof Zt&&e instanceof Zt}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function me(t){return t.isFoundDocument()?t.version:T.min()}var ve=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(r["b"])(e,t),e}(he),ye=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Object(r["b"])(e,t),e}(he);function be(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function _e(t,e,n){var r=new Map;v(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Xt(s,a,n[i]))}return r}function we(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,c=n.data.field(s.field);r.set(s.field,Qt(a,c,e))}return r}var xe,Ee,Oe=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(r["b"])(e,t),e}(he),Te=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(r["b"])(e,t),e}(he),Ie=function(t){this.count=t};function ke(t){switch(t){case c.OK:return m();case c.CANCELLED:case c.UNKNOWN:case c.DEADLINE_EXCEEDED:case c.RESOURCE_EXHAUSTED:case c.INTERNAL:case c.UNAVAILABLE:case c.UNAUTHENTICATED:return!1;case c.INVALID_ARGUMENT:case c.NOT_FOUND:case c.ALREADY_EXISTS:case c.PERMISSION_DENIED:case c.FAILED_PRECONDITION:case c.ABORTED:case c.OUT_OF_RANGE:case c.UNIMPLEMENTED:case c.DATA_LOSS:return!0;default:return m()}}function Se(t){if(void 0===t)return d("GRPC error has no .code"),c.UNKNOWN;switch(t){case xe.OK:return c.OK;case xe.CANCELLED:return c.CANCELLED;case xe.UNKNOWN:return c.UNKNOWN;case xe.DEADLINE_EXCEEDED:return c.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return c.RESOURCE_EXHAUSTED;case xe.INTERNAL:return c.INTERNAL;case xe.UNAVAILABLE:return c.UNAVAILABLE;case xe.UNAUTHENTICATED:return c.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return c.INVALID_ARGUMENT;case xe.NOT_FOUND:return c.NOT_FOUND;case xe.ALREADY_EXISTS:return c.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return c.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return c.FAILED_PRECONDITION;case xe.ABORTED:return c.ABORTED;case xe.OUT_OF_RANGE:return c.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return c.UNIMPLEMENTED;case xe.DATA_LOSS:return c.DATA_LOSS;default:return m()}}(Ee=xe||(xe={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ce=function(){function t(t,e){this.comparator=t,this.root=e||je.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,je.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,je.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Ae(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Ae(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Ae(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Ae(this.root,t,this.comparator,!0)},t}(),Ae=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),je=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw m();if(this.right.isRed())throw m();var t=this.left.check();if(t!==this.right.check())throw m();return t+(this.isRed()?0:1)},t}();je.EMPTY=null,je.RED=!0,je.BLACK=!1,je.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw m()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new je(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ne=function(){function t(t){this.comparator=t,this.data=new Ce(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Pe(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Pe(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Pe=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),De=new Ce(H.comparator);function Re(){return De}var Me=new Ce(H.comparator);function Le(){return Me}var Fe=new Ce(H.comparator);function Ue(){return Fe}var Ve=new Ne(H.comparator);function Be(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Ve,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var qe=new Ne(w);function ze(){return qe}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,He.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(T.min(),r,ze(),Re(),Be())},t}(),He=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(D.EMPTY_BYTE_STRING,n,Be(),Be(),Be())},t}(),Ke=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Ge=function(t,e){this.targetId=t,this.V=e},$e=function(t,e,n,r){void 0===n&&(n=D.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ye=function(){function t(){this.S=0,this.D=Je(),this.C=D.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},t.prototype.M=function(){var t=Be(),e=Be(),n=Be();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:m()}})),new He(this.C,this.N,t,e,n)},t.prototype.L=function(){this.k=!1,this.D=Je()},t.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),Qe=function(){function t(t){this.W=t,this.G=new Map,this.H=Re(),this.J=Xe(),this.Y=new Ne(w)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.F||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:m()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(dt(i))if(0===n){var o=new H(i.path);this.tt(e,o,ct.newNoDocument(o,T.min()))}else v(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&dt(o.target)){var s=new H(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,ct.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}}));var r=Be();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new We(t,n,this.Y,this.H,r);return this.H=Re(),this.J=Xe(),this.Y=new Ne(w),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Ye,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Ne(w),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||f("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Ye),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Xe(){return new Ce(H.comparator)}function Je(){return new Ce(H.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze={asc:"ASCENDING",desc:"DESCENDING"},tn={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},en=function(t,e){this.databaseId=t,this.I=e};function nn(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function rn(t,e){return t.I?e.toBase64():e.toUint8Array()}function on(t,e){return nn(t,e.toTimestamp())}function sn(t){return v(!!t),T.fromTimestamp(function(t){var e=M(t);return new O(e.seconds,e.nanos)}(t))}function an(t,e){return function(t){return new A(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function cn(t){var e=A.fromString(t);return v(Nn(e)),e}function un(t,e){return an(t.databaseId,e.path)}function ln(t,e){var n=cn(e);if(n.get(1)!==t.databaseId.projectId)throw new u(c.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new u(c.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(pn(n))}function hn(t,e){return an(t.databaseId,e)}function fn(t){var e=cn(t);return 4===e.length?A.emptyPath():pn(e)}function dn(t){return new A(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function pn(t){return v(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function gn(t,e,n){return{name:un(t,e),fields:n.value.mapValue.fields}}function mn(t,e,n){var r=ln(t,e.name),i=sn(e.updateTime),o=new st({mapValue:{fields:e.fields}}),s=ct.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function vn(t,e){var n;if(e instanceof ve)n={update:gn(t,e.key,e.value)};else if(e instanceof Oe)n={delete:un(t,e.key)};else if(e instanceof ye)n={update:gn(t,e.key,e.data),updateMask:jn(e.fieldMask)};else{if(!(e instanceof Te))return m();n={verify:un(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Zt)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof te)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ne)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ie)return{fieldPath:e.field.canonicalString(),increment:n.A};throw m()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:on(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:m()}(t,e.precondition)),n}function yn(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?ue.updateTime(sn(t.updateTime)):void 0!==t.exists?ue.exists(t.exists):ue.none()}(e.currentDocument):ue.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)v("REQUEST_TIME"===e.setToServerValue),n=new Zt;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new te(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new ne(i)}else"increment"in e?n=new ie(t,e.increment):m();var o=N.fromServerFormat(e.fieldPath);return new ae(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=ln(t,e.update.name),o=new st({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){var e=t.fieldPaths||[];return new P(e.map((function(t){return N.fromServerFormat(t)})))}(e.updateMask);return new ye(i,o,s,n,r)}return new ve(i,o,n,r)}if(e.delete){var a=ln(t,e.delete);return new Oe(a,n)}if(e.verify){var c=ln(t,e.verify);return new Te(c,n)}return m()}function bn(t,e){return{documents:[hn(t,e.path)]}}function _n(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=hn(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=hn(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(rt(t.value))return{unaryFilter:{field:kn(t.field),op:"IS_NAN"}};if(nt(t.value))return{unaryFilter:{field:kn(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(rt(t.value))return{unaryFilter:{field:kn(t.field),op:"IS_NOT_NAN"}};if(nt(t.value))return{unaryFilter:{field:kn(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kn(t.field),op:In(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:kn(t.field),direction:Tn(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||q(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=En(e.startAt)),e.endAt&&(n.structuredQuery.endAt=En(e.endAt)),n}function wn(t){var e=fn(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){v(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=xn(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new Tt(Sn(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var c=null;n.limit&&(c=function(t){var e;return q(e="object"==typeof t?t.value:t)?null:e}(n.limit));var u=null;n.startAt&&(u=On(n.startAt));var l=null;return n.endAt&&(l=On(n.endAt)),At(e,i,a,s,c,"F",u,l)}function xn(t){return t?void 0!==t.unaryFilter?[An(t)]:void 0!==t.fieldFilter?[Cn(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return xn(t)})).reduce((function(t,e){return t.concat(e)})):m():[]}function En(t){return{before:t.before,values:t.position}}function On(t){var e=!!t.before,n=t.values||[];return new Et(n,e)}function Tn(t){return Ze[t]}function In(t){return tn[t]}function kn(t){return{fieldPath:t.canonicalString()}}function Sn(t){return N.fromServerFormat(t.fieldPath)}function Cn(t){return pt.create(Sn(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return m()}}(t.fieldFilter.op),t.fieldFilter.value)}function An(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Sn(t.unaryFilter.field);return pt.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Sn(t.unaryFilter.field);return pt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Sn(t.unaryFilter.field);return pt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Sn(t.unaryFilter.field);return pt.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return m()}}function jn(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function Nn(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Rn(e)),e=Dn(t.get(n),e);return Rn(e)}function Dn(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Rn(t){return t+""}function Mn(t){var e=t.length;if(v(e>=2),2===e)return v(""===t.charAt(0)&&""===t.charAt(1)),A.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&m(),t.charAt(s+1)){case"":var a=t.substring(o,s),c=void 0;0===i.length?c=a:(c=i+=a,i=""),r.push(c);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:m()}o=s+2}return new A(r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ln=function(t,e){this.seconds=t,this.nanoseconds=e},Fn=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Fn.store="owner",Fn.key="owner";var Un=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Un.store="mutationQueues",Un.keyPath="userId";var Vn=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Vn.store="mutations",Vn.keyPath="batchId",Vn.userMutationsIndex="userMutationsIndex",Vn.userMutationsKeyPath=["userId","batchId"];var Bn=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Pn(e)]},t.key=function(t,e,n){return[t,Pn(e),n]},t}();Bn.store="documentMutations",Bn.PLACEHOLDER=new Bn;var qn=function(t,e){this.path=t,this.readTime=e},zn=function(t,e){this.path=t,this.version=e},Wn=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Wn.store="remoteDocuments",Wn.readTimeIndex="readTimeIndex",Wn.readTimeIndexPath="readTime",Wn.collectionReadTimeIndex="collectionReadTimeIndex",Wn.collectionReadTimeIndexPath=["parentPath","readTime"];var Hn=function(t){this.byteSize=t};Hn.store="remoteDocumentGlobal",Hn.key="remoteDocumentGlobalKey";var Kn=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Kn.store="targets",Kn.keyPath="targetId",Kn.queryTargetsIndexName="queryTargetsIndex",Kn.queryTargetsKeyPath=["canonicalId","targetId"];var Gn=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Gn.store="targetDocuments",Gn.keyPath=["targetId","path"],Gn.documentTargetsIndex="documentTargetsIndex",Gn.documentTargetsKeyPath=["path","targetId"];var $n=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};$n.key="targetGlobalKey",$n.store="targetGlobal";var Yn=function(t,e){this.collectionId=t,this.parent=e};Yn.store="collectionParents",Yn.keyPath=["collectionId","parent"];var Qn=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Qn.store="clientMetadata",Qn.keyPath="clientId";var Xn=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Xn.store="bundles",Xn.keyPath="bundleId";var Jn=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Jn.store="namedQueries",Jn.keyPath="name";var Zn=Object(r["d"])(Object(r["d"])([],Object(r["d"])(Object(r["d"])([],Object(r["d"])(Object(r["d"])([],Object(r["d"])(Object(r["d"])([],[Un.store,Vn.store,Bn.store,Wn.store,Kn.store,Fn.store,$n.store,Gn.store]),[Qn.store])),[Hn.store])),[Yn.store])),[Xn.store,Jn.store]),tr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",er=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),nr=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},rr=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&m(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),ir=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new nr,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new ar(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=fr(e.target.error);n.ft.reject(new ar(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new ar(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(f("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ur(e)},t}(),or=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t(Object(i["getUA"])())&&d("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return f("SimpleDb","Removing database:",t),lr(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=Object(i["getUA"])(),n=e._t(t),r=0<n&&n<10,o=e.Et(t),s=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var e;return"undefined"!=typeof t&&"YES"===(null===(e=Object({NODE_ENV:"production",BASE_URL:"/"}))||void 0===e?void 0:e.Tt)},e.It=function(t,e){return t.store(e)},e._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(t){return Object(r["a"])(this,void 0,void 0,(function(){var e,n=this;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(f("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new ar(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new u(c.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new ar(t,n))},i.onupgradeneeded=function(t){f("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next((function(){f("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},e.prototype.runTransaction=function(t,e,n,i){return Object(r["a"])(this,void 0,void 0,(function(){var o,s,a,c,u;return Object(r["c"])(this,(function(l){switch(l.label){case 0:o="readonly"===e,s=0,a=function(){var e,a,u,l,h;return Object(r["c"])(this,(function(r){switch(r.label){case 0:++s,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,c.At(t)];case 2:return c.db=r.sent(),e=ir.open(c.db,t,o?"readonly":"readwrite",n),a=i(e).catch((function(t){return e.abort(t),rr.reject(t)})).toPromise(),u={},a.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(r.sent(),a),u)];case 4:return l=r.sent(),h="FirebaseError"!==l.name&&s<3,f("SimpleDb","Transaction failed with error:",l.message,"Retrying:",h),c.close(),h?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},c=this,l.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=l.sent()))return[2,u.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),sr=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return lr(this.Pt.delete())},t}(),ar=function(t){function e(e,n){var r=this;return(r=t.call(this,c.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(r["b"])(e,t),e}(u);function cr(t){return"IndexedDbTransactionError"===t.name}var ur=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(f("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(f("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),lr(n)},t.prototype.add=function(t){return f("SimpleDb","ADD",this.store.name,t,t),lr(this.store.add(t))},t.prototype.get=function(t){var e=this;return lr(this.store.get(t)).next((function(n){return void 0===n&&(n=null),f("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return f("SimpleDb","DELETE",this.store.name,t),lr(this.store.delete(t))},t.prototype.count=function(){return f("SimpleDb","COUNT",this.store.name),lr(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.kt=function(t,e){f("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new rr((function(n,r){e.onerror=function(t){var e=fr(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new rr((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new sr(i),s=e(i.primaryKey,i.value,o);if(s instanceof rr){var a=s.catch((function(t){return o.done(),rr.reject(t)}));n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return rr.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ft?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function lr(t){return new rr((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=fr(t.target.error);n(e)}}))}var hr=!1;function fr(t){var e=or._t(Object(i["getUA"])());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new u("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return hr||(hr=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dr=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(r["b"])(e,t),e}(er);function pr(t,e){var n=y(t);return or.It(n.Mt,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gr=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&fe(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&de(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&de(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(T.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Be())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&x(this.mutations,t.mutations,(function(t,e){return ge(t,e)}))&&x(this.baseMutations,t.baseMutations,(function(t,e){return ge(t,e)}))},t}(),mr=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){v(e.mutations.length===r.length);for(var i=Ue(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),vr=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=T.min()),void 0===o&&(o=T.min()),void 0===s&&(s=D.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),yr=function(t){this.Lt=t};function br(t,e){if(e.document)return mn(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=H.fromSegments(e.noDocument.path),r=Or(e.noDocument.readTime),i=ct.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=H.fromSegments(e.unknownDocument.path);return r=Or(e.unknownDocument.version),ct.newUnknownDocument(o,r)}return m()}function _r(t,e,n){var r=wr(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:un(t,e.key),fields:e.data.value.mapValue.fields,updateTime:nn(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new Wn(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),c=Er(e.version);return s=e.hasCommittedMutations,new Wn(null,new qn(a,c),null,s,r,i)}if(e.isUnknownDocument()){var u=e.key.path.toArray(),l=Er(e.version);return new Wn(new zn(u,l),null,null,!0,r,i)}return m()}function wr(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function xr(t){var e=new O(t[0],t[1]);return T.fromTimestamp(e)}function Er(t){var e=t.toTimestamp();return new Ln(e.seconds,e.nanoseconds)}function Or(t){var e=new O(t.seconds,t.nanoseconds);return T.fromTimestamp(e)}function Tr(t,e){for(var n=(e.baseMutations||[]).map((function(e){return yn(t.Lt,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var s=e.mutations.map((function(e){return yn(t.Lt,e)})),a=O.fromMillis(e.localWriteTimeMs);return new gr(e.batchId,a,n,s)}function Ir(t){var e,n,r=Or(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Or(t.lastLimboFreeSnapshotVersion):T.min();return void 0!==t.query.documents?(v(1===(n=t.query).documents.length),e=Ft(jt(fn(n.documents[0])))):e=function(t){return Ft(wn(t))}(t.query),new vr(e,t.targetId,0,t.lastListenSequenceNumber,r,i,D.fromBase64String(t.resumeToken))}function kr(t,e){var n,r=Er(e.snapshotVersion),i=Er(e.lastLimboFreeSnapshotVersion);n=dt(e.target)?bn(t.Lt,e.target):_n(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Kn(e.targetId,ht(e.target),r,o,e.sequenceNumber,i,n)}function Sr(t){var e=wn({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ut(e,e.limit,"L"):e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cr=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Ar(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Or(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return Ar(t).put({bundleId:(n=e).id,createTime:Er(sn(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return jr(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Sr(e.bundledQuery),readTime:Or(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return jr(t).put(function(t){return{name:t.name,readTime:Er(sn(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Ar(t){return pr(t,Xn.store)}function jr(t){return pr(t,Jn.store)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nr=function(){function t(){this.Bt=new Pr}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),rr.resolve()},t.prototype.getCollectionParents=function(t,e){return rr.resolve(this.Bt.getEntries(e))},t}(),Pr=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Ne(A.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Ne(A.comparator)).toArray()},t}(),Dr=function(){function t(){this.qt=new Pr}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:Pn(i)};return Rr(t).put(o)}return rr.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[E(e),""],!1,!0);return Rr(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Mn(o.parent))}return n}))},t}();function Rr(t){return pr(t,Yn.store)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mr={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Lr=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(t,e,n){var r=t.store(Vn.store),i=t.store(Bn.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,c=r.$t({range:s},(function(t,e,n){return a++,n.delete()}));o.push(c.next((function(){v(1===a)})));for(var u=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Bn.key(e,f.key.path,n.batchId);o.push(i.delete(d)),u.push(f.key)}return rr.waitFor(o).next((function(){return u}))}function Ur(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw m();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr.DEFAULT_COLLECTION_PERCENTILE=10,Lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lr.DEFAULT=new Lr(41943040,Lr.DEFAULT_COLLECTION_PERCENTILE,Lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lr.DISABLED=new Lr(-1,0,0);var Vr=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return v(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return qr(t).$t({index:Vn.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=zr(t),s=qr(t);return s.add({}).next((function(a){v("number"==typeof a);for(var c=new gr(a,e,n,r),u=function(t,e,n){var r=n.baseMutations.map((function(e){return vn(t.Lt,e)})),i=n.mutations.map((function(e){return vn(t.Lt,e)}));return new Vn(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,c),l=[],h=new Ne((function(t,e){return w(t.canonicalString(),e.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],g=Bn.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(u)),l.push(o.put(g,Bn.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Kt[a]=c.keys()})),rr.waitFor(l).next((function(){return c}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return qr(t).get(e).next((function(t){return t?(v(t.userId===n.userId),Tr(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?rr.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return qr(t).$t({index:Vn.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(v(e.batchId>=r),o=Tr(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return qr(t).$t({index:Vn.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return qr(t).Nt(Vn.userMutationsIndex,n).next((function(t){return t.map((function(t){return Tr(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Bn.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return zr(t).$t({range:i},(function(r,i,s){var a=r[0],c=r[1],u=r[2],l=Mn(c);if(a===n.userId&&e.path.isEqual(l))return qr(t).get(u).next((function(t){if(!t)throw m();v(t.userId===n.userId),o.push(Tr(n.R,t))}));s.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Ne(w),i=[];return e.forEach((function(e){var o=Bn.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=zr(t).$t({range:s},(function(t,i,o){var s=t[0],a=t[1],c=t[2],u=Mn(a);s===n.userId&&e.path.isEqual(u)?r=r.add(c):o.done()}));i.push(a)})),rr.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Bn.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Ne(w);return zr(t).$t({range:s},(function(t,e,o){var s=t[0],c=t[1],u=t[2],l=Mn(c);s===n.userId&&r.isPrefixOf(l)?l.length===i&&(a=a.add(u)):o.done()})).next((function(){return n.Wt(t,a)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(qr(t).get(e).next((function(t){if(null===t)throw m();v(t.userId===n.userId),r.push(Tr(n.R,t))})))})),rr.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return Fr(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),rr.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return rr.resolve();var r=IDBKeyRange.lowerBound(Bn.prefixForUser(e.userId)),i=[];return zr(t).$t({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Mn(t[1]);i.push(o)}else r.done()})).next((function(){v(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return Br(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Wr(t).get(this.userId).next((function(t){return t||new Un(e.userId,-1,"")}))},t}();function Br(t,e,n){var r=Bn.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return zr(t).$t({range:o,Ft:!0},(function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function qr(t){return pr(t,Vn.store)}function zr(t){return pr(t,Bn.store)}function Wr(t){return pr(t,Un.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hr=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Kr=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new Hr(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return T.fromTimestamp(new O(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return Gr(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return v(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Gr(t).$t((function(s,a){var c=Ir(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(i++,o.push(r.removeTargetData(t,c)))})).next((function(){return rr.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return Gr(t).$t((function(t,n){var r=Ir(n);e(r)}))},t.prototype.Xt=function(t){return $r(t).get($n.key).next((function(t){return v(null!==t),t}))},t.prototype.Zt=function(t,e){return $r(t).put($n.key,e)},t.prototype.te=function(t,e){return Gr(t).put(kr(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=ht(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Gr(t).$t({range:r,index:Kn.queryTargetsIndexName},(function(t,n,r){var o=Ir(n);ft(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Yr(t);return e.forEach((function(e){var s=Pn(e.path);i.push(o.put(new Gn(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))})),rr.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Yr(t);return rr.forEach(e,(function(e){var o=Pn(e.path);return rr.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Yr(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Yr(t),i=Be();return r.$t({range:n,Ft:!0},(function(t,e,n){var r=Mn(t[1]),o=new H(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=Pn(e.path),r=IDBKeyRange.bound([n],[E(n)],!1,!0),i=0;return Yr(t).$t({index:Gn.documentTargetsIndex,Ft:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return Gr(t).get(e).next((function(t){return t?Ir(t):null}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(t){return pr(t,Kn.store)}function $r(t){return pr(t,$n.store)}function Yr(t){return pr(t,Gn.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(t){return Object(r["a"])(this,void 0,void 0,(function(){return Object(r["c"])(this,(function(e){if(t.code!==c.FAILED_PRECONDITION||t.message!==tr)throw t;return f("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=w(n,i);return 0===s?w(r,o):s}var Jr=function(){function t(t){this.ne=t,this.buffer=new Ne(Xr),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Xr(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Zr=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;f("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Object(r["a"])(e,void 0,void 0,(function(){var e;return Object(r["c"])(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return cr(e=n.sent())?(f("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Qr(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),ti=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return rr.resolve(a.o);var r=new Jr(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(f("LruGarbageCollector","Garbage collection skipped; disabled"),rr.resolve(Mr)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(f("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Mr):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,s,a,c,u,l=this,d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>l.params.maximumSequenceNumbersToCollect?(f("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+e),r=l.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),l.nthSequenceNumber(t,r)})).next((function(r){return n=r,a=Date.now(),l.removeTargets(t,n,e)})).next((function(e){return i=e,c=Date.now(),l.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),h()<=o["LogLevel"].DEBUG&&f("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-d)+"ms\n\tDetermined least recently used "+r+" in "+(a-s)+"ms\n\tRemoved "+i+" targets in "+(c-a)+"ms\n\tRemoved "+t+" documents in "+(u-c)+"ms\nTotal Duration: "+(u-d)+"ms"),rr.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),ei=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new ti(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return ni(t,n)},t.prototype.removeReference=function(t,e,n){return ni(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return ni(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Wr(t).Ot((function(r){return Br(t,r,e).next((function(t){return t&&(n=!0),rr.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(s,a){if(a<=e){var c=n._e(t,s).next((function(e){if(!e)return o++,r.getEntry(t,s).next((function(){return r.removeEntry(s),Yr(t).delete([0,Pn(s.path)])}))}));i.push(c)}})).next((function(){return rr.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return ni(t,e)},t.prototype.we=function(t,e){var n,r=Yr(t),i=a.o;return r.$t({index:Gn.documentTargetsIndex},(function(t,r){var o=t[0];t[1];var s=r.path,c=r.sequenceNumber;0===o?(i!==a.o&&e(new H(Mn(n)),i),i=c,n=s):i=a.o})).next((function(){i!==a.o&&e(new H(Mn(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function ni(t,e){return Yr(t).put(function(t,e){return new Gn(0,Pn(t.path),e)}(e,t.currentSequenceNumber))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ri=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(this.equalsFn(s,t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){k(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}}))},t.prototype.isEmpty=function(){return S(this.inner)},t}(),ii=function(){function t(){this.changes=new ri((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:T.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:ct.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?rr.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),oi=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return ci(t).put(ui(e),n)},t.prototype.removeEntry=function(t,e){var n=ci(t),r=ui(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return ci(t).get(ui(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return ci(t).get(ui(e)).next((function(t){return{document:n.ye(e,t),size:Ur(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=Re();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=Re(),i=new Ce(H.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Ur(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return rr.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return ci(t).$t({range:r},(function(t,e,r){for(var s=H.fromSegments(t);o&&H.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Re(),o=e.path.length+1,s={};if(n.isEqual(T.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var c=e.path.toArray(),u=wr(n);s.range=IDBKeyRange.lowerBound([c,u],!0),s.index=Wn.collectionReadTimeIndex}return ci(t).$t(s,(function(t,n,s){if(t.length===o){var a=br(r.R,n);e.path.isPrefixOf(a.key.path)?zt(e,a)&&(i=i.insert(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new si(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return ai(t).get(Hn.key).next((function(t){return v(!!t),t}))},t.prototype.me=function(t,e){return ai(t).put(Hn.key,e)},t.prototype.ye=function(t,e){if(e){var n=br(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(T.min()))return n}return ct.newInvalidDocument(t)},t}(),si=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new ri((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(r["b"])(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Ne((function(t,e){return w(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var c=_r(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var u=Ur(c);r+=u-a,n.push(e.Ie.addEntry(t,o,c))}else if(r-=a,e.trackRemovals){var l=_r(e.Ie.R,ct.newNoDocument(o,T.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),rr.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(ii);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(t){return pr(t,Hn.store)}function ci(t){return pr(t,Wn.store)}function ui(t){return t.path.toArray()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var li=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;v(n<r&&n>=0&&r<=11);var o=new ir("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Fn.store)}(t),function(t){t.createObjectStore(Un.store,{keyPath:Un.keyPath}),t.createObjectStore(Vn.store,{keyPath:Vn.keyPath,autoIncrement:!0}).createIndex(Vn.userMutationsIndex,Vn.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Bn.store)}(t),hi(t),function(t){t.createObjectStore(Wn.store)}(t));var s=rr.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Gn.store),t.deleteObjectStore(Kn.store),t.deleteObjectStore($n.store)}(t),hi(t)),s=s.next((function(){return function(t){var e=t.store($n.store),n=new $n(0,0,T.min().toTimestamp(),0);return e.put($n.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Vn.store).Nt().next((function(n){t.deleteObjectStore(Vn.store),t.createObjectStore(Vn.store,{keyPath:Vn.keyPath,autoIncrement:!0}).createIndex(Vn.userMutationsIndex,Vn.userMutationsKeyPath,{unique:!0});var r=e.store(Vn.store),i=n.map((function(t){return r.put(t)}));return rr.waitFor(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(Qn.store,{keyPath:Qn.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Re(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Hn.store)}(t),i.be(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ve(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Wn.store);e.createIndex(Wn.readTimeIndex,Wn.readTimeIndexPath,{unique:!1}),e.createIndex(Wn.collectionReadTimeIndex,Wn.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(Xn.store,{keyPath:Xn.keyPath})}(t),function(t){t.createObjectStore(Jn.store,{keyPath:Jn.keyPath})}(t)}))),s},t.prototype.be=function(t){var e=0;return t.store(Wn.store).$t((function(t,n){e+=Ur(n)})).next((function(){var n=new Hn(e);return t.store(Hn.store).put(Hn.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(Un.store),r=t.store(Vn.store);return n.Nt().next((function(n){return rr.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Vn.userMutationsIndex,i).next((function(r){return rr.forEach(r,(function(r){v(r.userId===n.userId);var i=Tr(e.R,r);return Fr(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(Gn.store),n=t.store(Wn.store);return t.store($n.store).get($n.key).next((function(t){var r=[];return n.$t((function(n,i){var o=new A(n),s=function(t){return[0,Pn(t)]}(o);r.push(e.get(s).next((function(n){return n?rr.resolve():function(n){return e.put(new Gn(0,Pn(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return rr.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(Yn.store,{keyPath:Yn.keyPath});var n=e.store(Yn.store),r=new Pr,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Pn(i)})}};return e.store(Wn.store).$t({Ft:!0},(function(t,e){var n=new A(t);return i(n.popLast())})).next((function(){return e.store(Bn.store).$t({Ft:!0},(function(t,e){t[0];var n=t[1];t[2];var r=Mn(n);return i(r.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(Kn.store);return n.$t((function(t,r){var i=Ir(r),o=kr(e.R,i);return n.put(o)}))},t}();function hi(t){t.createObjectStore(Gn.store,{keyPath:Gn.keyPath}).createIndex(Gn.documentTargetsIndex,Gn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Kn.store,{keyPath:Kn.keyPath}).createIndex(Kn.queryTargetsIndexName,Kn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore($n.store)}var fi="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",di=function(){function t(e,n,r,i,o,s,a,l,h,f){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=h,this.Ce=f,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new u(c.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ei(this,i),this.Le=n+"main",this.R=new yr(l),this.Be=new or(this.Le,11,new li(this.R)),this.qe=new Kr(this.referenceDelegate,this.R),this.Ut=new Dr,this.Ue=function(t,e){return new oi(t,e)}(this.R,this.Ut),this.Ke=new Cr,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===f&&d("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new u(c.FAILED_PRECONDITION,fi);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new a(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(r["a"])(e,void 0,void 0,(function(){return Object(r["c"])(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return Object(r["a"])(e,void 0,void 0,(function(){return Object(r["c"])(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return Object(r["a"])(e,void 0,void 0,(function(){return Object(r["c"])(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return gi(e).put(new Qn(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(cr(e))return f("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return f("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return pi(t).get(Fn.key).next((function(t){return rr.resolve(e.tn(t))}))},t.prototype.en=function(t){return gi(t).delete(this.clientId)},t.prototype.nn=function(){return Object(r["a"])(this,void 0,void 0,(function(){var t,e,n,i,o=this;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=pr(t,Qn.store);return e.Nt().next((function(t){var n=o.rn(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return rr.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=r.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)i=n[e],this.Qe.removeItem(this.on(i.clientId));r.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?rr.resolve(!0):pi(t).get(Fn.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new u(c.FAILED_PRECONDITION,fi);return!1}}return!(!e.networkEnabled||!e.inForeground)||gi(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&f("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return Object(r["a"])(this,void 0,void 0,(function(){var t=this;return Object(r["c"])(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Fn.store,Qn.store],(function(e){var n=new dr(e,a.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return gi(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Vr.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;f("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Be.runTransaction(t,o,Zn,(function(o){return i=new dr(o,r.Ne?r.Ne.next():a.o),"readwrite-primary"===e?r.Je(i).next((function(t){return!!t||r.Ye(i)})).next((function(e){if(!e)throw d("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new u(c.FAILED_PRECONDITION,tr);return n(i)})).next((function(t){return r.Ze(i).next((function(){return t}))})):r.dn(i).next((function(){return n(i)}))})).then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return pi(t).get(Fn.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new u(c.FAILED_PRECONDITION,fi)}))},t.prototype.Ze=function(t){var e=new Fn(this.clientId,this.allowTabSynchronization,Date.now());return pi(t).put(Fn.key,e)},t.yt=function(){return or.yt()},t.prototype.Xe=function(t){var e=this,n=pi(t);return n.get(Fn.key).next((function(t){return e.tn(t)?(f("IndexedDbPersistence","Releasing primary lease."),n.delete(Fn.key)):rr.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(d("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),Object(i["isSafari"])()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return f("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return d("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){d("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function pi(t){return pr(t,Fn.store)}function gi(t){return pr(t,Qn.store)}function mi(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var vi=function(t,e){this.progress=t,this.wn=e},yi=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return H.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Mt(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new H(e)).next((function(t){var e=Le();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Le();return this.Ut.getCollectionParents(t,i).next((function(s){return rr.forEach(s,(function(s){var a=function(t,e){return new Ct(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return i=e,o.Rn(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var c=a[s],u=c.key,l=r.get(u);null==l&&(l=ct.newInvalidDocument(u),r=r.insert(u,l)),de(c,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(u))}}))})).next((function(){return r.forEach((function(t,n){zt(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=Be(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var c=a[s];c instanceof ye&&null===n.get(c.key)&&(r=r.add(c.key))}var u=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(u=u.insert(t,e))})),u}))},t}(),bi=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Be(),i=Be(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),_i=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(T.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(s){var a=i.Cn(e,s);return(Nt(e)||Pt(e))&&i.Nn(e.limitType,a,r,n)?i.Dn(t,e):(h()<=o["LogLevel"].DEBUG&&f("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),qt(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return a.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new Ne(Wt(t));return e.forEach((function(e,r){zt(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return h()<=o["LogLevel"].DEBUG&&f("QueryEngine","Using full collection scan to execute query:",qt(e)),this.Sn.getDocumentsMatchingQuery(t,e,T.min())},t}(),wi=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.kn=new Ce(w),this.Fn=new ri((function(t){return ht(t)}),ft),this.$n=T.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new yi(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.kn)}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(t,e,n,r){return new wi(t,e,n,r)}function Ei(t,e){return Object(r["a"])(this,void 0,void 0,(function(){var n,i,o,s;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return n=y(t),i=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var r;return n._n.getAllMutationBatches(t).next((function(s){return r=s,i=n.persistence.getMutationQueue(e),o=new yi(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(t)})).next((function(e){for(var n=[],i=[],s=Be(),a=0,c=r;a<c.length;a++){var u=c[a];n.push(u.batchId);for(var l=0,h=u.mutations;l<h.length;l++){var f=h[l];s=s.add(f.key)}}for(var d=0,p=e;d<p.length;d++){var g=p[d];i.push(g.batchId);for(var m=0,v=g.mutations;m<v.length;m++){var y=v[m];s=s.add(y.key)}}return o.pn(t,s).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:i}}))}))}))];case 1:return s=r.sent(),[2,(n._n=i,n.Mn=o,n.xn.Vn(n.Mn),s)]}}))}))}function Oi(t,e){var n=y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=rr.resolve();return o.forEach((function(t){s=s.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);v(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),s.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function Ti(t){var e=y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function Ii(t,e){var n=y(t),r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var s=[];e.targetChanges.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var c=e.resumeToken;if(c.approximateByteSize()>0){var u=a.withResumeToken(c,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,u),function(t,e,n){return v(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,u,e)&&s.push(n.qe.updateTargetData(t,u))}}}));var a=Re();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),s.push(ki(t,o,e.documentUpdates,r,void 0).next((function(t){a=t}))),!r.isEqual(T.min())){var c=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));s.push(c)}return rr.waitFor(s).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,a)})).next((function(){return a}))})).then((function(t){return n.kn=i,t}))}function ki(t,e,n,r,i){var o=Be();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Re();return n.forEach((function(n,s){var a=t.get(n),c=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(T.min())?(e.removeEntry(n,c),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,c),o=o.insert(n,s)):f("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function Si(t,e){var n=y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function Ci(t,e){var n=y(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?(r=i,rr.resolve(r)):n.qe.allocateTargetId(t).next((function(i){return r=new vr(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.kn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(t.targetId,t),n.Fn.set(e,t.targetId)),t}))}function Ai(t,e,n){return Object(r["a"])(this,void 0,void 0,(function(){var i,o,s,a;return Object(r["c"])(this,(function(r){switch(r.label){case 0:i=y(t),o=i.kn.get(e),s=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",s,(function(t){return i.persistence.referenceDelegate.removeTarget(t,o)}))];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!cr(a=r.sent()))throw a;return f("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return i.kn=i.kn.remove(e),i.Fn.delete(o.target),[2]}}))}))}function ji(t,e,n){var r=y(t),i=T.min(),o=Be();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=y(t),i=r.Fn.get(n);return void 0!==i?rr.resolve(r.kn.get(i)):r.qe.getTargetData(e,n)}(r,t,Ft(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:T.min(),n?o:Be())})).next((function(t){return{documents:t,Bn:o}}))}))}function Ni(t,e){var n=y(t),r=y(n.qe),i=n.kn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function Pi(t){var e=y(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=y(t),i=Re(),o=wr(n),s=ci(e),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:Wn.readTimeIndex,range:a},(function(t,e){var n=br(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:xr(o)}}))}(e.On,t,e.$n)})).then((function(t){var n=t.wn,r=t.readTime;return e.$n=r,n}))}function Di(t){return Object(r["a"])(this,void 0,void 0,(function(){var e;return Object(r["c"])(this,(function(n){return[2,(e=y(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=ci(t),n=T.min();return e.$t({index:Wn.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=xr(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.$n=t}))]}))}))}function Ri(t,e,n,i){return Object(r["a"])(this,void 0,void 0,(function(){var o,s,a,c,u,l,h,f,d,p;return Object(r["c"])(this,(function(r){switch(r.label){case 0:for(o=y(t),s=Be(),a=Re(),c=Ue(),u=0,l=n;u<l.length;u++)h=l[u],f=e.qn(h.metadata.name),h.document&&(s=s.add(f)),a=a.insert(f,e.Un(h)),c=c.insert(f,e.Kn(h.metadata.readTime));return d=o.On.newChangeBuffer({trackRemovals:!0}),[4,Ci(o,function(t){return Ft(jt(A.fromString("__bundle__/docs/"+t)))}(i))];case 1:return p=r.sent(),[2,o.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return ki(t,d,a,T.min(),c).next((function(e){return d.apply(t),e})).next((function(e){return o.qe.removeMatchingKeysForTargetId(t,p.targetId).next((function(){return o.qe.addMatchingKeys(t,s,p.targetId)})).next((function(){return o.Mn.En(t,e)})).next((function(){return e}))}))}))]}}))}))}function Mi(t,e,n){return void 0===n&&(n=Be()),Object(r["a"])(this,void 0,void 0,(function(){var i,o;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return[4,Ci(t,Ft(Sr(e.bundledQuery)))];case 1:return i=r.sent(),[2,(o=y(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var r=sn(e.readTime);if(i.snapshotVersion.compareTo(r)>=0)return o.Ke.saveNamedQuery(t,e);var s=i.withResumeToken(D.EMPTY_BYTE_STRING,r);return o.kn=o.kn.insert(s.targetId,s),o.qe.updateTargetData(t,s).next((function(){return o.qe.removeMatchingKeysForTargetId(t,i.targetId)})).next((function(){return o.qe.addMatchingKeys(t,n,i.targetId)})).next((function(){return o.Ke.saveNamedQuery(t,e)}))}))]}}))}))
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Li=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return rr.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:sn(n.createTime)}),rr.resolve()},t.prototype.getNamedQuery=function(t,e){return rr.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Sr(t.bundledQuery),readTime:sn(t.readTime)}}(e)),rr.resolve()},t}(),Fi=function(){function t(){this.Wn=new Ne(Ui.Gn),this.zn=new Ne(Ui.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Ui(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new Ui(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new H(new A([])),r=new Ui(n,t),i=new Ui(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new H(new A([])),n=new Ui(e,t),r=new Ui(e,t+1),i=Be();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new Ui(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Ui=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return H.comparator(t.key,e.key)||w(t.ns,e.ns)},t.Hn=function(t,e){return w(t.ns,e.ns)||H.comparator(t.key,e.key)},t}(),Vi=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Ne(Ui.Gn)}return t.prototype.checkEmpty=function(t){return rr.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new gr(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var c=a[s];this.rs=this.rs.add(new Ui(c.key,i)),this.Ut.addToCollectionParentIndex(t,c.key.path.popLast())}return rr.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return rr.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.cs(n),i=r<0?0:r;return rr.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return rr.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return rr.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Ui(e,0),i=new Ui(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),rr.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Ne(w);return e.forEach((function(t){var e=new Ui(t,0),i=new Ui(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),rr.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;H.isDocumentKey(i)||(i=i.child(""));var o=new Ui(new H(i),0),s=new Ne(w);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)}),o),rr.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;v(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return rr.forEach(e.mutations,(function(i){var o=new Ui(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Ui(e,0),r=this.rs.firstAfterOrEqual(n);return rr.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,rr.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Bi=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Ce(H.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return rr.resolve(n?n.document.clone():ct.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Re();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():ct.newInvalidDocument(t))})),rr.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Re(),i=new H(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.key,c=s.value,u=c.document,l=c.readTime;if(!e.path.isPrefixOf(a.path))break;l.compareTo(n)<=0||zt(e,u)&&(r=r.insert(u.key,u.clone()))}return rr.resolve(r)},t.prototype.fs=function(t,e){return rr.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new qi(this)},t.prototype.getSize=function(t){return rr.resolve(this.size)},t}(),qi=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(r["b"])(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),rr.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(ii),zi=function(){function t(t){this.persistence=t,this.ds=new ri((function(t){return ht(t)}),ft),this.lastRemoteSnapshotVersion=T.min(),this.highestTargetId=0,this.ws=0,this._s=new Fi,this.targetCount=0,this.ys=Hr.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),rr.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return rr.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return rr.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),rr.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),rr.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Hr(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,rr.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),rr.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,rr.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)})),rr.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return rr.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return rr.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),rr.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),rr.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),rr.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return rr.resolve(n)},t.prototype.containsKey=function(t,e){return rr.resolve(this._s.containsKey(e))},t}(),Wi=function(){function t(t,e){var n=this;this.gs={},this.Ne=new a(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new zi(this),this.Ut=new Nr,this.Ue=function(t,e){return new Bi(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new yr(e),this.Ke=new Li(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Vi(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;f("MemoryPersistence","Starting transaction:",t);var i=new Hi(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return rr.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),Hi=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(r["b"])(e,t),e}(er),Ki=function(){function t(t){this.persistence=t,this.As=new Fi,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw m()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),rr.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),rr.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),rr.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rr.forEach(this.vs,(function(r){var i=H.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return rr.or([function(){return rr.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Gi=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(t,e){return"firestore_clients_"+t+"_"+e}function Yi(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Qi(t,e){return"firestore_targets_"+t+"_"+e}Gi.UNAUTHENTICATED=new Gi(null),Gi.GOOGLE_CREDENTIALS=new Gi("google-credentials-uid"),Gi.FIRST_PARTY=new Gi("first-party-uid"),Gi.MOCK_USER=new Gi("mock-user");var Xi=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new u(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(d("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ji=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new u(i.error.code,i.error.message)),o?new t(e,i.state,r):(d("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Zi=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=ze(),s=0;i&&s<r.activeTargetIds.length;++s)i=W(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(d("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),to=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(d("SharedClientState","Failed to parse online state: "+e),null)},t}(),eo=function(){function t(){this.activeTargetIds=ze()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),no=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Ce(w),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=$i(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new eo),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(r["a"])(this,void 0,void 0,(function(){var t,e,n,i,o,s,a,c,u,l,h,f=this;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=r.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this.Ns&&(o=this.getItem($i(this.persistenceKey,i)))&&(s=Zi.Vs(i,o))&&(this.Fs=this.Fs.insert(s.clientId,s));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(c=this.js(a))&&this.Ws(c),u=0,l=this.$s;u<l.length;u++)h=l[u],this.ks(h);return this.$s=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Qi(this.persistenceKey,t));if(n){var r=Ji.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Qi(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return f("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){f("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){f("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.ks=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(f("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void d("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Object(r["a"])(e,void 0,void 0,(function(){var t,e,i,o,s,c;return Object(r["c"])(this,(function(r){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(i=this.si(n.key,n.newValue)))return[2,this.ii(i)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(o=this.ri(n.key,n.newValue)))return[2,this.oi(o)]}else if(n.key===this.Us){if(null!==n.newValue&&(s=this.js(n.newValue)))return[2,this.Ws(s)]}else if(n.key===this.Ms)(c=function(t){var e=a.o;if(null!=t)try{var n=JSON.parse(t);v("number"==typeof n),e=n}catch(t){d("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==a.o&&this.sequenceNumberHandler(c);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Xi(this.currentUser,t,e,n),i=Yi(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Yi(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var r=Qi(this.persistenceKey,t),i=new Ji(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Zi.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Xi.Vs(new Gi(i),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Ji.Vs(r,e)},t.prototype.js=function(t){return to.Vs(t)},t.prototype.ii=function(t){return Object(r["a"])(this,void 0,void 0,(function(){return Object(r["c"])(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(f("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.Fs.insert(t,e):this.Fs.remove(t),i=this.Gs(this.Fs),o=this.Gs(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.syncEngine.hi(s,a).then((function(){n.Fs=r}))},t.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=ze();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),ro=function(){function t(){this.li=new eo,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new eo,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),io=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),oo=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){f("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){f("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),so={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ao=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),co=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return Object(r["b"])(e,t),e.prototype.Fi=function(t,e,n,r){return new Promise((function(i,o){var a=new s["g"];a.listenOnce(s["c"].COMPLETE,(function(){try{switch(a.getLastErrorCode()){case s["a"].NO_ERROR:var e=a.getResponseJson();f("Connection","XHR received:",JSON.stringify(e)),i(e);break;case s["a"].TIMEOUT:f("Connection",'RPC "'+t+'" timed out'),o(new u(c.DEADLINE_EXCEEDED,"Request time out"));break;case s["a"].HTTP_ERROR:var n=a.getStatus();if(f("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var l=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(c).indexOf(e)>=0?e:c.UNKNOWN}(r.status);o(new u(l,r.message))}else o(new u(c.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new u(c.UNAVAILABLE,"Connection failed."));break;default:m()}}finally{f("Connection",'RPC "'+t+'" completed.')}}));var l=JSON.stringify(r);a.send(e,"POST",l,n,15)}))},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=Object(s["h"])(),o=Object(s["i"])(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new s["d"]({})),this.ki(a.initMessageHeaders,e),Object(i["isMobileCordova"])()||Object(i["isReactNative"])()||Object(i["isElectron"])()||Object(i["isIE"])()||Object(i["isUWP"])()||Object(i["isBrowserExtension"])()||(a.httpHeadersOverwriteParam="$httpHeaders");var l=n.join("");f("Connection","Creating WebChannel: "+l,a);var h=r.createWebChannel(l,a),d=!1,g=!1,m=new ao({Ei:function(t){g?f("Connection","Not sending because WebChannel is closed:",t):(d||(f("Connection","Opening WebChannel transport."),h.open(),d=!0),f("Connection","WebChannel sending:",t),h.send(t))},Ti:function(){return h.close()}}),y=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return y(h,s["f"].EventType.OPEN,(function(){g||f("Connection","WebChannel transport opened.")})),y(h,s["f"].EventType.CLOSE,(function(){g||(g=!0,f("Connection","WebChannel transport closed"),m.Vi())})),y(h,s["f"].EventType.ERROR,(function(t){g||(g=!0,p("Connection","WebChannel transport errored:",t),m.Vi(new u(c.UNAVAILABLE,"The operation could not be completed")))})),y(h,s["f"].EventType.MESSAGE,(function(t){var e;if(!g){var n=t.data[0];v(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){f("Connection","WebChannel received error:",i);var o=i.status,s=function(t){var e=xe[t];if(void 0!==e)return Se(e)}(o),a=i.message;void 0===s&&(s=c.INTERNAL,a="Unknown error status: "+o+" with message "+i.message),g=!0,m.Vi(new u(s,a)),h.close()}else f("Connection","WebChannel received:",n),m.Si(n)}})),y(o,s["b"].STAT_EVENT,(function(t){t.stat===s["e"].PROXY?f("Connection","Detected buffering proxy"):t.stat===s["e"].NOPROXY&&f("Connection","Detected no buffering proxy")})),setTimeout((function(){m.Pi()}),0),m},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);f("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(t,i,o,n).then((function(t){return f("RestConnection","Received: ",t),t}),(function(e){throw p("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=so[t];return this.Di+"/v1/"+e+":"+n},t}());
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(){return"undefined"!=typeof window?window:null}function lo(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(t){return new en(t,!0)}var fo=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&f("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Ki=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),po=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new fo(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(r["a"])(this,void 0,void 0,(function(){return Object(r["c"])(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(r["a"])(this,void 0,void 0,(function(){return Object(r["c"])(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(r["a"])(this,void 0,void 0,(function(){return Object(r["c"])(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===c.RESOURCE_EXHAUSTED?(d(e.toString()),d("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===c.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new u(c.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return Object(r["a"])(t,void 0,void 0,(function(){return Object(r["c"])(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return f("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(f("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),go=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return Object(r["b"])(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:m()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(v(void 0===e||"string"==typeof e),D.fromBase64String(e||"")):(v(void 0===e||e instanceof Uint8Array),D.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?c.UNKNOWN:Se(t.code);return new u(e,t.message||"")}(a);n=new $e(r,i,o,s||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=ln(t,r.document.name),o=sn(r.document.updateTime);var a=new st({mapValue:{fields:r.document.fields}}),l=(s=ct.newFoundDocument(i,o,a),r.targetIds||[]),h=r.removedTargetIds||[];n=new Ke(l,h,s.key,s)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=ln(t,r.document),o=r.readTime?sn(r.readTime):T.min(),a=ct.newNoDocument(i,o),s=r.removedTargetIds||[],n=new Ke([],s,a.key,a);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=ln(t,r.document),o=r.removedTargetIds||[],n=new Ke([],o,i,null);else{if(!("filter"in e))return m();e.filter;var f=e.filter;f.targetId,r=f.count||0,i=new Ie(r),o=f.targetId,n=new Ge(o,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return T.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?T.min():e.readTime?sn(e.readTime):T.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=dn(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=dt(r)?{documents:bn(t,r)}:{query:_n(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=rn(t,e.resumeToken):e.snapshotVersion.compareTo(T.min())>0&&(n.readTime=nn(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return m()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=dn(this.R),e.removeTarget=t,this.cr(e)},e}(po),mo=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return Object(r["b"])(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(v(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(v(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?sn(t.updateTime):sn(e);return n.isEqual(T.min())&&(n=sn(e)),new ce(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=sn(t.commitTime);return this.listener.Tr(n,e)}return v(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=dn(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return vn(e.R,t)}))};this.cr(n)},e}(po),vo=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(r["b"])(e,t),e.prototype.br=function(){if(this.Rr)throw new u(c.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===c.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new u(c.UNKNOWN,t.toString())}))},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===c.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new u(c.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),yo=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(d(e),this.Vr=!1):f("OnlineStateTracker",e)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),bo=function(t,e,n,i,o){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di((function(t){n.enqueueAndForget((function(){return Object(r["a"])(s,void 0,void 0,(function(){return Object(r["c"])(this,(function(t){switch(t.label){case 0:return So(this)?(f("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(r["a"])(this,void 0,void 0,(function(){var e;return Object(r["c"])(this,(function(n){switch(n.label){case 0:return(e=y(t)).Or.add(4),[4,wo(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,_o(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new yo(n,i)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(t){return Object(r["a"])(this,void 0,void 0,(function(){var e,n;return Object(r["c"])(this,(function(r){switch(r.label){case 0:if(!So(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function wo(t){return Object(r["a"])(this,void 0,void 0,(function(){var e,n;return Object(r["c"])(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function xo(t,e){var n=y(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),ko(n)?Io(n):zo(n).er()&&Oo(n,e))}function Eo(t,e){var n=y(t),r=zo(n);n.$r.delete(e),r.er()&&To(n,e),0===n.$r.size&&(r.er()?r.ir():So(n)&&n.Br.set("Unknown"))}function Oo(t,e){t.qr.U(e.targetId),zo(t).mr(e)}function To(t,e){t.qr.U(e),zo(t).yr(e)}function Io(t){t.qr=new Qe({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),zo(t).start(),t.Br.Sr()}function ko(t){return So(t)&&!zo(t).tr()&&t.$r.size>0}function So(t){return 0===y(t).Or.size}function Co(t){t.qr=void 0}function Ao(t){return Object(r["a"])(this,void 0,void 0,(function(){return Object(r["c"])(this,(function(e){return t.$r.forEach((function(e,n){Oo(t,e)})),[2]}))}))}function jo(t,e){return Object(r["a"])(this,void 0,void 0,(function(){return Object(r["c"])(this,(function(n){return Co(t),ko(t)?(t.Br.Nr(e),Io(t)):t.Br.set("Unknown"),[2]}))}))}function No(t,e,n){return Object(r["a"])(this,void 0,void 0,(function(){var i,o,s;return Object(r["c"])(this,(function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof $e&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Object(r["a"])(this,void 0,void 0,(function(){var n,i,o,s;return Object(r["c"])(this,(function(r){switch(r.label){case 0:n=e.cause,i=0,o=e.targetIds,r.label=1;case 1:return i<o.length?(s=o[i],t.$r.has(s)?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]):[3,5];case 2:r.sent(),t.$r.delete(s),t.qr.removeTarget(s),r.label=3;case 3:r.label=4;case 4:return i++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),f("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,Po(t,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Ke?t.qr.X(e):e instanceof Ge?t.qr.rt(e):t.qr.et(e),n.isEqual(T.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Ti(t.localStore)];case 8:return o=a.sent(),n.compareTo(o)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(D.EMPTY_BYTE_STRING,n.snapshotVersion)),To(t,e);var r=new vr(n.target,e,1,n.sequenceNumber);Oo(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return f("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,Po(t,s)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Po(t,e,n){return Object(r["a"])(this,void 0,void 0,(function(){var i=this;return Object(r["c"])(this,(function(o){switch(o.label){case 0:if(!cr(e))throw e;return t.Or.add(1),[4,wo(t)];case 1:return o.sent(),t.Br.set("Offline"),n||(n=function(){return Ti(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return Object(r["a"])(i,void 0,void 0,(function(){return Object(r["c"])(this,(function(e){switch(e.label){case 0:return f("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,_o(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Do(t,e){return e().catch((function(n){return Po(t,n,e)}))}function Ro(t){return Object(r["a"])(this,void 0,void 0,(function(){var e,n,i,o,s;return Object(r["c"])(this,(function(r){switch(r.label){case 0:e=y(t),n=Wo(e),i=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,r.label=1;case 1:if(!function(t){return So(t)&&t.Fr.length<10}(e))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,Si(e.localStore,i)];case 3:return null===(o=r.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(i=o.batchId,function(t,e){t.Fr.push(e);var n=Wo(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,o),[3,6]);case 4:return s=r.sent(),[4,Po(e,s)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return Mo(e)&&Lo(e),[2]}}))}))}function Mo(t){return So(t)&&!Wo(t).tr()&&t.Fr.length>0}function Lo(t){Wo(t).start()}function Fo(t){return Object(r["a"])(this,void 0,void 0,(function(){return Object(r["c"])(this,(function(e){return Wo(t).Ar(),[2]}))}))}function Uo(t){return Object(r["a"])(this,void 0,void 0,(function(){var e,n,i,o;return Object(r["c"])(this,(function(r){for(e=Wo(t),n=0,i=t.Fr;n<i.length;n++)o=i[n],e.Er(o.mutations);return[2]}))}))}function Vo(t,e,n){return Object(r["a"])(this,void 0,void 0,(function(){var i,o;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return i=t.Fr.shift(),o=mr.from(i,e,n),[4,Do(t,(function(){return t.remoteSyncer.applySuccessfulWrite(o)}))];case 1:return r.sent(),[4,Ro(t)];case 2:return r.sent(),[2]}}))}))}function Bo(t,e){return Object(r["a"])(this,void 0,void 0,(function(){return Object(r["c"])(this,(function(n){switch(n.label){case 0:return e&&Wo(t).pr?[4,function(t,e){return Object(r["a"])(this,void 0,void 0,(function(){var n,i;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return ke(i=e.code)&&i!==c.ABORTED?(n=t.Fr.shift(),Wo(t).sr(),[4,Do(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return r.sent(),[4,Ro(t)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Mo(t)&&Lo(t),[2]}}))}))}function qo(t,e){return Object(r["a"])(this,void 0,void 0,(function(){var n;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return n=y(t),e?(n.Or.delete(2),[4,_o(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,wo(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function zo(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=y(t);return r.br(),new go(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Ao.bind(null,t),Ri:jo.bind(null,t),_r:No.bind(null,t)}),t.Mr.push((function(n){return Object(r["a"])(e,void 0,void 0,(function(){return Object(r["c"])(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),ko(t)?Io(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Co(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function Wo(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=y(t);return r.br(),new mo(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Fo.bind(null,t),Ri:Bo.bind(null,t),Ir:Uo.bind(null,t),Tr:Vo.bind(null,t)}),t.Mr.push((function(n){return Object(r["a"])(e,void 0,void 0,(function(){return Object(r["c"])(this,(function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,Ro(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.Fr.length>0&&(f("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kr
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Ho=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new u(c.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Ko(t,e){if(d("AsyncQueue",e+": "+t),cr(t))return new u(c.UNAVAILABLE,e+": "+t);throw t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Go=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||H.comparator(e.key,n.key)}:function(t,e){return H.comparator(t.key,e.key)},this.keyedMap=Le(),this.sortedSet=new Ce(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),$o=function(){function t(){this.Qr=new Ce(H.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):m():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),Yo=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Go.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Vt(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Qo=function(){this.Wr=void 0,this.listeners=[]},Xo=function(){this.queries=new ri((function(t){return Bt(t)}),Vt),this.onlineState="Unknown",this.Gr=new Set};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(t,e){return Object(r["a"])(this,void 0,void 0,(function(){var n,i,o,s,a,c,u;return Object(r["c"])(this,(function(r){switch(r.label){case 0:if(n=y(t),i=e.query,o=!1,(s=n.queries.get(i))||(o=!0,s=new Qo),!o)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),a=s,[4,n.onListen(i)];case 2:return a.Wr=r.sent(),[3,4];case 3:return c=r.sent(),u=Ko(c,"Initialization of query '"+qt(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(i,s),s.listeners.push(e),e.zr(n.onlineState),s.Wr&&e.Hr(s.Wr)&&ns(n),[2]}}))}))}function Zo(t,e){return Object(r["a"])(this,void 0,void 0,(function(){var n,i,o,s,a;return Object(r["c"])(this,(function(r){return n=y(t),i=e.query,o=!1,(s=n.queries.get(i))&&(a=s.listeners.indexOf(e))>=0&&(s.listeners.splice(a,1),o=0===s.listeners.length),o?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]}))}))}function ts(t,e){for(var n=y(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=s.query,c=n.queries.get(a);if(c){for(var u=0,l=c.listeners;u<l.length;u++)l[u].Hr(s)&&(r=!0);c.Wr=s}}r&&ns(n)}function es(t,e,n){var r=y(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function ns(t){t.Gr.forEach((function(t){t.next()}))}var rs=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Yo(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Yo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),is=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),os=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return ln(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?mn(this.R,t.document,!1):ct.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return sn(t)},t}(),ss=function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=as(t)}return t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new os(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,c=o.metadata.queries;a<c.length;a++){var u=c[a],l=(e.get(u)||Be()).add(s);e.set(u,l)}}return e},t.prototype.complete=function(){return Object(r["a"])(this,void 0,void 0,(function(){var t,e,n,i,o;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return[4,Ri(this.localStore,new os(this.R),this.documents,this.ro.id)];case 1:t=r.sent(),e=this.co(this.documents),n=0,i=this.queries,r.label=2;case 2:return n<i.length?(o=i[n],[4,Mi(this.localStore,o,e.get(o.name))]):[3,5];case 3:r.sent(),r.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new vi(Object.assign({},this.progress),t))]}}))}))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cs=function(t){this.key=t},us=function(t){this.key=t},ls=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Be(),this.mutatedKeys=Be(),this.lo=Wt(t),this.fo=new Go(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new $o,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=Nt(this.query)&&i.size===this.query.limit?i.last():null,u=Pt(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=zt(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(c&&n.lo(h,c)>0||u&&n.lo(h,u)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(c||u)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),Nt(this.query)||Pt(this.query))for(;s.size>this.query.limit;){var l=Nt(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return m()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,c=a!==this.ao;return this.ao=a,0!==o.length||c?{snapshot:new Yo(this.query,t.fo,i,o,t.mutatedKeys,0===a,c,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new $o,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Be(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new us(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new cs(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Be();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Yo.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),hs=function(t,e,n){this.query=t,this.targetId=e,this.view=n},fs=function(t){this.key=t,this.bo=!1},ds=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new ri((function(t){return Bt(t)}),Vt),this.Vo=new Map,this.So=new Set,this.Do=new Ce(H.comparator),this.Co=new Map,this.No=new Fi,this.xo={},this.ko=new Map,this.Fo=Hr.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function ps(t,e){return Object(r["a"])(this,void 0,void 0,(function(){var n,i,o,s,a,c;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return n=zs(t),(s=n.Po.get(e))?(i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),o=s.view.Ro(),[3,4]):[3,1];case 1:return[4,Ci(n.localStore,Ft(e))];case 2:return a=r.sent(),c=n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.targetId,[4,gs(n,e,i,"current"===c)];case 3:o=r.sent(),n.isPrimaryClient&&xo(n.remoteStore,a),r.label=4;case 4:return[2,o]}}))}))}function gs(t,e,n,i){return Object(r["a"])(this,void 0,void 0,(function(){var o,s,a,c,u,l;return Object(r["c"])(this,(function(h){switch(h.label){case 0:return t.Oo=function(e,n,i){return function(t,e,n,i){return Object(r["a"])(this,void 0,void 0,(function(){var o,s,a;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return o=e.view._o(n),o.Nn?[4,ji(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view._o(n,o)}))]:[3,2];case 1:o=r.sent(),r.label=2;case 2:return s=i&&i.targetChanges.get(e.targetId),a=e.view.applyChanges(o,t.isPrimaryClient,s),[2,(Ss(t,e.targetId,a.To),a.snapshot)]}}))}))}(t,e,n,i)},[4,ji(t.localStore,e,!0)];case 1:return o=h.sent(),s=new ls(e,o.Bn),a=s._o(o.documents),c=He.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState),u=s.applyChanges(a,t.isPrimaryClient,c),Ss(t,n,u.To),l=new hs(e,n,s),[2,(t.Po.set(e,l),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function ms(t,e){return Object(r["a"])(this,void 0,void 0,(function(){var n,i,o;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return n=y(t),i=n.Po.get(e),(o=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,o.filter((function(t){return!Vt(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,Ai(n.localStore,i.targetId,!1).then((function(){n.sharedClientState.clearQueryState(i.targetId),Eo(n.remoteStore,i.targetId),Is(n,i.targetId)})).catch(Qr)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return Is(n,i.targetId),[4,Ai(n.localStore,i.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))}function vs(t,e,n){return Object(r["a"])(this,void 0,void 0,(function(){var i,o,s,a;return Object(r["c"])(this,(function(r){switch(r.label){case 0:i=Ws(t),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(t,e){var n,r=y(t),i=O.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Be());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var s=[],a=0,c=e;a<c.length;a++){var u=c[a],l=pe(u,n.get(u.key));null!=l&&s.push(new ye(u.key,l,at(l.value.mapValue),ue.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(i.localStore,e)];case 2:return o=r.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Ce(w)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(i,o.batchId,n),[4,js(i,o.changes)];case 3:return r.sent(),[4,Ro(i.remoteStore)];case 4:return r.sent(),[3,6];case 5:return s=r.sent(),a=Ko(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function ys(t,e){return Object(r["a"])(this,void 0,void 0,(function(){var n,i;return Object(r["c"])(this,(function(r){switch(r.label){case 0:n=y(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Ii(n.localStore,e)];case 2:return i=r.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(v(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?v(r.bo):t.removedDocuments.size>0&&(v(r.bo),r.bo=!1))})),[4,js(n,i,e)];case 3:return r.sent(),[3,6];case 4:return[4,Qr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function bs(t,e,n){var r=y(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=y(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&ns(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function _s(t,e,n){return Object(r["a"])(this,void 0,void 0,(function(){var i,o,s,a,c,u;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return(i=y(t)).sharedClientState.updateQueryState(e,"rejected",n),o=i.Co.get(e),(s=o&&o.key)?(a=(a=new Ce(H.comparator)).insert(s,ct.newNoDocument(s,T.min())),c=Be().add(s),u=new We(T.min(),new Map,new Ne(w),a,c),[4,ys(i,u)]):[3,2];case 1:return r.sent(),i.Do=i.Do.remove(s),i.Co.delete(e),As(i),[3,4];case 2:return[4,Ai(i.localStore,e,!1).then((function(){return Is(i,e,n)})).catch(Qr)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))}function ws(t,e){return Object(r["a"])(this,void 0,void 0,(function(){var n,i,o;return Object(r["c"])(this,(function(r){switch(r.label){case 0:n=y(t),i=e.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Oi(n.localStore,e)];case 2:return o=r.sent(),Ts(n,i,null),Os(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,js(n,o)];case 3:return r.sent(),[3,6];case 4:return[4,Qr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function xs(t,e,n){return Object(r["a"])(this,void 0,void 0,(function(){var i,o;return Object(r["c"])(this,(function(r){switch(r.label){case 0:i=y(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(t,e){var n=y(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return v(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(i.localStore,e)];case 2:return o=r.sent(),Ts(i,e,n),Os(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),[4,js(i,o)];case 3:return r.sent(),[3,6];case 4:return[4,Qr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Es(t,e){return Object(r["a"])(this,void 0,void 0,(function(){var n,i,o,s,a;return Object(r["c"])(this,(function(r){switch(r.label){case 0:So((n=y(t)).remoteStore)||f("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(t){var e=y(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(i=r.sent())?[2,void e.resolve()]:((o=n.ko.get(i)||[]).push(e),n.ko.set(i,o),[3,4]);case 3:return s=r.sent(),a=Ko(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function Os(t,e){(t.ko.get(e)||[]).forEach((function(t){t.resolve()})),t.ko.delete(e)}function Ts(t,e,n){var r=y(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Is(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||ks(t,e)}))}function ks(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Eo(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),As(t))}function Ss(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof cs?(t.No.addReference(o.key,e),Cs(t,o)):o instanceof us?(f("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||ks(t,o.key)):m()}}function Cs(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(f("SyncEngine","New document in limbo: "+n),t.So.add(r),As(t))}function As(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new H(A.fromString(e)),r=t.Fo.next();t.Co.set(r,new fs(n)),t.Do=t.Do.insert(n,r),xo(t.remoteStore,new vr(Ft(jt(n.path)),r,2,a.o))}}function js(t,e,n){return Object(r["a"])(this,void 0,void 0,(function(){var i,o,s,a;return Object(r["c"])(this,(function(c){switch(c.label){case 0:return i=y(t),o=[],s=[],a=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach((function(t,r){a.push(i.Oo(r,e,n).then((function(t){if(t){i.isPrimaryClient&&i.sharedClientState.updateQueryState(r.targetId,t.fromCache?"not-current":"current"),o.push(t);var e=bi.Pn(r.targetId,t);s.push(e)}})))})),[4,Promise.all(a)]);case 1:return c.sent(),i.vo._r(o),[4,function(t,e){return Object(r["a"])(this,void 0,void 0,(function(){var n,i,o,s,a,c,u,l,h;return Object(r["c"])(this,(function(r){switch(r.label){case 0:n=y(t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return rr.forEach(e,(function(e){return rr.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return rr.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return r.sent(),[3,4];case 3:if(!cr(i=r.sent()))throw i;return f("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(o=0,s=e;o<s.length;o++)a=s[o],c=a.targetId,a.fromCache||(u=n.kn.get(c),l=u.snapshotVersion,h=u.withLastLimboFreeSnapshotVersion(l),n.kn=n.kn.insert(c,h));return[2]}}))}))}(i.localStore,s)];case 2:c.sent(),c.label=3;case 3:return[2]}}))}))}function Ns(t,e){return Object(r["a"])(this,void 0,void 0,(function(){var n,i;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return(n=y(t)).currentUser.isEqual(e)?[3,3]:(f("SyncEngine","User change. New user:",e.toKey()),[4,Ei(n.localStore,e)]);case 1:return i=r.sent(),n.currentUser=e,function(t,e){t.ko.forEach((function(t){t.forEach((function(t){t.reject(new u(c.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.ko.clear()}(n),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),[4,js(n,i.Ln)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}function Ps(t,e){var n=y(t),r=n.Co.get(e);if(r&&r.bo)return Be().add(r.key);var i=Be(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var c=a[s],u=n.Po.get(c);i=i.unionWith(u.view.wo)}return i}function Ds(t,e){return Object(r["a"])(this,void 0,void 0,(function(){var n,i,o;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return[4,ji((n=y(t)).localStore,e.query,!0)];case 1:return i=r.sent(),o=e.view.Ao(i),[2,(n.isPrimaryClient&&Ss(n,e.targetId,o.To),o)]}}))}))}function Rs(t){return Object(r["a"])(this,void 0,void 0,(function(){var e;return Object(r["c"])(this,(function(n){return[2,Pi((e=y(t)).localStore).then((function(t){return js(e,t)}))]}))}))}function Ms(t,e,n,i){return Object(r["a"])(this,void 0,void 0,(function(){var o,s;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return[4,function(t,e){var n=y(t),r=y(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):rr.resolve(null)}))}))}((o=y(t)).localStore,e)];case 1:return null===(s=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,Ro(o.remoteStore)];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Ts(o,e,i||null),Os(o,e),function(t,e){y(y(t)._n).Gt(e)}(o.localStore,e)):m(),r.label=4;case 4:return[4,js(o,s)];case 5:return r.sent(),[3,7];case 6:f("SyncEngine","Cannot apply mutation batch with id: "+e),r.label=7;case 7:return[2]}}))}))}function Ls(t,e){return Object(r["a"])(this,void 0,void 0,(function(){var n,i,o,s,a,c,u,l;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return zs(n=y(t)),Ws(n),!0!==e||!0===n.$o?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,Fs(n,i.toArray())]);case 1:return o=r.sent(),n.$o=!0,[4,qo(n.remoteStore,!0)];case 2:for(r.sent(),s=0,a=o;s<a.length;s++)c=a[s],xo(n.remoteStore,c);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(u=[],l=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?u.push(e):l=l.then((function(){return Is(n,e),Ai(n.localStore,e,!0)})),Eo(n.remoteStore,e)})),[4,l]);case 4:return r.sent(),[4,Fs(n,u)];case 5:return r.sent(),function(t){var e=y(t);e.Co.forEach((function(t,n){Eo(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new Ce(H.comparator)}(n),n.$o=!1,[4,qo(n.remoteStore,!1)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))}function Fs(t,e,n){return Object(r["a"])(this,void 0,void 0,(function(){var n,i,o,s,a,c,u,l,h,f,d,p,g,m;return Object(r["c"])(this,(function(r){switch(r.label){case 0:n=y(t),i=[],o=[],s=0,a=e,r.label=1;case 1:return s<a.length?(c=a[s],u=void 0,(l=n.Vo.get(c))&&0!==l.length?[4,Ci(n.localStore,Ft(l[0]))]:[3,7]):[3,13];case 2:u=r.sent(),h=0,f=l,r.label=3;case 3:return h<f.length?(d=f[h],p=n.Po.get(d),[4,Ds(n,p)]):[3,6];case 4:(g=r.sent()).snapshot&&o.push(g.snapshot),r.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Ni(n.localStore,c)];case 8:return m=r.sent(),[4,Ci(n.localStore,m)];case 9:return u=r.sent(),[4,gs(n,Us(m),c,!1)];case 10:r.sent(),r.label=11;case 11:i.push(u),r.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(o),i)]}}))}))}function Us(t){return At(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Vs(t){var e=y(t);return y(y(e.localStore).persistence).fn()}function Bs(t,e,n,i){return Object(r["a"])(this,void 0,void 0,(function(){var o,s,a;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return(o=y(t)).$o?(f("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Pi(o.localStore)];case 3:return s=r.sent(),a=We.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,js(o,s,a)];case 4:return r.sent(),[3,8];case 5:return[4,Ai(o.localStore,e,!0)];case 6:return r.sent(),Is(o,e,i),[3,8];case 7:m(),r.label=8;case 8:return[2]}}))}))}function qs(t,e,n){return Object(r["a"])(this,void 0,void 0,(function(){var i,o,s,a,c,u,l,h,d,p;return Object(r["c"])(this,(function(g){switch(g.label){case 0:if(!(i=zs(t)).$o)return[3,10];o=0,s=e,g.label=1;case 1:return o<s.length?(a=s[o],i.Vo.has(a)?(f("SyncEngine","Adding an already active target "+a),[3,5]):[4,Ni(i.localStore,a)]):[3,6];case 2:return c=g.sent(),[4,Ci(i.localStore,c)];case 3:return u=g.sent(),[4,gs(i,Us(c),u.targetId,!1)];case 4:g.sent(),xo(i.remoteStore,u),g.label=5;case 5:return o++,[3,1];case 6:l=function(t){return Object(r["c"])(this,(function(e){switch(e.label){case 0:return i.Vo.has(t)?[4,Ai(i.localStore,t,!1).then((function(){Eo(i.remoteStore,t),Is(i,t)})).catch(Qr)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,d=n,g.label=7;case 7:return h<d.length?(p=d[h],[5,l(p)]):[3,10];case 8:g.sent(),g.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function zs(t){var e=y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ys.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ps.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_s.bind(null,e),e.vo._r=ts.bind(null,e.eventManager),e.vo.Mo=es.bind(null,e.eventManager),e}function Ws(t){var e=y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ws.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xs.bind(null,e),e}function Hs(t,e,n){var i=y(t);(function(t,e,n){return Object(r["a"])(this,void 0,void 0,(function(){var i,o,s,a,c,u;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return r.trys.push([0,14,,15]),[4,e.getMetadata()];case 1:return i=r.sent(),[4,function(t,e){var n=y(t),r=sn(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(t){return n.Ke.getBundleMetadata(t,e.id)})).then((function(t){return!!t&&t.createTime.compareTo(r)>=0}))}(t.localStore,i)];case 2:return r.sent()?[4,e.close()]:[3,4];case 3:return[2,(r.sent(),void n._completeWith(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(i)))];case 4:return n._updateProgress(as(i)),o=new ss(i,t.localStore,e.R),[4,e.Lo()];case 5:s=r.sent(),r.label=6;case 6:return s?[4,o.oo(s)]:[3,10];case 7:return(a=r.sent())&&n._updateProgress(a),[4,e.Lo()];case 8:s=r.sent(),r.label=9;case 9:return[3,6];case 10:return[4,o.complete()];case 11:return c=r.sent(),[4,js(t,c.wn,void 0)];case 12:return r.sent(),[4,function(t,e){var n=y(t);return n.persistence.runTransaction("Save bundle","readwrite",(function(t){return n.Ke.saveBundleMetadata(t,e)}))}(t.localStore,i)];case 13:return r.sent(),n._completeWith(c.progress),[3,15];case 14:return p("SyncEngine","Loading bundle failed with "+(u=r.sent())),n._failWith(u),[3,15];case 15:return[2]}}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)(i,e,n).then((function(){i.sharedClientState.notifyBundleLoaded()}))}var Ks=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(r["a"])(this,void 0,void 0,(function(){return Object(r["c"])(this,(function(e){switch(e.label){case 0:return this.R=ho(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return xi(this.persistence,new _i,t.initialUser,this.R)},t.prototype.qo=function(t){return new Wi(Ki.bs,this.R)},t.prototype.Bo=function(t){return new ro},t.prototype.terminate=function(){return Object(r["a"])(this,void 0,void 0,(function(){return Object(r["c"])(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),Gs=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(r["b"])(e,t),e.prototype.initialize=function(e){return Object(r["a"])(this,void 0,void 0,(function(){var n=this;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,Di(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,e)];case 3:return r.sent(),[4,Ws(this.Qo.syncEngine)];case 4:return r.sent(),[4,Ro(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},e.prototype.Ko=function(t){return xi(this.persistence,new _i,t.initialUser,this.R)},e.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new Zr(e,t.asyncQueue)},e.prototype.qo=function(t){var e=mi(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Lr.withCacheSize(this.cacheSizeBytes):Lr.DEFAULT;return new di(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,uo(),lo(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new ro},e}(Ks),$s=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(r["b"])(e,t),e.prototype.initialize=function(e){return Object(r["a"])(this,void 0,void 0,(function(){var n,i=this;return Object(r["c"])(this,(function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return o.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof no?(this.sharedClientState.syncEngine={ui:Ms.bind(null,n),ai:Bs.bind(null,n),hi:qs.bind(null,n),fn:Vs.bind(null,n),ci:Rs.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He((function(t){return Object(r["a"])(i,void 0,void 0,(function(){return Object(r["c"])(this,(function(e){switch(e.label){case 0:return[4,Ls(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return o.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=uo();if(!no.yt(e))throw new u(c.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=mi(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new no(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Gs),Ys=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(r["a"])(this,void 0,void 0,(function(){var n=this;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return bs(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ns.bind(null,this.syncEngine),[4,qo(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new Xo},t.prototype.createDatastore=function(t){var e,n=ho(t.databaseInfo.databaseId),r=(e=t.databaseInfo,new co(e));return function(t,e,n){return new vo(t,e,n)}(t.credentials,r,n)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return bs(s.syncEngine,t,0)},o=oo.yt()?new oo:new io,new bo(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new ds(t,e,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(r["a"])(this,void 0,void 0,(function(){var e;return Object(r["c"])(this,(function(n){switch(n.label){case 0:return e=y(t),f("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,wo(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return Object(r["a"])(this,void 0,void 0,(function(){var i;return Object(r["c"])(this,(function(r){return n<t.byteLength?(i={value:t.slice(n,n+e),done:!1},[2,(n+=e,i)]):[2,{done:!0}]}))}))},cancel:function(){return Object(r["a"])(this,void 0,void 0,(function(){return Object(r["c"])(this,(function(t){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xs=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Js=function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new nr,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}return t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(r["a"])(this,void 0,void 0,(function(){return Object(r["c"])(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return Object(r["a"])(this,void 0,void 0,(function(){return Object(r["c"])(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return Object(r["a"])(this,void 0,void 0,(function(){var t,e,n,i;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return[4,this.Jo()];case 1:return null===(t=r.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return i=r.sent(),[2,new is(JSON.parse(i),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return Object(r["a"])(this,void 0,void 0,(function(){var t,e;return Object(r["c"])(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return Object(r["a"])(this,void 0,void 0,(function(){var e;return Object(r["c"])(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(r["a"])(this,void 0,void 0,(function(){var t,e;return Object(r["c"])(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))},t}(),Zs=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(r["a"])(this,void 0,void 0,(function(){var e,n=this;return Object(r["c"])(this,(function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new u(c.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(r["a"])(this,void 0,void 0,(function(){var n,i,o,s,a,c;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return n=y(t),i=dn(n.R)+"/documents",o={documents:e.map((function(t){return un(n.R,t)}))},[4,n.$i("BatchGetDocuments",i,o)];case 1:return s=r.sent(),a=new Map,s.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){v(!!e.found),e.found.name,e.found.updateTime;var n=ln(t,e.found.name),r=sn(e.found.updateTime),i=new st({mapValue:{fields:e.found.fields}});return ct.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){v(!!e.missing),v(!!e.readTime);var n=ln(t,e.missing),r=sn(e.readTime);return ct.newNoDocument(n,r)}(t,e):m()}(n.R,t);a.set(e.key.toString(),e)})),c=[],[2,(e.forEach((function(t){var e=a.get(t.toString());v(!!e),c.push(e)})),c)]}}))}))}(this.datastore,t)];case 1:return[2,((e=i.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Oe(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(r["a"])(this,void 0,void 0,(function(){var t,e=this;return Object(r["c"])(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=H.fromPath(n);e.mutations.push(new Te(r,e.precondition(r)))})),[4,function(t,e){return Object(r["a"])(this,void 0,void 0,(function(){var n,i,o;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return n=y(t),i=dn(n.R)+"/documents",o={writes:e.map((function(t){return vn(n.R,t)}))},[4,n.Ni("Commit",i,o)];case 1:return r.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw m();e=T.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new u(c.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?ue.updateTime(e):ue.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(T.min()))throw new u(c.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ue.updateTime(e)}return ue.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),ta=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new fo(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return Object(r["a"])(t,void 0,void 0,(function(){var t,e,n=this;return Object(r["c"])(this,(function(r){return t=new Zs(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!q(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!ke(e)}return!1},t}(),ea=function(){function t(t,e,n){var i=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Gi.UNAUTHENTICATED,this.clientId=_.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,(function(t){return Object(r["a"])(i,void 0,void 0,(function(){return Object(r["c"])(this,(function(e){switch(e.label){case 0:return f("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}}))}))}))}return t.prototype.getConfiguration=function(){return Object(r["a"])(this,void 0,void 0,(function(){return Object(r["c"])(this,(function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new u(c.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Object(r["a"])(t,void 0,void 0,(function(){var t,n;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Ko(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(t,e){return Object(r["a"])(this,void 0,void 0,(function(){var n,i,o=this;return Object(r["c"])(this,(function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),f("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),i=n.initialUser,t.setCredentialChangeListener((function(t){return Object(r["a"])(o,void 0,void 0,(function(){return Object(r["c"])(this,(function(n){switch(n.label){case 0:return i.isEqual(t)?[3,2]:[4,Ei(e.localStore,t)];case 1:n.sent(),i=t,n.label=2;case 2:return[2]}}))}))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function ra(t,e){return Object(r["a"])(this,void 0,void 0,(function(){var n,i;return Object(r["c"])(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,ia(t)];case 1:return n=o.sent(),f("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return i=o.sent(),[4,e.initialize(n,i)];case 3:return o.sent(),t.setCredentialChangeListener((function(t){return function(t,e){return Object(r["a"])(this,void 0,void 0,(function(){var n,i;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return(n=y(t)).asyncQueue.verifyOperationInProgress(),f("RemoteStore","RemoteStore received new credentials"),i=So(n),n.Or.add(3),[4,wo(n)];case 1:return r.sent(),i&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return r.sent(),n.Or.delete(3),[4,_o(n)];case 3:return r.sent(),[2]}}))}))}(e.remoteStore,t)})),t.onlineComponents=e,[2]}}))}))}function ia(t){return Object(r["a"])(this,void 0,void 0,(function(){return Object(r["c"])(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(f("FirestoreClient","Using default OfflineComponentProvider"),[4,na(t,new Ks)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function oa(t){return Object(r["a"])(this,void 0,void 0,(function(){return Object(r["c"])(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(f("FirestoreClient","Using default OnlineComponentProvider"),[4,ra(t,new Ys)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function sa(t){return ia(t).then((function(t){return t.persistence}))}function aa(t){return ia(t).then((function(t){return t.localStore}))}function ca(t){return oa(t).then((function(t){return t.remoteStore}))}function ua(t){return oa(t).then((function(t){return t.syncEngine}))}function la(t){return Object(r["a"])(this,void 0,void 0,(function(){var e,n;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return[4,oa(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=ps.bind(null,e.syncEngine),n.onUnlisten=ms.bind(null,e.syncEngine),n)]}}))}))}function ha(t,e,n){var i=this;void 0===n&&(n={});var o=new nr;return t.asyncQueue.enqueueAndForget((function(){return Object(r["a"])(i,void 0,void 0,(function(){var i;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return i=function(t,e,n,r,i){var o=new Xs({next:function(o){e.enqueueAndForget((function(){return Zo(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new u(c.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new u(c.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new rs(jt(n.path),o,{includeMetadataChanges:!0,so:!0});return Jo(t,s)},[4,la(t)];case 1:return[2,i.apply(void 0,[r.sent(),t.asyncQueue,e,n,o])]}}))}))})),o.promise}function fa(t,e,n){var i=this;void 0===n&&(n={});var o=new nr;return t.asyncQueue.enqueueAndForget((function(){return Object(r["a"])(i,void 0,void 0,(function(){var i;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return i=function(t,e,n,r,i){var o=new Xs({next:function(n){e.enqueueAndForget((function(){return Zo(t,s)})),n.fromCache&&"server"===r.source?i.reject(new u(c.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new rs(n,o,{includeMetadataChanges:!0,so:!0});return Jo(t,s)},[4,la(t)];case 1:return[2,i.apply(void 0,[r.sent(),t.asyncQueue,e,n,o])]}}))}))})),o.promise}var da=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},pa=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),ga=new Map,ma=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},va=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable((function(){return e(Gi.UNAUTHENTICATED)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),ya=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),ba=function(){function t(t){var e=this;this.currentUser=Gi.UNAUTHENTICATED,this.oc=new nr,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)}))};var n=function(t){f("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit((function(t){return n(t)})),setTimeout((function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(f("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}}),0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(f("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(v("string"==typeof n.accessToken),new ma(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable((function(){return Object(r["a"])(n,void 0,void 0,(function(){return Object(r["c"])(this,(function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}}))}))}))},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return v(null===t||"string"==typeof t),new Gi(t)},t}(),_a=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=Gi.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),wa=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new _a(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable((function(){return e(Gi.FIRST_PARTY)}))},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(t,e,n){if(!n)throw new u(c.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Ea(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new u(c.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Oa(t,e,n,r){if(!0===e&&!0===r)throw new u(c.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Ta(t){if(!H.isDocumentKey(t))throw new u(c.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Ia(t){if(H.isDocumentKey(t))throw new u(c.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function ka(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":m()}function Sa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new u(c.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ka(t);throw new u(c.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Ca(t,e){if(e<=0)throw new u(c.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Aa=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new u(c.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new u(c.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Oa("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),ja=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Aa({}),this._settingsFrozen=!1,t instanceof pa?(this._databaseId=t,this._credentials=new va):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new u(c.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pa(t.options.projectId)}(t),this._credentials=new ba(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new u(c.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new u(c.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Aa(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new va;switch(t.type){case"gapi":var e=t.client;return v(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new wa(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new u(c.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return t=this,(e=ga.get(t))&&(f("ComponentProvider","Removing Datastore"),ga.delete(t),e.terminate()),Promise.resolve();var t,e},t}(),Na=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Da(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Pa=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Da=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,jt(r))||this)._path=r,i.type="collection",i}return Object(r["b"])(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Na(this.firestore,null,new H(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Pa);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(t,e){for(var n,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];if(t=Object(i["getModularInstance"])(t),xa("collection","path",e),t instanceof ja)return Ia(n=A.fromString.apply(A,Object(r["d"])([e],o))),new Da(t,null,n);if(!(t instanceof Na||t instanceof Da))throw new u(c.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ia(n=A.fromString.apply(A,Object(r["d"])([t.path],o)).child(A.fromString(e))),new Da(t.firestore,null,n)}function Ma(t,e){for(var n,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];if(t=Object(i["getModularInstance"])(t),1===arguments.length&&(e=_.u()),xa("doc","path",e),t instanceof ja)return Ta(n=A.fromString.apply(A,Object(r["d"])([e],o))),new Na(t,null,new H(n));if(!(t instanceof Na||t instanceof Da))throw new u(c.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ta(n=t._path.child(A.fromString.apply(A,Object(r["d"])([e],o)))),new Na(t.firestore,t instanceof Da?t.converter:null,new H(n))}function La(t,e){return t=Object(i["getModularInstance"])(t),e=Object(i["getModularInstance"])(e),(t instanceof Na||t instanceof Da)&&(e instanceof Na||e instanceof Da)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Fa(t,e){return t=Object(i["getModularInstance"])(t),e=Object(i["getModularInstance"])(e),t instanceof Pa&&e instanceof Pa&&t.firestore===e.firestore&&Vt(t._query,e._query)&&t.converter===e.converter
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Ua=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new fo(this,"async_queue_retry"),this.Ic=function(){var e=lo();e&&f("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=lo();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=lo();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new nr;return this.Rc((function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.wc.push(t),e.bc()}))},t.prototype.bc=function(){return Object(r["a"])(this,void 0,void 0,(function(){var t,e=this;return Object(r["c"])(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!cr(t=n.sent()))throw t;return f("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return e.bc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Rc=function(t){var e=this,n=this.dc.then((function(){return e.gc=!0,t().catch((function(t){throw e.yc=t,e.gc=!1,d("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.gc=!1,t}))}));return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=Ho.createAndSchedule(this,t,e,n,(function(t){return r.vc(t)}));return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&m()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return Object(r["a"])(this,void 0,void 0,(function(){var t;return Object(r["c"])(this,(function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then((function(){e.mc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()}))},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function Va(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Ba=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new nr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},t}(),qa=-1,za=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Ua,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(r["b"])(e,t),e.prototype._terminate=function(){return this._firestoreClient||Ha(this),this._firestoreClient.terminate()},e}(ja);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(t){return t._firestoreClient||Ha(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Ha(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new da(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new ea(t._credentials,t._queue,r)}function Ka(t,e,n){var i=this,o=new nr;return t.asyncQueue.enqueue((function(){return Object(r["a"])(i,void 0,void 0,(function(){var i;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,na(t,n)];case 1:return r.sent(),[4,ra(t,e)];case 2:return r.sent(),o.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===c.FAILED_PRECONDITION||t.code===c.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(i=r.sent()))throw i;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),o.reject(i),[3,4];case 4:return[2]}}))}))})).then((function(){return o.promise}))}function Ga(t){if(t._initialized||t._terminated)throw new u(c.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $a=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new u(c.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new N(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Ya=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(D.fromBase64String(e))}catch(e){throw new u(c.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(D.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Qa=function(t){this._methodName=t},Xa=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new u(c.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new u(c.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return w(this._lat,t._lat)||w(this._long,t._long)},t}(),Ja=/^__.*__$/,Za=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new ye(t,this.data,this.fieldMask,e,this.fieldTransforms):new ve(t,this.data,e,this.fieldTransforms)},t}(),tc=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new ye(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw m()}}var nc=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(t){return xc(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(ec(this.Nc)&&Ja.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),rc=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||ho(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new nc({Nc:t,methodName:e,qc:n,path:N.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function ic(t){var e=t._freezeSettings(),n=ho(t._databaseId);return new rc(t._databaseId,!!e.ignoreUndefinedProperties,n)}function oc(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);yc("Data must be an object, but it was:",s,r);var a,l,h=mc(r,s);if(o.merge)a=new P(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){for(var f=[],d=0,p=o.mergeFields;d<p.length;d++){var g=bc(e,p[d],n);if(!s.contains(g))throw new u(c.INVALID_ARGUMENT,"Field '"+g+"' is specified in your field mask but missing from your input data.");Ec(f,g)||f.push(g)}a=new P(f),l=s.fieldTransforms.filter((function(t){return a.covers(t.field)}))}else a=null,l=s.fieldTransforms;return new Za(new st(h),a,l)}var sc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["b"])(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw 1===t.Nc?t.Lc(this._methodName+"() can only appear at the top level of your update data"):t.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Qa);function ac(t,e,n){return new nc({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var cc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["b"])(e,t),e.prototype._toFieldTransform=function(t){return new ae(t.path,new Zt)},e.prototype.isEqual=function(t){return t instanceof e},e}(Qa),uc=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(r["b"])(e,t),e.prototype._toFieldTransform=function(t){var e=ac(this,t,!0),n=this.Kc.map((function(t){return gc(t,e)})),r=new te(n);return new ae(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Qa),lc=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(r["b"])(e,t),e.prototype._toFieldTransform=function(t){var e=ac(this,t,!0),n=this.Kc.map((function(t){return gc(t,e)})),r=new ne(n);return new ae(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Qa),hc=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return Object(r["b"])(e,t),e.prototype._toFieldTransform=function(t){var e=new ie(t.R,$t(t.R,this.Qc));return new ae(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Qa);function fc(t,e,n,r){var o=t.Uc(1,e,n);yc("Data must be an object, but it was:",o,r);var s=[],a=st.empty();k(r,(function(t,r){var c=wc(e,t,n);r=Object(i["getModularInstance"])(r);var u=o.Oc(c);if(r instanceof sc)s.push(c);else{var l=gc(r,u);null!=l&&(s.push(c),a.set(c,l))}}));var c=new P(s);return new tc(a,c,o.fieldTransforms)}function dc(t,e,n,r,o,s){var a=t.Uc(1,e,n),l=[bc(e,r,n)],h=[o];if(s.length%2!=0)throw new u(c.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var f=0;f<s.length;f+=2)l.push(bc(e,s[f])),h.push(s[f+1]);for(var d=[],p=st.empty(),g=l.length-1;g>=0;--g)if(!Ec(d,l[g])){var m=l[g],v=h[g];v=Object(i["getModularInstance"])(v);var y=a.Oc(m);if(v instanceof sc)d.push(m);else{var b=gc(v,y);null!=b&&(d.push(m),p.set(m,b))}}var _=new P(d);return new tc(p,_,a.fieldTransforms)}function pc(t,e,n,r){return void 0===r&&(r=!1),gc(n,t.Uc(r?4:3,e))}function gc(t,e){if(vc(t=Object(i["getModularInstance"])(t)))return yc("Unsupported field value:",e,t),mc(t,e);if(t instanceof Qa)return function(t,e){if(!ec(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=gc(o[i],e.Mc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(i["getModularInstance"])(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return $t(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=O.fromDate(t);return{timestampValue:nn(e.R,n)}}if(t instanceof O)return n=new O(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:nn(e.R,n)};if(t instanceof Xa)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ya)return{bytesValue:rn(e.R,t._byteString)};if(t instanceof Na){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:an(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+ka(t))}(t,e)}function mc(t,e){var n={};return S(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):k(t,(function(t,r){var i=gc(r,e.kc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function vc(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof O||t instanceof Xa||t instanceof Ya||t instanceof Na||t instanceof Qa)}function yc(t,e,n){if(!vc(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=ka(n);throw"an object"===r?e.Lc(t+" a custom object"):e.Lc(t+" "+r)}}function bc(t,e,n){if((e=Object(i["getModularInstance"])(e))instanceof $a)return e._internalPath;if("string"==typeof e)return wc(t,e);throw xc("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var _c=new RegExp("[~\\*/\\[\\]]");function wc(t,e,n){if(e.search(_c)>=0)throw xc("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new($a.bind.apply($a,Object(r["d"])([void 0],e.split(".")))))._internalPath}catch(i){throw xc("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function xc(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var l="";return(o||s)&&(l+=" (found",o&&(l+=" in field "+r),s&&(l+=" in document "+i),l+=")"),new u(c.INVALID_ARGUMENT,(a+=". ")+t+l)}function Ec(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oc=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Na(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Tc(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Ic("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Tc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["b"])(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Oc);function Ic(t,e){return"string"==typeof e?wc(t,e):e instanceof $a?e._internalPath:e._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kc=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Sc=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Object(r["b"])(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Cc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Ic("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Oc),Cc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["b"])(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Sc),Ac=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new kc(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new Cc(n._firestore,n._userDataWriter,r.key,r,new kc(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new u(c.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new Cc(t._firestore,t._userDataWriter,e.doc.key,e.doc,new kc(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Cc(t._firestore,t._userDataWriter,e.doc.key,e.doc,new kc(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:jc(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function jc(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return m()}}function Nc(t,e){return t instanceof Sc&&e instanceof Sc?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Ac&&e instanceof Ac&&t._firestore===e._firestore&&Fa(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(t){if(Pt(t)&&0===t.explicitOrderBy.length)throw new u(c.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Dc=function(){};function Rc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Mc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return Object(r["b"])(e,t),e.prototype._apply=function(t){var e=ic(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new u(c.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){zc(s,o);for(var l=[],h=0,f=s;h<f.length;h++){var d=f[h];l.push(qc(r,t,d))}a={arrayValue:{values:l}}}else a=qc(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||zc(s,o),a=pc(n,"where",s,"in"===o||"not-in"===o);var p=pt.create(i,o,a);return function(t,e){if(e.g()){var n=Rt(t);if(null!==n&&!n.isEqual(e.field))throw new u(c.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Dt(t);null!==r&&Wc(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new u(c.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new u(c.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,p),p}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Pa(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Ct(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Dc),Lc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return Object(r["b"])(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new u(c.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new u(c.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Tt(e,n);return function(t,e){if(null===Dt(t)){var n=Rt(t);null!==n&&Wc(t,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new Pa(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Ct(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Dc),Fc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(r["b"])(e,t),e.prototype._apply=function(t){return new Pa(t.firestore,t.converter,Ut(t._query,this.Hc,this.Jc))},e}(Dc),Uc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return Object(r["b"])(e,t),e.prototype._apply=function(t){var e=Bc(t,this.type,this.Yc,this.Xc);return new Pa(t.firestore,t.converter,function(t,e){return new Ct(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Dc),Vc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return Object(r["b"])(e,t),e.prototype._apply=function(t){var e=Bc(t,this.type,this.Yc,this.Xc);return new Pa(t.firestore,t.converter,function(t,e){return new Ct(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Dc);function Bc(t,e,n,r){if(n[0]=Object(i["getModularInstance"])(n[0]),n[0]instanceof Oc)return function(t,e,n,r,i){if(!r)throw new u(c.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Lt(t);s<a.length;s++){var l=a[s];if(l.field.isKeyField())o.push(Z(e,r.key));else{var h=r.data.field(l.field);if(U(h))throw new u(c.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+l.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===h){var f=l.field.canonicalString();throw new u(c.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+f+"' (used as the orderBy) does not exist.")}o.push(h)}}return new Et(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var o=ic(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new u(c.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],l=0;l<i.length;l++){var h=i[l];if(s[l].field.isKeyField()){if("string"!=typeof h)throw new u(c.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof h);if(!Mt(t)&&-1!==h.indexOf("/"))throw new u(c.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+h+"' contains a slash.");var f=t.path.child(A.fromString(h));if(!H.isDocumentKey(f))throw new u(c.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+f+"' is not because it contains an odd number of segments.");var d=new H(f);a.push(Z(e,d))}else{var p=pc(n,r,h);a.push(p)}}return new Et(a,o)}(t._query,t.firestore._databaseId,o,e,n,r)}function qc(t,e,n){if("string"==typeof(n=Object(i["getModularInstance"])(n))){if(""===n)throw new u(c.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mt(e)&&-1!==n.indexOf("/"))throw new u(c.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(A.fromString(n));if(!H.isDocumentKey(r))throw new u(c.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Z(t,new H(r))}if(n instanceof Na)return Z(t,n._key);throw new u(c.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ka(n)+".")}function zc(t,e){if(!Array.isArray(t)||0===t.length)throw new u(c.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new u(c.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Wc(t,e,n){if(!n.isEqual(e))throw new u(c.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hc=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),K(t)){case 0:return null;case 1:return t.booleanValue;case 2:return L(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(F(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw m()}},t.prototype.convertObject=function(t,e){var n=this,r={};return k(t.fields,(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new Xa(L(t.latitude),L(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=V(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(B(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=M(t);return new O(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=A.fromString(t);v(Nn(n));var r=new pa(n.get(1),n.get(3)),i=new H(n.popFirst(5));return r.isEqual(e)||d("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Gc=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(r["b"])(e,t),e.prototype.convertBytes=function(t){return new Ya(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Na(this.firestore,null,e)},e}(Hc),$c=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=ic(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Yc(t,this._firestore),i=Kc(r.converter,e,n),o=oc(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,ue.none())),this},t.prototype.update=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];this._verifyNotCommitted();var s,a=Yc(t,this._firestore);return s="string"==typeof(e=Object(i["getModularInstance"])(e))||e instanceof $a?dc(this._dataReader,"WriteBatch.update",a._key,e,n,r):fc(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(s.toMutation(a._key,ue.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Yc(t,this._firestore);return this._mutations=this._mutations.concat(new Oe(e._key,ue.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new u(c.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(t,e){if((t=Object(i["getModularInstance"])(t)).firestore!==e)throw new u(c.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qc=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(r["b"])(e,t),e.prototype.convertBytes=function(t){return new Ya(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Na(this.firestore,null,e)},e}(Hc);function Xc(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];t=Sa(t,Na);var s=Sa(t.firestore,za),a=ic(s);return Zc(s,[("string"==typeof(e=Object(i["getModularInstance"])(e))||e instanceof $a?dc(a,"updateDoc",t._key,e,n,r):fc(a,"updateDoc",t._key,e)).toMutation(t._key,ue.exists(!0))])}function Jc(t){for(var e,n,o,s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];t=Object(i["getModularInstance"])(t);var c={includeMetadataChanges:!1},u=0;"object"!=typeof s[u]||Va(s[u])||(c=s[u],u++);var l,h,f,d={includeMetadataChanges:c.includeMetadataChanges};if(Va(s[u])){var p=s[u];s[u]=null===(e=p.next)||void 0===e?void 0:e.bind(p),s[u+1]=null===(n=p.error)||void 0===n?void 0:n.bind(p),s[u+2]=null===(o=p.complete)||void 0===o?void 0:o.bind(p)}if(t instanceof Na)h=Sa(t.firestore,za),f=jt(t._key.path),l={next:function(e){s[u]&&s[u](tu(h,t,e))},error:s[u+1],complete:s[u+2]};else{var g=Sa(t,Pa);h=Sa(g.firestore,za),f=g._query;var m=new Qc(h);l={next:function(t){s[u]&&s[u](new Ac(h,m,g,t))},error:s[u+1],complete:s[u+2]},Pc(t._query)}return function(t,e,n,i){var o=this,s=new Xs(i),a=new rs(e,s,n);return t.asyncQueue.enqueueAndForget((function(){return Object(r["a"])(o,void 0,void 0,(function(){var e;return Object(r["c"])(this,(function(n){switch(n.label){case 0:return e=Jo,[4,la(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))})),function(){s.Wo(),t.asyncQueue.enqueueAndForget((function(){return Object(r["a"])(o,void 0,void 0,(function(){var e;return Object(r["c"])(this,(function(n){switch(n.label){case 0:return e=Zo,[4,la(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))}))}}(Wa(h),f,d,l)}function Zc(t,e){return function(t,e){var n=this,i=new nr;return t.asyncQueue.enqueueAndForget((function(){return Object(r["a"])(n,void 0,void 0,(function(){var n;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return n=vs,[4,ua(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}}))}))})),i.promise}(Wa(t),e)}function tu(t,e,n){var r=n.docs.get(e._key),i=new Qc(t);return new Sc(t,i,e._key,r,new kc(n.hasPendingWrites,n.fromCache),e.converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eu=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(r["b"])(e,t),e.prototype.get=function(e){var n=this,r=Yc(e,this._firestore),i=new Qc(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new Sc(n._firestore,i,r._key,t._document,new kc(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=ic(t)}return t.prototype.get=function(t){var e=this,n=Yc(t,this._firestore),r=new Gc(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return m();var i=t[0];if(i.isFoundDocument())return new Oc(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Oc(e._firestore,r,n._key,null,n.converter);throw m()}))},t.prototype.set=function(t,e,n){var r=Yc(t,this._firestore),i=Kc(r.converter,e,n),o=oc(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var s,a=Yc(t,this._firestore);return s="string"==typeof(e=Object(i["getModularInstance"])(e))||e instanceof $a?dc(this._dataReader,"Transaction.update",a._key,e,n,r):fc(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,s),this},t.prototype.delete=function(t){var e=Yc(t,this._firestore);return this._transaction.delete(e._key),this},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(){if("undefined"==typeof Uint8Array)throw new u(c.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ru(){if("undefined"==typeof atob)throw new u(c.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var iu=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return ru(),new t(Ya.fromBase64String(e))},t.fromUint8Array=function(e){return nu(),new t(Ya.fromUint8Array(e))},t.prototype.toBase64=function(){return ru(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return nu(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),ou=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Ga(t=Sa(t,za));var n=Wa(t),r=t._freezeSettings(),i=new Ys;return Ka(n,i,new Gs(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Ga(t=Sa(t,za));var e=Wa(t),n=t._freezeSettings(),r=new Ys;return Ka(e,r,new $s(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new u(c.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new nr;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return Object(r["a"])(e,void 0,void 0,(function(){var e;return Object(r["c"])(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(t){return Object(r["a"])(this,void 0,void 0,(function(){var e;return Object(r["c"])(this,(function(n){switch(n.label){case 0:return or.yt()?(e=t+"main",[4,or.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(mi(t._databaseId,t._persistenceKey))];case 1:return i.sent(),n.resolve(),[3,3];case 2:return e=i.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),su=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof pa||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||p("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){var o;void 0===r&&(r={});var s=(t=Sa(t,ja))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&p("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:e+":"+n,ssl:!1})),r.mockUserToken){var a,l;if("string"==typeof r.mockUserToken)a=r.mockUserToken,l=Gi.MOCK_USER;else{a=Object(i["createMockUserToken"])(r.mockUserToken,null===(o=t._app)||void 0===o?void 0:o.options.projectId);var h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new u(c.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Gi(h)}t._credentials=new ya(new ma(a,l))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Object(r["a"])(e,void 0,void 0,(function(){var e,n;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return[4,sa(t)];case 1:return e=r.sent(),[4,ca(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=y(t);return e.Or.delete(0),_o(e)}(n))]}}))}))}))}(Wa(Sa(this._delegate,za)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Object(r["a"])(e,void 0,void 0,(function(){var e,n;return Object(r["c"])(this,(function(i){switch(i.label){case 0:return[4,sa(t)];case 1:return e=i.sent(),[4,ca(t)];case 2:return n=i.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(r["a"])(this,void 0,void 0,(function(){var e;return Object(r["c"])(this,(function(n){switch(n.label){case 0:return(e=y(t)).Or.add(0),[4,wo(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Wa(Sa(this._delegate,za)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Oa("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new nr;return t.asyncQueue.enqueueAndForget((function(){return Object(r["a"])(e,void 0,void 0,(function(){var e;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return e=Es,[4,ua(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Wa(Sa(this._delegate,za)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,i=new Xs(e);return t.asyncQueue.enqueueAndForget((function(){return Object(r["a"])(n,void 0,void 0,(function(){var e;return Object(r["c"])(this,(function(n){switch(n.label){case 0:return e=function(t,e){y(t).Gr.add(e),e.next()},[4,la(t)];case 1:return[2,e.apply(void 0,[n.sent(),i])]}}))}))})),function(){i.Wo(),t.asyncQueue.enqueueAndForget((function(){return Object(r["a"])(n,void 0,void 0,(function(){var e;return Object(r["c"])(this,(function(n){switch(n.label){case 0:return e=function(t,e){y(t).Gr.delete(e)},[4,la(t)];case 1:return[2,e.apply(void 0,[n.sent(),i])]}}))}))}))}}(Wa(t=Sa(t,za)),Va(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new u(c.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new wu(this,Ra(this._delegate,t))}catch(t){throw du(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new fu(this,Ma(this._delegate,t))}catch(t){throw du(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new yu(this,function(t,e){if(t=Sa(t,ja),xa("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new u(c.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Pa(t,null,function(t){return new Ct(A.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw du(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,i=new nr;return t.asyncQueue.enqueueAndForget((function(){return Object(r["a"])(n,void 0,void 0,(function(){var n;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return[4,function(t){return oa(t).then((function(t){return t.datastore}))}(t)];case 1:return n=r.sent(),new ta(t.asyncQueue,n,e,i).run(),[2]}}))}))})),i.promise}(Wa(t),(function(n){return e(new eu(t,n))}))}(this._delegate,(function(n){return t(new uu(e,n))}))},t.prototype.batch=function(){var t=this;return Wa(this._delegate),new lu(new $c(this._delegate,(function(e){return Zc(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new u(c.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new u(c.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),au=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(r["b"])(e,t),e.prototype.convertBytes=function(t){return new iu(new Ya(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return fu.eu(e,this.firestore,null)},e}(Hc);function cu(t){var e;e=t,l.setLogLevel(e)}var uu=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new au(t)}return t.prototype.get=function(t){var e=this,n=xu(t);return this._delegate.get(n).then((function(t){return new mu(e._firestore,new Sc(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=xu(t);return n?(Ea("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a=xu(t);return 2===arguments.length?this._delegate.update(a,e):(i=this._delegate).update.apply(i,Object(r["d"])([a,e,n],o)),this},t.prototype.delete=function(t){var e=xu(t);return this._delegate.delete(e),this},t}(),lu=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=xu(t);return n?(Ea("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a=xu(t);return 2===arguments.length?this._delegate.update(a,e):(i=this._delegate).update.apply(i,Object(r["d"])([a,e,n],o)),this},t.prototype.delete=function(t){var e=xu(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),hu=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Cc(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new vu(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new au(e),n),i.set(n,o)),o},t}();hu.su=new WeakMap;var fu=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new au(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new u(c.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Na(n._delegate,r,new H(e)))},t.eu=function(e,n,r){return new t(n,new Na(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new wu(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new wu(this.firestore,Ra(this._delegate,t))}catch(t){throw du(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(i["getModularInstance"])(t))instanceof Na&&La(this._delegate,t)},t.prototype.set=function(t,e){e=Ea("DocumentReference.set",e);try{return function(t,e,n){t=Sa(t,Na);var r=Sa(t.firestore,za),i=Kc(t.converter,e,n);return Zc(r,[oc(ic(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,ue.none())])}(this._delegate,t,e)}catch(t){throw du(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];try{return 1===arguments.length?Xc(this._delegate,t):Xc.apply(void 0,Object(r["d"])([this._delegate,t,e],n))}catch(t){throw du(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Zc(Sa((t=this._delegate).firestore,za),[new Oe(t._key,ue.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=pu(e),i=gu(e,(function(e){return new mu(t.firestore,new Sc(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return Jc(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Sa(t,Na);var e=Sa(t.firestore,za),n=Wa(e),i=new Qc(e);return function(t,e){var n=this,i=new nr;return t.asyncQueue.enqueueAndForget((function(){return Object(r["a"])(n,void 0,void 0,(function(){var n;return Object(r["c"])(this,(function(o){switch(o.label){case 0:return n=function(t,e,n){return Object(r["a"])(this,void 0,void 0,(function(){var i,o;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t,e){var n=y(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(o=r.sent()).isFoundDocument()?n.resolve(o):o.isNoDocument()?n.resolve(null):n.reject(new u(c.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=r.sent(),o=Ko(i,"Failed to get document '"+e+" from cache"),n.reject(o),[3,3];case 3:return[2]}}))}))},[4,aa(t)];case 1:return[2,n.apply(void 0,[o.sent(),e,i])]}}))}))})),i.promise}(n,t._key).then((function(n){return new Sc(e,i,t._key,n,new kc(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Sa(t,Na);var e=Sa(t.firestore,za);return ha(Wa(e),t._key,{source:"server"}).then((function(n){return tu(e,t,n)}))}(this._delegate):function(t){t=Sa(t,Na);var e=Sa(t.firestore,za);return ha(Wa(e),t._key).then((function(n){return tu(e,t,n)}))}(this._delegate)).then((function(t){return new mu(e.firestore,new Sc(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(hu.nu(this.firestore,e)):this._delegate.withConverter(null))},t}();function du(t,e,n){return t.message=t.message.replace(e,n),t}function pu(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Va(r))return r}return{}}function gu(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Va(t[0])?t[0]:Va(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var mu=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new fu(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Nc(this._delegate,t._delegate)},t}(),vu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["b"])(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(mu),yu=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new au(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Rc(this._delegate,function(t,e,n){var r=e,i=Ic("where",t);return new Mc(i,r,n)}(e,n,r)))}catch(e){throw du(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Rc(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Ic("orderBy",t);return new Lc(r,n)}(e,n)))}catch(e){throw du(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Rc(this._delegate,function(t){return Ca("limit",t),new Fc("limit",t,"F")}(e)))}catch(e){throw du(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Rc(this._delegate,function(t){return Ca("limitToLast",t),new Fc("limitToLast",t,"L")}(e)))}catch(e){throw du(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Rc(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Uc("startAt",t,!0)}.apply(void 0,e)))}catch(e){throw du(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Rc(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Uc("startAfter",t,!1)}.apply(void 0,e)))}catch(e){throw du(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Rc(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Vc("endBefore",t,!0)}.apply(void 0,e)))}catch(e){throw du(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Rc(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Vc("endAt",t,!1)}.apply(void 0,e)))}catch(e){throw du(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Fa(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Sa(t,Pa);var e=Sa(t.firestore,za),n=Wa(e),i=new Qc(e);return function(t,e){var n=this,i=new nr;return t.asyncQueue.enqueueAndForget((function(){return Object(r["a"])(n,void 0,void 0,(function(){var n;return Object(r["c"])(this,(function(o){switch(o.label){case 0:return n=function(t,e,n){return Object(r["a"])(this,void 0,void 0,(function(){var i,o,s,a,c;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,ji(t,e,!0)];case 1:return c=r.sent(),i=new ls(e,c.Bn),o=i._o(c.documents),s=i.applyChanges(o,!1),n.resolve(s.snapshot),[3,3];case 2:return a=r.sent(),c=Ko(a,"Failed to execute query '"+e+" against cache"),n.reject(c),[3,3];case 3:return[2]}}))}))},[4,aa(t)];case 1:return[2,n.apply(void 0,[o.sent(),e,i])]}}))}))})),i.promise}(n,t._query).then((function(n){return new Ac(e,i,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Sa(t,Pa);var e=Sa(t.firestore,za),n=Wa(e),r=new Qc(e);return fa(n,t._query,{source:"server"}).then((function(n){return new Ac(e,r,t,n)}))}(this._delegate):function(t){t=Sa(t,Pa);var e=Sa(t.firestore,za),n=Wa(e),r=new Qc(e);return Pc(t._query),fa(n,t._query).then((function(n){return new Ac(e,r,t,n)}))}(this._delegate)).then((function(t){return new _u(e.firestore,new Ac(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=pu(e),i=gu(e,(function(e){return new _u(t.firestore,new Ac(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return Jc(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(hu.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(),bu=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new vu(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),_u=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new yu(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new vu(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new bu(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new vu(n._firestore,r))}))},t.prototype.isEqual=function(t){return Nc(this._delegate,t._delegate)},t}(),wu=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(r["b"])(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new fu(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new fu(this.firestore,void 0===t?Ma(this._delegate):Ma(this._delegate,t))}catch(t){throw du(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Sa(t.firestore,za),r=Ma(t),i=Kc(t.converter,e);return Zc(n,[oc(ic(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,ue.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new fu(e.firestore,t)}))},e.prototype.isEqual=function(t){return La(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(hu.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(yu);function xu(t){return Sa(t,Na)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eu=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new($a.bind.apply($a,Object(r["d"])([void 0],t)))}return t.documentId=function(){return new t(N.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(i["getModularInstance"])(t))instanceof $a&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Ou=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new cc("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new sc("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new uc("arrayUnion",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new lc("arrayRemove",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new hc("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(t){return function(t,e){var n=Wa(t=Sa(t,za)),i=new Ba;return function(t,e,n,i){var o=this,s=function(t,e){return function(t,e){return new Js(t,e)}(function(t,e){if(t instanceof Uint8Array)return Qs(t,e);if(t instanceof ArrayBuffer)return Qs(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof t?(new TextEncoder).encode(t):t),e)}(n,ho(e));t.asyncQueue.enqueueAndForget((function(){return Object(r["a"])(o,void 0,void 0,(function(){var e;return Object(r["c"])(this,(function(n){switch(n.label){case 0:return e=Hs,[4,ua(t)];case 1:return e.apply(void 0,[n.sent(),s,i]),[2]}}))}))}))}(n,t._databaseId,e,i),i}(this._delegate,t)}function Iu(t){var e,n,i=this;return(e=this._delegate,n=t,function(t,e){var n=this;return t.asyncQueue.enqueue((function(){return Object(r["a"])(n,void 0,void 0,(function(){var n;return Object(r["c"])(this,(function(r){switch(r.label){case 0:return n=function(t,e){var n=y(t);return n.persistence.runTransaction("Get named query","readonly",(function(t){return n.Ke.getNamedQuery(t,e)}))},[4,aa(t)];case 1:return[2,n.apply(void 0,[r.sent(),e])]}}))}))}))}(Wa(e=Sa(e,za)),n).then((function(t){return t?new Pa(e,null,t.query):null}))).then((function(t){return t?new yu(i,t):null}))}}).call(this,n("4362"))},a79d:function(t,e,n){"use strict";var r=n("23e7"),i=n("c430"),o=n("fea9"),s=n("d039"),a=n("d066"),c=n("4840"),u=n("cdf9"),l=n("6eeb"),h=!!o&&s((function(){o.prototype["finally"].call({then:function(){}},(function(){}))}));if(r({target:"Promise",proto:!0,real:!0,forced:h},{finally:function(t){var e=c(this,a("Promise")),n="function"==typeof t;return this.then(n?function(n){return u(e,t()).then((function(){return n}))}:t,n?function(n){return u(e,t()).then((function(){throw n}))}:t)}}),!i&&"function"==typeof o){var f=a("Promise").prototype["finally"];o.prototype["finally"]!==f&&l(o.prototype,"finally",f,{unsafe:!0})}},a8e9:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"CONSTANTS",(function(){return i})),n.d(e,"Deferred",(function(){return m})),n.d(e,"ErrorFactory",(function(){return R})),n.d(e,"FirebaseError",(function(){return D})),n.d(e,"MAX_VALUE_MILLIS",(function(){return gt})),n.d(e,"RANDOM_FACTOR",(function(){return mt})),n.d(e,"Sha1",(function(){return tt})),n.d(e,"areCookiesEnabled",(function(){return j})),n.d(e,"assert",(function(){return o})),n.d(e,"assertionError",(function(){return s})),n.d(e,"async",(function(){return rt})),n.d(e,"base64",(function(){return u})),n.d(e,"base64Decode",(function(){return f})),n.d(e,"base64Encode",(function(){return l})),n.d(e,"base64urlEncodeWithoutPadding",(function(){return h})),n.d(e,"calculateBackoffMillis",(function(){return vt})),n.d(e,"contains",(function(){return H})),n.d(e,"createMockUserToken",(function(){return v})),n.d(e,"createSubscribe",(function(){return et})),n.d(e,"decode",(function(){return V})),n.d(e,"deepCopy",(function(){return d})),n.d(e,"deepEqual",(function(){return Y})),n.d(e,"deepExtend",(function(){return p})),n.d(e,"errorPrefix",(function(){return at})),n.d(e,"extractQuerystring",(function(){return Z})),n.d(e,"getGlobal",(function(){return N})),n.d(e,"getModularInstance",(function(){return _t})),n.d(e,"getUA",(function(){return y})),n.d(e,"isAdmin",(function(){return W})),n.d(e,"isBrowser",(function(){return w})),n.d(e,"isBrowserExtension",(function(){return x})),n.d(e,"isElectron",(function(){return O})),n.d(e,"isEmpty",(function(){return G})),n.d(e,"isIE",(function(){return T})),n.d(e,"isIndexedDBAvailable",(function(){return C})),n.d(e,"isMobileCordova",(function(){return b})),n.d(e,"isNode",(function(){return _})),n.d(e,"isNodeSdk",(function(){return k})),n.d(e,"isReactNative",(function(){return E})),n.d(e,"isSafari",(function(){return S})),n.d(e,"isUWP",(function(){return I})),n.d(e,"isValidFormat",(function(){return z})),n.d(e,"isValidTimestamp",(function(){return B})),n.d(e,"issuedAtTime",(function(){return q})),n.d(e,"jsonEval",(function(){return F})),n.d(e,"map",(function(){return $})),n.d(e,"ordinal",(function(){return yt})),n.d(e,"querystring",(function(){return X})),n.d(e,"querystringDecode",(function(){return J})),n.d(e,"safeGet",(function(){return K})),n.d(e,"stringLength",(function(){return ft})),n.d(e,"stringToByteArray",(function(){return ht})),n.d(e,"stringify",(function(){return U})),n.d(e,"validateArgCount",(function(){return st})),n.d(e,"validateCallback",(function(){return ut})),n.d(e,"validateContextObject",(function(){return lt})),n.d(e,"validateIndexedDBOpenable",(function(){return A})),n.d(e,"validateNamespace",(function(){return ct}));var r=n("fbb0"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},c=function(t){var e=[],n=0,r=0;while(n<t.length){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){o=t[n++];var s=t[n++],a=t[n++],c=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&a)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=o>>2,h=(3&o)<<4|a>>4,f=(15&a)<<2|u>>6,d=63&u;c||(d=64,s||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):c(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length,a=s?n[t.charAt(i)]:0;++i;var c=i<t.length,u=c?n[t.charAt(i)]:64;++i;var l=i<t.length,h=l?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==h)throw Error();var f=o<<2|a>>4;if(r.push(f),64!==u){var d=a<<4&240|u>>2;if(r.push(d),64!==h){var p=u<<6&192|h;r.push(p)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},l=function(t){var e=a(t);return u.encodeByteArray(e,!0)},h=function(t){return l(t).replace(/\./g,"")},f=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function d(t){return p(void 0,t)}function p(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)e.hasOwnProperty(r)&&g(r)&&(t[r]=p(t[r],e[r]));return t}function g(t){return"__proto__"!==t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"===typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r["a"])({iss:"https://securetoken.google.com/"+i,aud:i,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),c="";return[h(JSON.stringify(n)),h(JSON.stringify(a)),c].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function b(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())}function _(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(e){return!1}}function w(){return"object"===typeof self&&self.self===self}function x(){var t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function E(){return"object"===typeof navigator&&"ReactNative"===navigator["product"]}function O(){return y().indexOf("Electron/")>=0}function T(){var t=y();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function I(){return y().indexOf("MSAppHost/")>=0}function k(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}function S(){return!_()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C(){return"indexedDB"in self&&null!=indexedDB}function A(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))}function j(){return!(!navigator||!navigator.cookieEnabled)}function N(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof t)return t;throw new Error("Unable to locate global object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P="FirebaseError",D=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name=P,Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,R.prototype.create),o}return Object(r["b"])(e,t),e}(Error),R=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?M(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",c=new D(i,a,r);return c},t}();function M(t,e){return t.replace(L,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var L=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F(t){return JSON.parse(t)}function U(t){return JSON.stringify(t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=F(f(o[0])||""),n=F(f(o[1])||""),i=o[2],r=n["d"]||{},delete n["d"]}catch(s){}return{header:e,claims:n,data:r,signature:i}},B=function(t){var e=V(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"===typeof e&&(e.hasOwnProperty("nbf")?r=e["nbf"]:e.hasOwnProperty("iat")&&(r=e["iat"]),i=e.hasOwnProperty("exp")?e["exp"]:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},q=function(t){var e=V(t).claims;return"object"===typeof e&&e.hasOwnProperty("iat")?e["iat"]:null},z=function(t){var e=V(t),n=e.claims;return!!n&&"object"===typeof n&&n.hasOwnProperty("iat")},W=function(t){var e=V(t).claims;return"object"===typeof e&&!0===e["admin"]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function H(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function K(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function G(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Y(t,e){if(t===e)return!0;for(var n=Object.keys(t),r=Object.keys(e),i=0,o=n;i<o.length;i++){var s=o[i];if(!r.includes(s))return!1;var a=t[s],c=e[s];if(Q(a)&&Q(c)){if(!Y(a,c))return!1}else if(a!==c)return!1}for(var u=0,l=r;u<l.length;u++){s=l[u];if(!n.includes(s))return!1}return!0}function Q(t){return null!==t&&"object"===typeof t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r],s=o[0],a=o[1];n(s,a)}return e.length?"&"+e.join("&"):""}function J(t){var e={},n=t.replace(/^\?/,"").split("&");return n.forEach((function(t){if(t){var n=t.split("="),r=n[0],i=n[1];e[decodeURIComponent(r)]=decodeURIComponent(i)}})),e}function Z(t){var e=t.indexOf("?");if(!e)return"";var n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"===typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],c=this.chain_[1],u=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^c&(u^l),s=1518500249):(o=c^u^l,s=1859775393):r<60?(o=c&u|l&(c|u),s=2400959708):(o=c^u^l,s=3395469782);i=(a<<5|a>>>27)+o+h+s+n[r]&4294967295;h=l,l=u,u=4294967295&(c<<30|c>>>2),c=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;while(r<e){if(0===o)while(r<=n)this.compress_(t,r),r+=this.blockSize;if("string"===typeof t){while(r<e)if(i[o]=t.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else while(r<e)if(i[o]=t[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function et(t,e){var n=new nt(t,e);return n.subscribe.bind(n)}var nt=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=it(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=ot),void 0===r.error&&(r.error=ot),void 0===r.complete&&(r.complete=ot);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function rt(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}}function it(t,e){if("object"!==typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"===typeof t[i])return!0}return!1}function ot(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i){var o=t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}};function at(t,e){return t+" failed: "+e+" argument "}function ct(t,e,n){if((!n||e)&&"string"!==typeof e)throw new Error(at(t,"namespace")+"must be a valid firebase namespace.")}function ut(t,e,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(at(t,e)+"must be a valid function.")}function lt(t,e,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(at(t,e)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate.");var a=t.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},ft=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},dt=1e3,pt=2,gt=144e5,mt=.5;function vt(t,e,n){void 0===e&&(e=dt),void 0===n&&(n=pt);var r=e*Math.pow(n,t),i=Math.round(mt*r*(Math.random()-.5)*2);return Math.min(gt,r+i)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t){return Number.isFinite(t)?t+bt(t):""+t}function bt(t){t=Math.abs(t);var e=t%100;if(e>=10&&e<=20)return"th";var n=t%10;return 1===n?"st":2===n?"nd":3===n?"rd":"th"}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t){return t&&t._delegate?t._delegate:t}}.call(this,n("c8ba"))},a9e3:function(t,e,n){"use strict";var r=n("83ab"),i=n("da84"),o=n("94ca"),s=n("6eeb"),a=n("5135"),c=n("c6b6"),u=n("7156"),l=n("d9b5"),h=n("c04e"),f=n("d039"),d=n("7c73"),p=n("241c").f,g=n("06cf").f,m=n("9bf2").f,v=n("58a8").trim,y="Number",b=i[y],_=b.prototype,w=c(d(_))==y,x=function(t){if(l(t))throw TypeError("Cannot convert a Symbol value to a number");var e,n,r,i,o,s,a,c,u=h(t,"number");if("string"==typeof u&&u.length>2)if(u=v(u),e=u.charCodeAt(0),43===e||45===e){if(n=u.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+u}for(o=u.slice(2),s=o.length,a=0;a<s;a++)if(c=o.charCodeAt(a),c<48||c>i)return NaN;return parseInt(o,r)}return+u};if(o(y,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var E,O=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof O&&(w?f((function(){_.valueOf.call(n)})):c(n)!=y)?u(new b(x(e)),n,O):x(e)},T=r?p(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),I=0;T.length>I;I++)a(b,E=T[I])&&!a(O,E)&&m(O,E,g(b,E));O.prototype=_,_.constructor=O,s(i,y,O)}},ab8b:function(t,e,n){},abc5:function(t,e,n){"use strict";(function(t){function r(){return i().__VUE_DEVTOOLS_GLOBAL_HOOK__}function i(){return"undefined"!==typeof navigator?window:"undefined"!==typeof t?t:{}}n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}))}).call(this,n("c8ba"))},abfd:function(t,e,n){"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i;n.r(e),n.d(e,"LogLevel",(function(){return o})),n.d(e,"Logger",(function(){return h})),n.d(e,"setLogLevel",(function(){return f})),n.d(e,"setUserLogHandler",(function(){return d}));var o,s=[];(function(t){t[t["DEBUG"]=0]="DEBUG",t[t["VERBOSE"]=1]="VERBOSE",t[t["INFO"]=2]="INFO",t[t["WARN"]=3]="WARN",t[t["ERROR"]=4]="ERROR",t[t["SILENT"]=5]="SILENT"})(o||(o={}));var a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},c=o.INFO,u=(i={},i[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=u[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"===typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){s.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map((function(t){if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!==r&&void 0!==r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++){var c=i[r];n(c)}}},ac1f:function(t,e,n){"use strict";var r=n("23e7"),i=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad3d:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return w}));var r=n("7a23"),i=n("ecee"),o="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{};function s(t,e){return e={exports:{}},t(e,e.exports),e.exports}var a=s((function(t){(function(e){var n=function(t,e,r){if(!u(e)||h(e)||f(e)||d(e)||c(e))return e;var i,o=0,s=0;if(l(e))for(i=[],s=e.length;o<s;o++)i.push(n(t,e[o],r));else for(var a in i={},e)Object.prototype.hasOwnProperty.call(e,a)&&(i[t(a,r)]=n(t,e[a],r));return i},r=function(t,e){e=e||{};var n=e.separator||"_",r=e.split||/(?=[A-Z])/;return t.split(r).join(n)},i=function(t){return p(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,(function(t,e){return e?e.toUpperCase():""})),t.substr(0,1).toLowerCase()+t.substr(1))},o=function(t){var e=i(t);return e.substr(0,1).toUpperCase()+e.substr(1)},s=function(t,e){return r(t,e).toLowerCase()},a=Object.prototype.toString,c=function(t){return"function"===typeof t},u=function(t){return t===Object(t)},l=function(t){return"[object Array]"==a.call(t)},h=function(t){return"[object Date]"==a.call(t)},f=function(t){return"[object RegExp]"==a.call(t)},d=function(t){return"[object Boolean]"==a.call(t)},p=function(t){return t-=0,t===t},g=function(t,e){var n=e&&"process"in e?e.process:e;return"function"!==typeof n?t:function(e,r){return n(e,t,r)}},m={camelize:i,decamelize:s,pascalize:o,depascalize:s,camelizeKeys:function(t,e){return n(g(i,e),t)},decamelizeKeys:function(t,e){return n(g(s,e),t,e)},pascalizeKeys:function(t,e){return n(g(o,e),t)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};t.exports?t.exports=m:e.humps=m})(o)})),c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},f=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)};function d(t){return t.split(";").map((function(t){return t.trim()})).filter((function(t){return t})).reduce((function(t,e){var n=e.indexOf(":"),r=a.camelize(e.slice(0,n)),i=e.slice(n+1).trim();return t[r]=i,t}),{})}function p(t){return t.split(/\s+/).reduce((function(t,e){return t[e]=!0,t}),{})}function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof t)return t;var i=(t.children||[]).map((function(t){return g(t)})),o=Object.keys(t.attributes||{}).reduce((function(e,n){var r=t.attributes[n];switch(n){case"class":e.class=p(r);break;case"style":e.style=d(r);break;default:e.attrs[n]=r}return e}),{attrs:{},class:{},style:{}}),s=(n.class,n.style),a=void 0===s?{}:s,c=h(n,["class","style"]);return Object(r["m"])(t.tag,l({},e,{class:o.class,style:l({},o.style,a)},o.attrs,c),i)}var m=!1;try{m=!0}catch(x){}function v(){var t;!m&&console&&"function"===typeof console.error&&(t=console).error.apply(t,arguments)}function y(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?u({},t,e):{}}function b(t){var e,n=(e={"fa-spin":t.spin,"fa-pulse":t.pulse,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-li":t.listItem,"fa-inverse":t.inverse,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip},u(e,"fa-"+t.size,null!==t.size),u(e,"fa-rotate-"+t.rotation,null!==t.rotation),u(e,"fa-pull-"+t.pull,null!==t.pull),u(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(n).map((function(t){return n[t]?t:null})).filter((function(t){return t}))}function _(t){return null===t?null:"object"===("undefined"===typeof t?"undefined":c(t))&&t.prefix&&t.iconName?t:Array.isArray(t)&&2===t.length?{prefix:t[0],iconName:t[1]}:"string"===typeof t?{prefix:"fas",iconName:t}:void 0}var w=Object(r["k"])({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:String,default:null,validator:function(t){return["horizontal","vertical","both"].indexOf(t)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(t){return["right","left"].indexOf(t)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(t){return[90,180,270].indexOf(Number.parseInt(t,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(t){return["lg","xs","sm","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(t)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},inverse:{type:Boolean,default:!1}},setup:function(t,e){var n=e.attrs,o=Object(r["b"])((function(){return _(t.icon)})),s=Object(r["b"])((function(){return y("classes",b(t))})),a=Object(r["b"])((function(){return y("transform","string"===typeof t.transform?i["d"].transform(t.transform):t.transform)})),c=Object(r["b"])((function(){return y("mask",_(t.mask))})),u=Object(r["b"])((function(){return Object(i["b"])(o.value,l({},s.value,a.value,c.value,{symbol:t.symbol,title:t.title}))}));Object(r["I"])(u,(function(t){if(!t)return v("Could not find one or more icon(s)",o.value,c.value)}),{immediate:!0});var h=Object(r["b"])((function(){return u.value?g(u.value.abstract[0],{},n):null}));return function(){return h.value}}});Object(r["k"])({name:"FontAwesomeLayers",props:{fixedWidth:{type:Boolean,default:!1}},setup:function(t,e){var n=e.slots,o=i["a"].familyPrefix,s=Object(r["b"])((function(){return[o+"-layers"].concat(f(t.fixedWidth?[o+"-fw"]:[]))}));return function(){return Object(r["m"])("div",{class:s.value},n.default?n.default():[])}}}),Object(r["k"])({name:"FontAwesomeLayersText",props:{value:{type:[String,Number],default:""},transform:{type:[String,Object],default:null},counter:{type:Boolean,default:!1},position:{type:String,default:null,validator:function(t){return["bottom-left","bottom-right","top-left","top-right"].indexOf(t)>-1}}},setup:function(t,e){var n=e.attrs,o=i["a"].familyPrefix,s=Object(r["b"])((function(){return y("classes",[].concat(f(t.counter?[o+"-layers-counter"]:[]),f(t.position?[o+"-layers-"+t.position]:[])))})),a=Object(r["b"])((function(){return y("transform","string"===typeof t.transform?i["d"].transform(t.transform):t.transform)})),c=Object(r["b"])((function(){var e=Object(i["e"])(t.value.toString(),l({},a.value,s.value)),n=e.abstract;return t.counter&&(n[0].attributes.class=n[0].attributes.class.replace("fa-layers-text","")),n[0]})),u=Object(r["b"])((function(){return g(c.value,{},n)}));return function(){return u.value}}})}).call(this,n("c8ba"))},ad6d:function(t,e,n){"use strict";var r=n("825a");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},ad6e:function(t,e,n){"use strict";var r=n("1fc0"),i={passive:!0};function o(t){var e=t.state,n=t.instance,o=t.options,s=o.scroll,a=void 0===s||s,c=o.resize,u=void 0===c||c,l=Object(r["a"])(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&h.forEach((function(t){t.addEventListener("scroll",n.update,i)})),u&&l.addEventListener("resize",n.update,i),function(){a&&h.forEach((function(t){t.removeEventListener("scroll",n.update,i)})),u&&l.removeEventListener("resize",n.update,i)}}e["a"]={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:o,data:{}}},ad9d:function(t,e,n){"use strict";function r(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}n.d(e,"a",(function(){return r}))},addb:function(t,e){var n=Math.floor,r=function(t,e){var s=t.length,a=n(s/2);return s<8?i(t,e):o(r(t.slice(0,a),e),r(t.slice(a),e),e)},i=function(t,e){var n,r,i=t.length,o=1;while(o<i){r=o,n=t[o];while(r&&e(t[r-1],n)>0)t[r]=t[--r];r!==o++&&(t[r]=n)}return t},o=function(t,e,n){var r=t.length,i=e.length,o=0,s=0,a=[];while(o<r||s<i)o<r&&s<i?a.push(n(t[o],e[s])<=0?t[o++]:e[s++]):a.push(o<r?t[o++]:e[s++]);return a};t.exports=r},ade3:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return r}))},ae6c:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("b519");function i(t){var e=Object(r["a"])(t),n=e.overflow,i=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+i)}},ae93:function(t,e,n){"use strict";var r,i,o,s=n("d039"),a=n("e163"),c=n("9112"),u=n("5135"),l=n("b622"),h=n("c430"),f=l("iterator"),d=!1,p=function(){return this};[].keys&&(o=[].keys(),"next"in o?(i=a(a(o)),i!==Object.prototype&&(r=i)):d=!0);var g=void 0==r||s((function(){var t={};return r[f].call(t)!==t}));g&&(r={}),h&&!g||u(r,f)||c(r,f,p),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}},af03:function(t,e,n){var r=n("d039");t.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},b041:function(t,e,n){"use strict";var r=n("00ee"),i=n("f5df");t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},b0c0:function(t,e,n){var r=n("83ab"),i=n("9bf2").f,o=Function.prototype,s=o.toString,a=/^\s*function ([^ (]*)/,c="name";r&&!(c in o)&&i(o,c,{configurable:!0,get:function(){try{return s.call(this).match(a)[1]}catch(t){return""}}})},b50e:function(t,e,n){"use strict";function r(t){return t.split("-")[0]}n.d(e,"a",(function(){return r}))},b519:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("1fc0");function i(t){return Object(r["a"])(t).getComputedStyle(t)}},b575:function(t,e,n){var r,i,o,s,a,c,u,l,h=n("da84"),f=n("06cf").f,d=n("2cf4").set,p=n("1cdc"),g=n("d4c3"),m=n("a4b4"),v=n("605d"),y=h.MutationObserver||h.WebKitMutationObserver,b=h.document,_=h.process,w=h.Promise,x=f(h,"queueMicrotask"),E=x&&x.value;E||(r=function(){var t,e;v&&(t=_.domain)&&t.exit();while(i){e=i.fn,i=i.next;try{e()}catch(n){throw i?s():o=void 0,n}}o=void 0,t&&t.enter()},p||v||m||!y||!b?!g&&w&&w.resolve?(u=w.resolve(void 0),u.constructor=w,l=u.then,s=function(){l.call(u,r)}):s=v?function(){_.nextTick(r)}:function(){d.call(h,r)}:(a=!0,c=b.createTextNode(""),new y(r).observe(c,{characterData:!0}),s=function(){c.data=a=!a})),t.exports=E||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,s()),o=e}},b617:function(t,e,n){"use strict";n.d(e,"a",(function(){return k}));var r=n("77f9"),i=n("1fc0"),o=n("ef52"),s=n("6125");function a(t){var e=Object(i["a"])(t),n=Object(o["a"])(t),r=e.visualViewport,a=n.clientWidth,c=n.clientHeight,u=0,l=0;return r&&(a=r.width,c=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(u=r.offsetLeft,l=r.offsetTop)),{width:a,height:c,x:u+Object(s["a"])(t),y:l}}var c=n("b519"),u=n("a321"),l=n("84c6");function h(t){var e,n=Object(o["a"])(t),r=Object(u["a"])(t),i=null==(e=t.ownerDocument)?void 0:e.body,a=Object(l["a"])(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),h=Object(l["a"])(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),f=-r.scrollLeft+Object(s["a"])(t),d=-r.scrollTop;return"rtl"===Object(c["a"])(i||n).direction&&(f+=Object(l["a"])(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:h,x:f,y:d}}var f=n("ea1a"),d=n("b62b"),p=n("2767"),g=n("0f88"),m=n("28bf"),v=n("7f37"),y=n("5788");function b(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function _(t){var e=Object(g["a"])(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function w(t,e){return e===r["w"]?b(a(t)):Object(p["b"])(e)?_(e):b(h(Object(o["a"])(t)))}function x(t){var e=Object(f["a"])(Object(m["a"])(t)),n=["absolute","fixed"].indexOf(Object(c["a"])(t).position)>=0,r=n&&Object(p["b"])(t)?Object(d["a"])(t):t;return Object(p["a"])(r)?e.filter((function(t){return Object(p["a"])(t)&&Object(v["a"])(t,r)&&"body"!==Object(y["a"])(t)})):[]}function E(t,e,n){var r="clippingParents"===e?x(t):[].concat(e),i=[].concat(r,[n]),o=i[0],s=i.reduce((function(e,n){var r=w(t,n);return e.top=Object(l["a"])(r.top,e.top),e.right=Object(l["b"])(r.right,e.right),e.bottom=Object(l["b"])(r.bottom,e.bottom),e.left=Object(l["a"])(r.left,e.left),e}),w(t,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}var O=n("5d7e"),T=n("d39b"),I=n("9852");function k(t,e){void 0===e&&(e={});var n=e,i=n.placement,s=void 0===i?t.placement:i,a=n.boundary,c=void 0===a?r["j"]:a,u=n.rootBoundary,l=void 0===u?r["w"]:u,h=n.elementContext,f=void 0===h?r["p"]:h,d=n.altBoundary,m=void 0!==d&&d,v=n.padding,y=void 0===v?0:v,_=Object(T["a"])("number"!==typeof y?y:Object(I["a"])(y,r["e"])),w=f===r["p"]?r["r"]:r["p"],x=t.rects.popper,k=t.elements[m?w:f],S=E(Object(p["a"])(k)?k:k.contextElement||Object(o["a"])(t.elements.popper),c,l),C=Object(g["a"])(t.elements.reference),A=Object(O["a"])({reference:C,element:x,strategy:"absolute",placement:s}),j=b(Object.assign({},x,A)),N=f===r["p"]?j:C,P={top:S.top-N.top+_.top,bottom:N.bottom-S.bottom+_.bottom,left:S.left-N.left+_.left,right:N.right-S.right+_.right},D=t.modifiersData.offset;if(f===r["p"]&&D){var R=D[s];Object.keys(P).forEach((function(t){var e=[r["s"],r["i"]].indexOf(t)>=0?1:-1,n=[r["u"],r["i"]].indexOf(t)>=0?"y":"x";P[t]+=R[n]*e}))}return P}},b622:function(t,e,n){var r=n("da84"),i=n("5692"),o=n("5135"),s=n("90e3"),a=n("4930"),c=n("fdbf"),u=i("wks"),l=r.Symbol,h=c?l:l&&l.withoutSetter||s;t.exports=function(t){return o(u,t)&&(a||"string"==typeof u[t])||(a&&o(l,t)?u[t]=l[t]:u[t]=h("Symbol."+t)),u[t]}},b62b:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("1fc0"),i=n("5788"),o=n("b519"),s=n("2767");function a(t){return["table","td","th"].indexOf(Object(i["a"])(t))>=0}var c=n("28bf");function u(t){return Object(s["b"])(t)&&"fixed"!==Object(o["a"])(t).position?t.offsetParent:null}function l(t){var e=-1!==navigator.userAgent.toLowerCase().indexOf("firefox"),n=-1!==navigator.userAgent.indexOf("Trident");if(n&&Object(s["b"])(t)){var r=Object(o["a"])(t);if("fixed"===r.position)return null}var a=Object(c["a"])(t);while(Object(s["b"])(a)&&["html","body"].indexOf(Object(i["a"])(a))<0){var u=Object(o["a"])(a);if("none"!==u.transform||"none"!==u.perspective||"paint"===u.contain||-1!==["transform","perspective"].indexOf(u.willChange)||e&&"filter"===u.willChange||e&&u.filter&&"none"!==u.filter)return a;a=a.parentNode}return null}function h(t){var e=Object(r["a"])(t),n=u(t);while(n&&a(n)&&"static"===Object(o["a"])(n).position)n=u(n);return n&&("html"===Object(i["a"])(n)||"body"===Object(i["a"])(n)&&"static"===Object(o["a"])(n).position)?e:n||l(t)||e}},b64b:function(t,e,n){var r=n("23e7"),i=n("7b0b"),o=n("df75"),s=n("d039"),a=s((function(){o(1)}));r({target:"Object",stat:!0,forced:a},{keys:function(t){return o(i(t))}})},b680:function(t,e,n){"use strict";var r=n("23e7"),i=n("a691"),o=n("408a"),s=n("1148"),a=n("d039"),c=1..toFixed,u=Math.floor,l=function(t,e,n){return 0===e?n:e%2===1?l(t,e-1,n*t):l(t*t,e/2,n)},h=function(t){var e=0,n=t;while(n>=4096)e+=12,n/=4096;while(n>=2)e+=1,n/=2;return e},f=function(t,e,n){var r=-1,i=n;while(++r<6)i+=e*t[r],t[r]=i%1e7,i=u(i/1e7)},d=function(t,e){var n=6,r=0;while(--n>=0)r+=t[n],t[n]=u(r/e),r=r%e*1e7},p=function(t){var e=6,n="";while(--e>=0)if(""!==n||0===e||0!==t[e]){var r=String(t[e]);n=""===n?r:n+s.call("0",7-r.length)+r}return n},g=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!a((function(){c.call({})}));r({target:"Number",proto:!0,forced:g},{toFixed:function(t){var e,n,r,a,c=o(this),u=i(t),g=[0,0,0,0,0,0],m="",v="0";if(u<0||u>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(m="-",c=-c),c>1e-21)if(e=h(c*l(2,69,1))-69,n=e<0?c*l(2,-e,1):c/l(2,e,1),n*=4503599627370496,e=52-e,e>0){f(g,0,n),r=u;while(r>=7)f(g,1e7,0),r-=7;f(g,l(10,r,1),0),r=e-1;while(r>=23)d(g,1<<23),r-=23;d(g,1<<r),f(g,1,1),d(g,2),v=p(g)}else f(g,0,n),f(g,1<<-e,0),v=p(g)+s.call("0",u);return u>0?(a=v.length,v=m+(a<=u?"0."+s.call("0",u-a)+v:v.slice(0,a-u)+"."+v.slice(a-u))):v=m+v,v}})},b681:function(t,e,n){"use strict";n.d(e,"a",(function(){return In}));var r=n("1235"),i=n("39c3");
/*!
  * Bootstrap v5.1.1 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
const o="transitionend",s=t=>{do{t+=Math.floor(1e6*Math.random())}while(document.getElementById(t));return t},a=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n="#"+n.split("#")[1]),e=n&&"#"!==n?n.trim():null}return e},c=t=>{const e=a(t);return e&&document.querySelector(e)?e:null},u=t=>{const e=a(t);return e?document.querySelector(e):null},l=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const r=Number.parseFloat(e),i=Number.parseFloat(n);return r||i?(e=e.split(",")[0],n=n.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(n))):0},h=t=>{t.dispatchEvent(new Event(o))},f=t=>!(!t||"object"!=typeof t)&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),d=t=>f(t)?t.jquery?t[0]:t:"string"==typeof t&&t.length>0?document.querySelector(t):null,p=(t,e,n)=>{Object.keys(n).forEach(r=>{const i=n[r],o=e[r],s=o&&f(o)?"element":null==(a=o)?""+a:{}.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase();var a;if(!new RegExp(i).test(s))throw new TypeError(`${t.toUpperCase()}: Option "${r}" provided type "${s}" but expected type "${i}".`)})},g=t=>!(!f(t)||0===t.getClientRects().length)&&"visible"===getComputedStyle(t).getPropertyValue("visibility"),m=t=>!t||t.nodeType!==Node.ELEMENT_NODE||!!t.classList.contains("disabled")||(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled")),v=t=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?v(t.parentNode):null},y=()=>{},b=t=>{t.offsetHeight},_=()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-bs-no-jquery")?t:null},w=[],x=()=>"rtl"===document.documentElement.dir,E=t=>{var e;e=()=>{const e=_();if(e){const n=t.NAME,r=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=r,t.jQueryInterface)}},"loading"===document.readyState?(w.length||document.addEventListener("DOMContentLoaded",()=>{w.forEach(t=>t())}),w.push(e)):e()},O=t=>{"function"==typeof t&&t()},T=(t,e,n=!0)=>{if(!n)return void O(t);const r=l(e)+5;let i=!1;const s=({target:n})=>{n===e&&(i=!0,e.removeEventListener(o,s),O(t))};e.addEventListener(o,s),setTimeout(()=>{i||h(e)},r)},I=(t,e,n,r)=>{let i=t.indexOf(e);if(-1===i)return t[!n&&r?t.length-1:0];const o=t.length;return i+=n?1:-1,r&&(i=(i+o)%o),t[Math.max(0,Math.min(i,o-1))]},k=/[^.]*(?=\..*)\.|.*/,S=/\..*/,C=/::\d+$/,A={};let j=1;const N={mouseenter:"mouseover",mouseleave:"mouseout"},P=/^(mouseenter|mouseleave)/i,D=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function R(t,e){return e&&`${e}::${j++}`||t.uidEvent||j++}function M(t){const e=R(t);return t.uidEvent=e,A[e]=A[e]||{},A[e]}function L(t,e){return function n(r){return r.delegateTarget=t,n.oneOff&&H.off(t,r.type,e),e.apply(t,[r])}}function F(t,e,n){return function r(i){const o=t.querySelectorAll(e);for(let{target:s}=i;s&&s!==this;s=s.parentNode)for(let a=o.length;a--;)if(o[a]===s)return i.delegateTarget=s,r.oneOff&&H.off(t,i.type,e,n),n.apply(s,[i]);return null}}function U(t,e,n=null){const r=Object.keys(t);for(let i=0,o=r.length;i<o;i++){const o=t[r[i]];if(o.originalHandler===e&&o.delegationSelector===n)return o}return null}function V(t,e,n){const r="string"==typeof e,i=r?n:e;let o=W(t);return D.has(o)||(o=t),[r,i,o]}function B(t,e,n,r,i){if("string"!=typeof e||!t)return;if(n||(n=r,r=null),P.test(e)){const t=t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)};r?r=t(r):n=t(n)}const[o,s,a]=V(e,n,r),c=M(t),u=c[a]||(c[a]={}),l=U(u,s,o?n:null);if(l)return void(l.oneOff=l.oneOff&&i);const h=R(s,e.replace(k,"")),f=o?F(t,n,r):L(t,n);f.delegationSelector=o?n:null,f.originalHandler=s,f.oneOff=i,f.uidEvent=h,u[h]=f,t.addEventListener(a,f,o)}function q(t,e,n,r,i){const o=U(e[n],r,i);o&&(t.removeEventListener(n,o,Boolean(i)),delete e[n][o.uidEvent])}function z(t,e,n,r){const i=e[n]||{};Object.keys(i).forEach(o=>{if(o.includes(r)){const r=i[o];q(t,e,n,r.originalHandler,r.delegationSelector)}})}function W(t){return t=t.replace(S,""),N[t]||t}const H={on(t,e,n,r){B(t,e,n,r,!1)},one(t,e,n,r){B(t,e,n,r,!0)},off(t,e,n,r){if("string"!=typeof e||!t)return;const[i,o,s]=V(e,n,r),a=s!==e,c=M(t),u=e.startsWith(".");if(void 0!==o){if(!c||!c[s])return;return void q(t,c,s,o,i?n:null)}u&&Object.keys(c).forEach(n=>{z(t,c,n,e.slice(1))});const l=c[s]||{};Object.keys(l).forEach(n=>{const r=n.replace(C,"");if(!a||e.includes(r)){const e=l[n];q(t,c,s,e.originalHandler,e.delegationSelector)}})},trigger(t,e,n){if("string"!=typeof e||!t)return null;const r=_(),i=W(e),o=e!==i,s=D.has(i);let a,c=!0,u=!0,l=!1,h=null;return o&&r&&(a=r.Event(e,n),r(t).trigger(a),c=!a.isPropagationStopped(),u=!a.isImmediatePropagationStopped(),l=a.isDefaultPrevented()),s?(h=document.createEvent("HTMLEvents"),h.initEvent(i,c,!0)):h=new CustomEvent(e,{bubbles:c,cancelable:!0}),void 0!==n&&Object.keys(n).forEach(t=>{Object.defineProperty(h,t,{get:()=>n[t]})}),l&&h.preventDefault(),u&&t.dispatchEvent(h),h.defaultPrevented&&void 0!==a&&a.preventDefault(),h}},K=new Map;var G={set(t,e,n){K.has(t)||K.set(t,new Map);const r=K.get(t);r.has(e)||0===r.size?r.set(e,n):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`)},get:(t,e)=>K.has(t)&&K.get(t).get(e)||null,remove(t,e){if(!K.has(t))return;const n=K.get(t);n.delete(e),0===n.size&&K.delete(t)}};class ${constructor(t){(t=d(t))&&(this._element=t,G.set(this._element,this.constructor.DATA_KEY,this))}dispose(){G.remove(this._element,this.constructor.DATA_KEY),H.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach(t=>{this[t]=null})}_queueCallback(t,e,n=!0){T(t,e,n)}static getInstance(t){return G.get(d(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.1.1"}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return"bs."+this.NAME}static get EVENT_KEY(){return"."+this.DATA_KEY}}const Y=(t,e="hide")=>{const n="click.dismiss"+t.EVENT_KEY,r=t.NAME;H.on(document,n,`[data-bs-dismiss="${r}"]`,(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),m(this))return;const i=u(this)||this.closest("."+r);t.getOrCreateInstance(i)[e]()}))},Q="alert",X="close.bs.alert",J="closed.bs.alert";class Z extends ${static get NAME(){return Q}close(){if(H.trigger(this._element,X).defaultPrevented)return;this._element.classList.remove("show");const t=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),H.trigger(this._element,J),this.dispose()}static jQueryInterface(t){return this.each((function(){const e=Z.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}Y(Z,"close"),E(Z);const tt="button",et='[data-bs-toggle="button"]',nt="click.bs.button.data-api";class rt extends ${static get NAME(){return tt}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each((function(){const e=rt.getOrCreateInstance(this);"toggle"===t&&e[t]()}))}}function it(t){return"true"===t||"false"!==t&&(t===Number(t).toString()?Number(t):""===t||"null"===t?null:t)}function ot(t){return t.replace(/[A-Z]/g,t=>"-"+t.toLowerCase())}H.on(document,nt,et,t=>{t.preventDefault();const e=t.target.closest(et);rt.getOrCreateInstance(e).toggle()}),E(rt);const st={setDataAttribute(t,e,n){t.setAttribute("data-bs-"+ot(e),n)},removeDataAttribute(t,e){t.removeAttribute("data-bs-"+ot(e))},getDataAttributes(t){if(!t)return{};const e={};return Object.keys(t.dataset).filter(t=>t.startsWith("bs")).forEach(n=>{let r=n.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),e[r]=it(t.dataset[n])}),e},getDataAttribute:(t,e)=>it(t.getAttribute("data-bs-"+ot(e))),offset(t){const e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset,left:e.left+window.pageXOffset}},position:t=>({top:t.offsetTop,left:t.offsetLeft})},at={find:(t,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,t)),findOne:(t,e=document.documentElement)=>Element.prototype.querySelector.call(e,t),children:(t,e)=>[].concat(...t.children).filter(t=>t.matches(e)),parents(t,e){const n=[];let r=t.parentNode;for(;r&&r.nodeType===Node.ELEMENT_NODE&&3!==r.nodeType;)r.matches(e)&&n.push(r),r=r.parentNode;return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>t+':not([tabindex^="-"])').join(", ");return this.find(e,t).filter(t=>!m(t)&&g(t))}},ct="carousel",ut={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},lt={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},ht="next",ft="prev",dt="left",pt="right",gt={ArrowLeft:pt,ArrowRight:dt},mt="slide.bs.carousel",vt="slid.bs.carousel",yt="keydown.bs.carousel",bt="mouseenter.bs.carousel",_t="mouseleave.bs.carousel",wt="touchstart.bs.carousel",xt="touchmove.bs.carousel",Et="touchend.bs.carousel",Ot="pointerdown.bs.carousel",Tt="pointerup.bs.carousel",It="dragstart.bs.carousel",kt="load.bs.carousel.data-api",St="click.bs.carousel.data-api",Ct="carousel-item-end",At="carousel-item-start",jt="carousel-item-next",Nt="carousel-item-prev",Pt=".active.carousel-item",Dt=".carousel-item",Rt=".carousel-item img",Mt=".carousel-item-next, .carousel-item-prev",Lt=".carousel-indicators",Ft="[data-bs-slide], [data-bs-slide-to]",Ut='[data-bs-ride="carousel"]';class Vt extends ${constructor(t,e){super(t),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._indicatorsElement=at.findOne(Lt,this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent),this._addEventListeners()}static get Default(){return ut}static get NAME(){return ct}next(){this._slide(ht)}nextWhenVisible(){!document.hidden&&g(this._element)&&this.next()}prev(){this._slide(ft)}pause(t){t||(this._isPaused=!0),at.findOne(Mt,this._element)&&(h(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(t){this._activeElement=at.findOne(Pt,this._element);const e=this._getItemIndex(this._activeElement);if(t>this._items.length-1||t<0)return;if(this._isSliding)return void H.one(this._element,vt,()=>this.to(t));if(e===t)return this.pause(),void this.cycle();const n=t>e?ht:ft;this._slide(n,this._items[t])}_getConfig(t){return t={...ut,...st.getDataAttributes(this._element),..."object"==typeof t?t:{}},p(ct,t,lt),t}_handleSwipe(){const t=Math.abs(this.touchDeltaX);if(t<=40)return;const e=t/this.touchDeltaX;this.touchDeltaX=0,e&&this._slide(e>0?pt:dt)}_addEventListeners(){this._config.keyboard&&H.on(this._element,yt,t=>this._keydown(t)),"hover"===this._config.pause&&(H.on(this._element,bt,t=>this.pause(t)),H.on(this._element,_t,t=>this.cycle(t))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}_addTouchEventListeners(){const t=t=>this._pointerEvent&&("pen"===t.pointerType||"touch"===t.pointerType),e=e=>{t(e)?this.touchStartX=e.clientX:this._pointerEvent||(this.touchStartX=e.touches[0].clientX)},n=t=>{this.touchDeltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this.touchStartX},r=e=>{t(e)&&(this.touchDeltaX=e.clientX-this.touchStartX),this._handleSwipe(),"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(t=>this.cycle(t),500+this._config.interval))};at.find(Rt,this._element).forEach(t=>{H.on(t,It,t=>t.preventDefault())}),this._pointerEvent?(H.on(this._element,Ot,t=>e(t)),H.on(this._element,Tt,t=>r(t)),this._element.classList.add("pointer-event")):(H.on(this._element,wt,t=>e(t)),H.on(this._element,xt,t=>n(t)),H.on(this._element,Et,t=>r(t)))}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=gt[t.key];e&&(t.preventDefault(),this._slide(e))}_getItemIndex(t){return this._items=t&&t.parentNode?at.find(Dt,t.parentNode):[],this._items.indexOf(t)}_getItemByOrder(t,e){const n=t===ht;return I(this._items,e,n,this._config.wrap)}_triggerSlideEvent(t,e){const n=this._getItemIndex(t),r=this._getItemIndex(at.findOne(Pt,this._element));return H.trigger(this._element,mt,{relatedTarget:t,direction:e,from:r,to:n})}_setActiveIndicatorElement(t){if(this._indicatorsElement){const e=at.findOne(".active",this._indicatorsElement);e.classList.remove("active"),e.removeAttribute("aria-current");const n=at.find("[data-bs-target]",this._indicatorsElement);for(let r=0;r<n.length;r++)if(Number.parseInt(n[r].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(t)){n[r].classList.add("active"),n[r].setAttribute("aria-current","true");break}}}_updateInterval(){const t=this._activeElement||at.findOne(Pt,this._element);if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);e?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=e):this._config.interval=this._config.defaultInterval||this._config.interval}_slide(t,e){const n=this._directionToOrder(t),r=at.findOne(Pt,this._element),i=this._getItemIndex(r),o=e||this._getItemByOrder(n,r),s=this._getItemIndex(o),a=Boolean(this._interval),c=n===ht,u=c?At:Ct,l=c?jt:Nt,h=this._orderToDirection(n);if(o&&o.classList.contains("active"))return void(this._isSliding=!1);if(this._isSliding)return;if(this._triggerSlideEvent(o,h).defaultPrevented)return;if(!r||!o)return;this._isSliding=!0,a&&this.pause(),this._setActiveIndicatorElement(o),this._activeElement=o;const f=()=>{H.trigger(this._element,vt,{relatedTarget:o,direction:h,from:i,to:s})};if(this._element.classList.contains("slide")){o.classList.add(l),b(o),r.classList.add(u),o.classList.add(u);const t=()=>{o.classList.remove(u,l),o.classList.add("active"),r.classList.remove("active",l,u),this._isSliding=!1,setTimeout(f,0)};this._queueCallback(t,r,!0)}else r.classList.remove("active"),o.classList.add("active"),this._isSliding=!1,f();a&&this.cycle()}_directionToOrder(t){return[pt,dt].includes(t)?x()?t===dt?ft:ht:t===dt?ht:ft:t}_orderToDirection(t){return[ht,ft].includes(t)?x()?t===ft?dt:pt:t===ft?pt:dt:t}static carouselInterface(t,e){const n=Vt.getOrCreateInstance(t,e);let{_config:r}=n;"object"==typeof e&&(r={...r,...e});const i="string"==typeof e?e:r.slide;if("number"==typeof e)n.to(e);else if("string"==typeof i){if(void 0===n[i])throw new TypeError(`No method named "${i}"`);n[i]()}else r.interval&&r.ride&&(n.pause(),n.cycle())}static jQueryInterface(t){return this.each((function(){Vt.carouselInterface(this,t)}))}static dataApiClickHandler(t){const e=u(this);if(!e||!e.classList.contains("carousel"))return;const n={...st.getDataAttributes(e),...st.getDataAttributes(this)},r=this.getAttribute("data-bs-slide-to");r&&(n.interval=!1),Vt.carouselInterface(e,n),r&&Vt.getInstance(e).to(r),t.preventDefault()}}H.on(document,St,Ft,Vt.dataApiClickHandler),H.on(window,kt,()=>{const t=at.find(Ut);for(let e=0,n=t.length;e<n;e++)Vt.carouselInterface(t[e],Vt.getInstance(t[e]))}),E(Vt);const Bt="collapse",qt="bs.collapse",zt={toggle:!0,parent:null},Wt={toggle:"boolean",parent:"(null|element)"},Ht="show.bs.collapse",Kt="shown.bs.collapse",Gt="hide.bs.collapse",$t="hidden.bs.collapse",Yt="click.bs.collapse.data-api",Qt="width",Xt="height",Jt=".collapse.show, .collapse.collapsing",Zt='[data-bs-toggle="collapse"]';class te extends ${constructor(t,e){super(t),this._isTransitioning=!1,this._config=this._getConfig(e),this._triggerArray=[];const n=at.find(Zt);for(let r=0,i=n.length;r<i;r++){const t=n[r],e=c(t),i=at.find(e).filter(t=>t===this._element);null!==e&&i.length&&(this._selector=e,this._triggerArray.push(t))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return zt}static get NAME(){return Bt}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t,e=[];if(this._config.parent){const t=at.find(".collapse .collapse",this._config.parent);e=at.find(Jt,this._config.parent).filter(e=>!t.includes(e))}const n=at.findOne(this._selector);if(e.length){const r=e.find(t=>n!==t);if(t=r?te.getInstance(r):null,t&&t._isTransitioning)return}if(H.trigger(this._element,Ht).defaultPrevented)return;e.forEach(e=>{n!==e&&te.getOrCreateInstance(e,{toggle:!1}).hide(),t||G.set(e,qt,null)});const r=this._getDimension();this._element.classList.remove("collapse"),this._element.classList.add("collapsing"),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i="scroll"+(r[0].toUpperCase()+r.slice(1));this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove("collapsing"),this._element.classList.add("collapse","show"),this._element.style[r]="",H.trigger(this._element,Kt)},this._element,!0),this._element.style[r]=this._element[i]+"px"}hide(){if(this._isTransitioning||!this._isShown())return;if(H.trigger(this._element,Gt).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=this._element.getBoundingClientRect()[t]+"px",b(this._element),this._element.classList.add("collapsing"),this._element.classList.remove("collapse","show");const e=this._triggerArray.length;for(let n=0;n<e;n++){const t=this._triggerArray[n],e=u(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0,this._element.style[t]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove("collapsing"),this._element.classList.add("collapse"),H.trigger(this._element,$t)},this._element,!0)}_isShown(t=this._element){return t.classList.contains("show")}_getConfig(t){return(t={...zt,...st.getDataAttributes(this._element),...t}).toggle=Boolean(t.toggle),t.parent=d(t.parent),p(Bt,t,Wt),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?Qt:Xt}_initializeChildren(){if(!this._config.parent)return;const t=at.find(".collapse .collapse",this._config.parent);at.find(Zt,this._config.parent).filter(e=>!t.includes(e)).forEach(t=>{const e=u(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))})}_addAriaAndCollapsedClass(t,e){t.length&&t.forEach(t=>{e?t.classList.remove("collapsed"):t.classList.add("collapsed"),t.setAttribute("aria-expanded",e)})}static jQueryInterface(t){return this.each((function(){const e={};"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1);const n=te.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t]()}}))}}H.on(document,Yt,Zt,(function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();const e=c(this);at.find(e).forEach(t=>{te.getOrCreateInstance(t,{toggle:!1}).toggle()})})),E(te);const ee="dropdown",ne=new RegExp("ArrowUp|ArrowDown|Escape"),re="hide.bs.dropdown",ie="hidden.bs.dropdown",oe="show.bs.dropdown",se="shown.bs.dropdown",ae="click.bs.dropdown.data-api",ce="keydown.bs.dropdown.data-api",ue="keyup.bs.dropdown.data-api",le='[data-bs-toggle="dropdown"]',he=".dropdown-menu",fe=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",de=x()?"top-end":"top-start",pe=x()?"top-start":"top-end",ge=x()?"bottom-end":"bottom-start",me=x()?"bottom-start":"bottom-end",ve=x()?"left-start":"right-start",ye=x()?"right-start":"left-start",be={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},_e={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"};class we extends ${constructor(t,e){super(t),this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar()}static get Default(){return be}static get DefaultType(){return _e}static get NAME(){return ee}toggle(){return this._isShown()?this.hide():this.show()}show(){if(m(this._element)||this._isShown(this._menu))return;const t={relatedTarget:this._element};if(H.trigger(this._element,oe,t).defaultPrevented)return;const e=we.getParentFromElement(this._element);this._inNavbar?st.setDataAttribute(this._menu,"popper","none"):this._createPopper(e),"ontouchstart"in document.documentElement&&!e.closest(".navbar-nav")&&[].concat(...document.body.children).forEach(t=>H.on(t,"mouseover",y)),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add("show"),this._element.classList.add("show"),H.trigger(this._element,se,t)}hide(){if(m(this._element)||!this._isShown(this._menu))return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){H.trigger(this._element,re,t).defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(t=>H.off(t,"mouseover",y)),this._popper&&this._popper.destroy(),this._menu.classList.remove("show"),this._element.classList.remove("show"),this._element.setAttribute("aria-expanded","false"),st.removeDataAttribute(this._menu,"popper"),H.trigger(this._element,ie,t))}_getConfig(t){if(t={...this.constructor.Default,...st.getDataAttributes(this._element),...t},p(ee,t,this.constructor.DefaultType),"object"==typeof t.reference&&!f(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError(ee.toUpperCase()+': Option "reference" provided type "object" without a required "getBoundingClientRect" method.');return t}_createPopper(t){if(void 0===r)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=t:f(this._config.reference)?e=d(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const n=this._getPopperConfig(),o=n.modifiers.find(t=>"applyStyles"===t.name&&!1===t.enabled);this._popper=i["a"](e,this._menu,n),o&&st.setDataAttribute(this._menu,"popper","static")}_isShown(t=this._element){return t.classList.contains("show")}_getMenuElement(){return at.next(this._element,he)[0]}_getPlacement(){const t=this._element.parentNode;if(t.classList.contains("dropend"))return ve;if(t.classList.contains("dropstart"))return ye;const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?e?pe:de:e?me:ge}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return"static"===this._config.display&&(t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,..."function"==typeof this._config.popperConfig?this._config.popperConfig(t):this._config.popperConfig}}_selectMenuItem({key:t,target:e}){const n=at.find(fe,this._menu).filter(g);n.length&&I(n,e,"ArrowDown"===t,!n.includes(e)).focus()}static jQueryInterface(t){return this.each((function(){const e=we.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}static clearMenus(t){if(t&&(2===t.button||"keyup"===t.type&&"Tab"!==t.key))return;const e=at.find(le);for(let n=0,r=e.length;n<r;n++){const r=we.getInstance(e[n]);if(!r||!1===r._config.autoClose)continue;if(!r._isShown())continue;const i={relatedTarget:r._element};if(t){const e=t.composedPath(),n=e.includes(r._menu);if(e.includes(r._element)||"inside"===r._config.autoClose&&!n||"outside"===r._config.autoClose&&n)continue;if(r._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;"click"===t.type&&(i.clickEvent=t)}r._completeHide(i)}}static getParentFromElement(t){return u(t)||t.parentNode}static dataApiKeydownHandler(t){if(/input|textarea/i.test(t.target.tagName)?"Space"===t.key||"Escape"!==t.key&&("ArrowDown"!==t.key&&"ArrowUp"!==t.key||t.target.closest(he)):!ne.test(t.key))return;const e=this.classList.contains("show");if(!e&&"Escape"===t.key)return;if(t.preventDefault(),t.stopPropagation(),m(this))return;const n=this.matches(le)?this:at.prev(this,le)[0],r=we.getOrCreateInstance(n);if("Escape"!==t.key)return"ArrowUp"===t.key||"ArrowDown"===t.key?(e||r.show(),void r._selectMenuItem(t)):void(e&&"Space"!==t.key||we.clearMenus());r.hide()}}H.on(document,ce,le,we.dataApiKeydownHandler),H.on(document,ce,he,we.dataApiKeydownHandler),H.on(document,ae,we.clearMenus),H.on(document,ue,we.clearMenus),H.on(document,ae,le,(function(t){t.preventDefault(),we.getOrCreateInstance(this).toggle()})),E(we);const xe=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top";class Ee{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",e=>e+t),this._setElementAttributes(xe,"paddingRight",e=>e+t),this._setElementAttributes(".sticky-top","marginRight",e=>e-t)}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,n){const r=this.getWidth();this._applyManipulationCallback(t,t=>{if(t!==this._element&&window.innerWidth>t.clientWidth+r)return;this._saveInitialAttribute(t,e);const i=window.getComputedStyle(t)[e];t.style[e]=n(Number.parseFloat(i))+"px"})}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(xe,"paddingRight"),this._resetElementAttributes(".sticky-top","marginRight")}_saveInitialAttribute(t,e){const n=t.style[e];n&&st.setDataAttribute(t,e,n)}_resetElementAttributes(t,e){this._applyManipulationCallback(t,t=>{const n=st.getDataAttribute(t,e);void 0===n?t.style.removeProperty(e):(st.removeDataAttribute(t,e),t.style[e]=n)})}_applyManipulationCallback(t,e){f(t)?e(t):at.find(t,this._element).forEach(e)}isOverflowing(){return this.getWidth()>0}}const Oe={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},Te={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},Ie="backdrop",ke="mousedown.bs.backdrop";class Se{constructor(t){this._config=this._getConfig(t),this._isAppended=!1,this._element=null}show(t){this._config.isVisible?(this._append(),this._config.isAnimated&&b(this._getElement()),this._getElement().classList.add("show"),this._emulateAnimation(()=>{O(t)})):O(t)}hide(t){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),O(t)})):O(t)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t}return this._element}_getConfig(t){return(t={...Oe,..."object"==typeof t?t:{}}).rootElement=d(t.rootElement),p(Ie,t,Te),t}_append(){this._isAppended||(this._config.rootElement.append(this._getElement()),H.on(this._getElement(),ke,()=>{O(this._config.clickCallback)}),this._isAppended=!0)}dispose(){this._isAppended&&(H.off(this._element,ke),this._element.remove(),this._isAppended=!1)}_emulateAnimation(t){T(t,this._getElement(),this._config.isAnimated)}}const Ce={trapElement:null,autofocus:!0},Ae={trapElement:"element",autofocus:"boolean"},je="focustrap",Ne=".bs.focustrap",Pe="focusin.bs.focustrap",De="keydown.tab.bs.focustrap";class Re{constructor(t){this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}activate(){const{trapElement:t,autofocus:e}=this._config;this._isActive||(e&&t.focus(),H.off(document,Ne),H.on(document,Pe,t=>this._handleFocusin(t)),H.on(document,De,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,H.off(document,Ne))}_handleFocusin(t){const{target:e}=t,{trapElement:n}=this._config;if(e===document||e===n||n.contains(e))return;const r=at.focusableChildren(n);0===r.length?n.focus():"backward"===this._lastTabNavDirection?r[r.length-1].focus():r[0].focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?"backward":"forward")}_getConfig(t){return t={...Ce,..."object"==typeof t?t:{}},p(je,t,Ae),t}}const Me="modal",Le={backdrop:!0,keyboard:!0,focus:!0},Fe={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},Ue="hide.bs.modal",Ve="hidePrevented.bs.modal",Be="hidden.bs.modal",qe="show.bs.modal",ze="shown.bs.modal",We="resize.bs.modal",He="click.dismiss.bs.modal",Ke="keydown.dismiss.bs.modal",Ge="mouseup.dismiss.bs.modal",$e="mousedown.dismiss.bs.modal",Ye="click.bs.modal.data-api",Qe='[data-bs-toggle="modal"]';class Xe extends ${constructor(t,e){super(t),this._config=this._getConfig(e),this._dialog=at.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new Ee}static get Default(){return Le}static get NAME(){return Me}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||H.trigger(this._element,qe,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add("modal-open"),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),H.on(this._dialog,$e,()=>{H.one(this._element,Ge,t=>{t.target===this._element&&(this._ignoreBackdropClick=!0)})}),this._showBackdrop(()=>this._showElement(t)))}hide(){if(!this._isShown||this._isTransitioning)return;if(H.trigger(this._element,Ue).defaultPrevented)return;this._isShown=!1;const t=this._isAnimated();t&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove("show"),H.off(this._element,He),H.off(this._dialog,$e),this._queueCallback(()=>this._hideModal(),this._element,t)}dispose(){[window,this._dialog].forEach(t=>H.off(t,".bs.modal")),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Se({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Re({trapElement:this._element})}_getConfig(t){return t={...Le,...st.getDataAttributes(this._element),..."object"==typeof t?t:{}},p(Me,t,Fe),t}_showElement(t){const e=this._isAnimated(),n=at.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,n&&(n.scrollTop=0),e&&b(this._element),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,H.trigger(this._element,ze,{relatedTarget:t})},this._dialog,e)}_setEscapeEvent(){this._isShown?H.on(this._element,Ke,t=>{this._config.keyboard&&"Escape"===t.key?(t.preventDefault(),this.hide()):this._config.keyboard||"Escape"!==t.key||this._triggerBackdropTransition()}):H.off(this._element,Ke)}_setResizeEvent(){this._isShown?H.on(window,We,()=>this._adjustDialog()):H.off(window,We)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove("modal-open"),this._resetAdjustments(),this._scrollBar.reset(),H.trigger(this._element,Be)})}_showBackdrop(t){H.on(this._element,He,t=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:t.target===t.currentTarget&&(!0===this._config.backdrop?this.hide():"static"===this._config.backdrop&&this._triggerBackdropTransition())}),this._backdrop.show(t)}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(H.trigger(this._element,Ve).defaultPrevented)return;const{classList:t,scrollHeight:e,style:n}=this._element,r=e>document.documentElement.clientHeight;!r&&"hidden"===n.overflowY||t.contains("modal-static")||(r||(n.overflowY="hidden"),t.add("modal-static"),this._queueCallback(()=>{t.remove("modal-static"),r||this._queueCallback(()=>{n.overflowY=""},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),n=e>0;(!n&&t&&!x()||n&&!t&&x())&&(this._element.style.paddingLeft=e+"px"),(n&&!t&&!x()||!n&&t&&x())&&(this._element.style.paddingRight=e+"px")}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each((function(){const n=Xe.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t](e)}}))}}H.on(document,Ye,Qe,(function(t){const e=u(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),H.one(e,qe,t=>{t.defaultPrevented||H.one(e,Be,()=>{g(this)&&this.focus()})});const n=at.findOne(".modal.show");n&&Xe.getInstance(n).hide(),Xe.getOrCreateInstance(e).toggle(this)})),Y(Xe),E(Xe);const Je="offcanvas",Ze="load.bs.offcanvas.data-api",tn={backdrop:!0,keyboard:!0,scroll:!1},en={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},nn="offcanvas-backdrop",rn=".offcanvas.show",on="show.bs.offcanvas",sn="shown.bs.offcanvas",an="hide.bs.offcanvas",cn="hidden.bs.offcanvas",un="click.bs.offcanvas.data-api",ln="keydown.dismiss.bs.offcanvas",hn='[data-bs-toggle="offcanvas"]';class fn extends ${constructor(t,e){super(t),this._config=this._getConfig(e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get NAME(){return Je}static get Default(){return tn}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||H.trigger(this._element,on,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||(new Ee).hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add("show"),this._queueCallback(()=>{this._config.scroll||this._focustrap.activate(),H.trigger(this._element,sn,{relatedTarget:t})},this._element,!0))}hide(){this._isShown&&(H.trigger(this._element,an).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove("show"),this._backdrop.hide(),this._queueCallback(()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||(new Ee).reset(),H.trigger(this._element,cn)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_getConfig(t){return t={...tn,...st.getDataAttributes(this._element),..."object"==typeof t?t:{}},p(Je,t,en),t}_initializeBackDrop(){return new Se({className:nn,isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_initializeFocusTrap(){return new Re({trapElement:this._element})}_addEventListeners(){H.on(this._element,ln,t=>{this._config.keyboard&&"Escape"===t.key&&this.hide()})}static jQueryInterface(t){return this.each((function(){const e=fn.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}H.on(document,un,hn,(function(t){const e=u(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),m(this))return;H.one(e,cn,()=>{g(this)&&this.focus()});const n=at.findOne(rn);n&&n!==e&&fn.getInstance(n).hide(),fn.getOrCreateInstance(e).toggle(this)})),H.on(window,Ze,()=>at.find(rn).forEach(t=>fn.getOrCreateInstance(t).show())),Y(fn),E(fn);const dn=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),pn=/^aria-[\w-]*$/i,gn=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/i,mn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,vn=(t,e)=>{const n=t.nodeName.toLowerCase();if(e.includes(n))return!dn.has(n)||Boolean(gn.test(t.nodeValue)||mn.test(t.nodeValue));const r=e.filter(t=>t instanceof RegExp);for(let i=0,o=r.length;i<o;i++)if(r[i].test(n))return!0;return!1},yn={"*":["class","dir","id","lang","role",pn],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function bn(t,e,n){if(!t.length)return t;if(n&&"function"==typeof n)return n(t);const r=(new window.DOMParser).parseFromString(t,"text/html"),i=Object.keys(e),o=[].concat(...r.body.querySelectorAll("*"));for(let s=0,a=o.length;s<a;s++){const t=o[s],n=t.nodeName.toLowerCase();if(!i.includes(n)){t.remove();continue}const r=[].concat(...t.attributes),a=[].concat(e["*"]||[],e[n]||[]);r.forEach(e=>{vn(e,a)||t.removeAttribute(e.nodeName)})}return r.body.innerHTML}const _n="tooltip",wn=new Set(["sanitize","allowList","sanitizeFn"]),xn={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},En={AUTO:"auto",TOP:"top",RIGHT:x()?"left":"right",BOTTOM:"bottom",LEFT:x()?"right":"left"},On={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:yn,popperConfig:null},Tn={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"};class In extends ${constructor(t,e){if(void 0===r)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this._config=this._getConfig(e),this.tip=null,this._setListeners()}static get Default(){return On}static get NAME(){return _n}static get Event(){return Tn}static get DefaultType(){return xn}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(t){if(this._isEnabled)if(t){const e=this._initializeOnDelegatedTarget(t);e._activeTrigger.click=!e._activeTrigger.click,e._isWithActiveTrigger()?e._enter(null,e):e._leave(null,e)}else{if(this.getTipElement().classList.contains("show"))return void this._leave(null,this);this._enter(null,this)}}dispose(){clearTimeout(this._timeout),H.off(this._element.closest(".modal"),"hide.bs.modal",this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this.isWithContent()||!this._isEnabled)return;const t=H.trigger(this._element,this.constructor.Event.SHOW),e=v(this._element),n=null===e?this._element.ownerDocument.documentElement.contains(this._element):e.contains(this._element);if(t.defaultPrevented||!n)return;"tooltip"===this.constructor.NAME&&this.tip&&this.getTitle()!==this.tip.querySelector(".tooltip-inner").innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);const r=this.getTipElement(),o=s(this.constructor.NAME);r.setAttribute("id",o),this._element.setAttribute("aria-describedby",o),this._config.animation&&r.classList.add("fade");const a="function"==typeof this._config.placement?this._config.placement.call(this,r,this._element):this._config.placement,c=this._getAttachment(a);this._addAttachmentClass(c);const{container:u}=this._config;G.set(r,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(u.append(r),H.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=i["a"](this._element,r,this._getPopperConfig(c)),r.classList.add("show");const l=this._resolvePossibleFunction(this._config.customClass);l&&r.classList.add(...l.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(t=>{H.on(t,"mouseover",y)});const h=this.tip.classList.contains("fade");this._queueCallback(()=>{const t=this._hoverState;this._hoverState=null,H.trigger(this._element,this.constructor.Event.SHOWN),"out"===t&&this._leave(null,this)},this.tip,h)}hide(){if(!this._popper)return;const t=this.getTipElement();if(H.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented)return;t.classList.remove("show"),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(t=>H.off(t,"mouseover",y)),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1;const e=this.tip.classList.contains("fade");this._queueCallback(()=>{this._isWithActiveTrigger()||("show"!==this._hoverState&&t.remove(),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),H.trigger(this._element,this.constructor.Event.HIDDEN),this._disposePopper())},this.tip,e),this._hoverState=""}update(){null!==this._popper&&this._popper.update()}isWithContent(){return Boolean(this.getTitle())}getTipElement(){if(this.tip)return this.tip;const t=document.createElement("div");t.innerHTML=this._config.template;const e=t.children[0];return this.setContent(e),e.classList.remove("fade","show"),this.tip=e,this.tip}setContent(t){this._sanitizeAndSetContent(t,this.getTitle(),".tooltip-inner")}_sanitizeAndSetContent(t,e,n){const r=at.findOne(n,t);e||!r?this.setElementContent(r,e):r.remove()}setElementContent(t,e){if(null!==t)return f(e)?(e=d(e),void(this._config.html?e.parentNode!==t&&(t.innerHTML="",t.append(e)):t.textContent=e.textContent)):void(this._config.html?(this._config.sanitize&&(e=bn(e,this._config.allowList,this._config.sanitizeFn)),t.innerHTML=e):t.textContent=e)}getTitle(){const t=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(t)}updateAttachment(t){return"right"===t?"end":"left"===t?"start":t}_initializeOnDelegatedTarget(t,e){return e||this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return"function"==typeof t?t.call(this._element):t}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:t=>this._handlePopperPlacementChange(t)}],onFirstUpdate:t=>{t.options.placement!==t.placement&&this._handlePopperPlacementChange(t)}};return{...e,..."function"==typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig}}_addAttachmentClass(t){this.getTipElement().classList.add(`${this._getBasicClassPrefix()}-${this.updateAttachment(t)}`)}_getAttachment(t){return En[t.toUpperCase()]}_setListeners(){this._config.trigger.split(" ").forEach(t=>{if("click"===t)H.on(this._element,this.constructor.Event.CLICK,this._config.selector,t=>this.toggle(t));else if("manual"!==t){const e="hover"===t?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,n="hover"===t?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;H.on(this._element,e,this._config.selector,t=>this._enter(t)),H.on(this._element,n,this._config.selector,t=>this._leave(t))}}),this._hideModalHandler=()=>{this._element&&this.hide()},H.on(this._element.closest(".modal"),"hide.bs.modal",this._hideModalHandler),this._config.selector?this._config={...this._config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){const t=this._element.getAttribute("title"),e=typeof this._element.getAttribute("data-bs-original-title");(t||"string"!==e)&&(this._element.setAttribute("data-bs-original-title",t||""),!t||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",t),this._element.setAttribute("title",""))}_enter(t,e){e=this._initializeOnDelegatedTarget(t,e),t&&(e._activeTrigger["focusin"===t.type?"focus":"hover"]=!0),e.getTipElement().classList.contains("show")||"show"===e._hoverState?e._hoverState="show":(clearTimeout(e._timeout),e._hoverState="show",e._config.delay&&e._config.delay.show?e._timeout=setTimeout(()=>{"show"===e._hoverState&&e.show()},e._config.delay.show):e.show())}_leave(t,e){e=this._initializeOnDelegatedTarget(t,e),t&&(e._activeTrigger["focusout"===t.type?"focus":"hover"]=e._element.contains(t.relatedTarget)),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState="out",e._config.delay&&e._config.delay.hide?e._timeout=setTimeout(()=>{"out"===e._hoverState&&e.hide()},e._config.delay.hide):e.hide())}_isWithActiveTrigger(){for(const t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1}_getConfig(t){const e=st.getDataAttributes(this._element);return Object.keys(e).forEach(t=>{wn.has(t)&&delete e[t]}),(t={...this.constructor.Default,...e,..."object"==typeof t&&t?t:{}}).container=!1===t.container?document.body:d(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),p(_n,t,this.constructor.DefaultType),t.sanitize&&(t.template=bn(t.template,t.allowList,t.sanitizeFn)),t}_getDelegateConfig(){const t={};for(const e in this._config)this.constructor.Default[e]!==this._config[e]&&(t[e]=this._config[e]);return t}_cleanTipClass(){const t=this.getTipElement(),e=new RegExp(`(^|\\s)${this._getBasicClassPrefix()}\\S+`,"g"),n=t.getAttribute("class").match(e);null!==n&&n.length>0&&n.map(t=>t.trim()).forEach(e=>t.classList.remove(e))}_getBasicClassPrefix(){return"bs-tooltip"}_handlePopperPlacementChange(t){const{state:e}=t;e&&(this.tip=e.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(e.placement)))}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(t){return this.each((function(){const e=In.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}E(In);const kn="popover",Sn={...In.Default,placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'},Cn={...In.DefaultType,content:"(string|element|function)"},An={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},jn=".popover-header";class Nn extends In{static get Default(){return Sn}static get NAME(){return kn}static get Event(){return An}static get DefaultType(){return Cn}isWithContent(){return this.getTitle()||this._getContent()}setContent(t){this._sanitizeAndSetContent(t,this.getTitle(),jn),this._sanitizeAndSetContent(t,this._getContent(),".popover-body")}_getContent(){return this._resolvePossibleFunction(this._config.content)}_getBasicClassPrefix(){return"bs-popover"}static jQueryInterface(t){return this.each((function(){const e=Nn.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}E(Nn);const Pn="scrollspy",Dn=".bs.scrollspy",Rn={offset:10,method:"auto",target:""},Mn={offset:"number",method:"string",target:"(string|element)"},Ln="activate.bs.scrollspy",Fn="scroll.bs.scrollspy",Un="load.bs.scrollspy.data-api",Vn='[data-bs-spy="scroll"]',Bn=".nav-link, .list-group-item, .dropdown-item";class qn extends ${constructor(t,e){super(t),this._scrollElement="BODY"===this._element.tagName?window:this._element,this._config=this._getConfig(e),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,H.on(this._scrollElement,Fn,()=>this._process()),this.refresh(),this._process()}static get Default(){return Rn}static get NAME(){return Pn}refresh(){const t=this._scrollElement===this._scrollElement.window?"offset":"position",e="auto"===this._config.method?t:this._config.method,n="position"===e?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),at.find(Bn,this._config.target).map(t=>{const r=c(t),i=r?at.findOne(r):null;if(i){const t=i.getBoundingClientRect();if(t.width||t.height)return[st[e](i).top+n,r]}return null}).filter(t=>t).sort((t,e)=>t[0]-e[0]).forEach(t=>{this._offsets.push(t[0]),this._targets.push(t[1])})}dispose(){H.off(this._scrollElement,Dn),super.dispose()}_getConfig(t){return(t={...Rn,...st.getDataAttributes(this._element),..."object"==typeof t&&t?t:{}}).target=d(t.target)||document.documentElement,p(Pn,t,Mn),t}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){const t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){const t=this._targets[this._targets.length-1];this._activeTarget!==t&&this._activate(t)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(let e=this._offsets.length;e--;)this._activeTarget!==this._targets[e]&&t>=this._offsets[e]&&(void 0===this._offsets[e+1]||t<this._offsets[e+1])&&this._activate(this._targets[e])}}_activate(t){this._activeTarget=t,this._clear();const e=Bn.split(",").map(e=>`${e}[data-bs-target="${t}"],${e}[href="${t}"]`),n=at.findOne(e.join(","),this._config.target);n.classList.add("active"),n.classList.contains("dropdown-item")?at.findOne(".dropdown-toggle",n.closest(".dropdown")).classList.add("active"):at.parents(n,".nav, .list-group").forEach(t=>{at.prev(t,".nav-link, .list-group-item").forEach(t=>t.classList.add("active")),at.prev(t,".nav-item").forEach(t=>{at.children(t,".nav-link").forEach(t=>t.classList.add("active"))})}),H.trigger(this._scrollElement,Ln,{relatedTarget:t})}_clear(){at.find(Bn,this._config.target).filter(t=>t.classList.contains("active")).forEach(t=>t.classList.remove("active"))}static jQueryInterface(t){return this.each((function(){const e=qn.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}H.on(window,Un,()=>{at.find(Vn).forEach(t=>new qn(t))}),E(qn);const zn="hide.bs.tab",Wn="hidden.bs.tab",Hn="show.bs.tab",Kn="shown.bs.tab",Gn="click.bs.tab.data-api",$n=":scope > li > .active",Yn='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Qn=":scope > .dropdown-menu .active";class Xn extends ${static get NAME(){return"tab"}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains("active"))return;let t;const e=u(this._element),n=this._element.closest(".nav, .list-group");if(n){const e="UL"===n.nodeName||"OL"===n.nodeName?$n:".active";t=at.find(e,n),t=t[t.length-1]}const r=t?H.trigger(t,zn,{relatedTarget:this._element}):null;if(H.trigger(this._element,Hn,{relatedTarget:t}).defaultPrevented||null!==r&&r.defaultPrevented)return;this._activate(this._element,n);const i=()=>{H.trigger(t,Wn,{relatedTarget:this._element}),H.trigger(this._element,Kn,{relatedTarget:t})};e?this._activate(e,e.parentNode,i):i()}_activate(t,e,n){const r=(!e||"UL"!==e.nodeName&&"OL"!==e.nodeName?at.children(e,".active"):at.find($n,e))[0],i=n&&r&&r.classList.contains("fade"),o=()=>this._transitionComplete(t,r,n);r&&i?(r.classList.remove("show"),this._queueCallback(o,t,!0)):o()}_transitionComplete(t,e,n){if(e){e.classList.remove("active");const t=at.findOne(Qn,e.parentNode);t&&t.classList.remove("active"),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}t.classList.add("active"),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),b(t),t.classList.contains("fade")&&t.classList.add("show");let r=t.parentNode;if(r&&"LI"===r.nodeName&&(r=r.parentNode),r&&r.classList.contains("dropdown-menu")){const e=t.closest(".dropdown");e&&at.find(".dropdown-toggle",e).forEach(t=>t.classList.add("active")),t.setAttribute("aria-expanded",!0)}n&&n()}static jQueryInterface(t){return this.each((function(){const e=Xn.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}H.on(document,Gn,Yn,(function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),m(this)||Xn.getOrCreateInstance(this).show()})),E(Xn);const Jn="toast",Zn="mouseover.bs.toast",tr="mouseout.bs.toast",er="focusin.bs.toast",nr="focusout.bs.toast",rr="hide.bs.toast",ir="hidden.bs.toast",or="show.bs.toast",sr="shown.bs.toast",ar={animation:"boolean",autohide:"boolean",delay:"number"},cr={animation:!0,autohide:!0,delay:5e3};class ur extends ${constructor(t,e){super(t),this._config=this._getConfig(e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get DefaultType(){return ar}static get Default(){return cr}static get NAME(){return Jn}show(){H.trigger(this._element,or).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),b(this._element),this._element.classList.add("show"),this._element.classList.add("showing"),this._queueCallback(()=>{this._element.classList.remove("showing"),H.trigger(this._element,sr),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this._element.classList.contains("show")&&(H.trigger(this._element,rr).defaultPrevented||(this._element.classList.add("showing"),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove("showing"),this._element.classList.remove("show"),H.trigger(this._element,ir)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this._element.classList.contains("show")&&this._element.classList.remove("show"),super.dispose()}_getConfig(t){return t={...cr,...st.getDataAttributes(this._element),..."object"==typeof t&&t?t:{}},p(Jn,t,this.constructor.DefaultType),t}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}if(e)return void this._clearTimeout();const n=t.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){H.on(this._element,Zn,t=>this._onInteraction(t,!0)),H.on(this._element,tr,t=>this._onInteraction(t,!1)),H.on(this._element,er,t=>this._onInteraction(t,!0)),H.on(this._element,nr,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each((function(){const e=ur.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}Y(ur),E(ur)},b727:function(t,e,n){var r=n("0366"),i=n("44ad"),o=n("7b0b"),s=n("50c4"),a=n("65f0"),c=[].push,u=function(t){var e=1==t,n=2==t,u=3==t,l=4==t,h=6==t,f=7==t,d=5==t||h;return function(p,g,m,v){for(var y,b,_=o(p),w=i(_),x=r(g,m,3),E=s(w.length),O=0,T=v||a,I=e?T(p,E):n||f?T(p,0):void 0;E>O;O++)if((d||O in w)&&(y=w[O],b=x(y,O,_),t))if(e)I[O]=b;else if(b)switch(t){case 3:return!0;case 5:return y;case 6:return O;case 2:c.call(I,y)}else switch(t){case 4:return!1;case 7:c.call(I,y)}return h?-1:u||l?l:I}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},b774:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r="devtools-plugin:setup"},b7aa:function(t,e,n){"use strict";(function(t){var e=n("cc84");(function(){var n,r="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};function i(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t,e];for(var n=0;n<e.length;++n){var r=e[n];if(r&&r.Math==Math)return r}return globalThis}var o=i(this);function s(t,e){if(e){var n=o;t=t.split(".");for(var i=0;i<t.length-1;i++){var s=t[i];s in n||(n[s]={}),n=n[s]}t=t[t.length-1],i=n[t],e=e(i),e!=i&&null!=e&&r(n,t,{configurable:!0,writable:!0,value:e})}}function a(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function c(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:a(t)}}s("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var i=o.setTimeout;n.prototype.c=function(t){i(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.s=function(t){var e=this.f();t.Ra(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Ra(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ra=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=c(t),o=i.next();!o.done;o=i.next())r(o.value).Ra(e,n)}))},e.all=function(t){var n=c(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){s[e]=n,a--,0==a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,r(i.value).Ra(o(s.length-1),e),i=n.next()}while(!i.done)}))},e}));var u=u||{},l=this||self,h=/^[\w+/_-]+[=]{0,2}$/,f=null;function d(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&h.test(t)?t:""}function p(){}function g(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function m(t){var e=g(t);return"array"==e||"object"==e&&"number"==typeof t.length}function v(t){return"function"==g(t)}function y(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function b(t){return Object.prototype.hasOwnProperty.call(t,_)&&t[_]||(t[_]=++w)}var _="closure_uid_"+(1e9*Math.random()>>>0),w=0;function x(t,e,n){return t.call.apply(t.bind,arguments)}function E(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function O(t,e,n){return O=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?x:E,O.apply(null,arguments)}function T(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var I=Date.now;function k(t,e){function n(){}n.prototype=e.prototype,t.bb=e.prototype,t.prototype=new n,t.prototype.constructor=t}function S(t){return t}function C(t,e,n){this.code=N+t,this.message=e||P[t]||"",this.a=n||null}function A(t){var e=t&&t.code;return e?new C(e.substring(N.length),t.message,t.serverResponse):null}k(C,Error),C.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},C.prototype.toJSON=function(){return this.w()};var j,N="auth/",P={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},D={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function R(t){for(var e in D)if(D[e].id===t)return t=D[e],{firebaseEndpoint:t.Ua,secureTokenEndpoint:t.$a,identityPlatformEndpoint:t.Xa};return null}function M(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function L(t){if(Error.captureStackTrace)Error.captureStackTrace(this,L);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function F(t,e){t=t.split("%s");for(var n="",r=t.length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");L.call(this,n+t[r])}function U(t,e){throw new F("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function V(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function B(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function q(){this.b=this.a=null}j=R("__EID__")?"__EID__":void 0,k(L,Error),L.prototype.name="CustomError",k(F,L),F.prototype.name="AssertionError",V.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var z=new V((function(){return new H}),(function(t){t.reset()}));function W(){var t=je,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function H(){this.next=this.b=this.a=null}q.prototype.add=function(t,e){var n=z.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},H.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},H.prototype.reset=function(){this.next=this.b=this.a=null};var K=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},G=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function $(t,e){for(var n="string"===typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}var Y=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"===typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},Q=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"===typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},X=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function J(t){t:{for(var e=oa,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}function Z(t,e){return 0<=K(t,e)}function tt(t,e){var n;return e=K(t,e),(n=0<=e)&&Array.prototype.splice.call(t,e,1),n}function et(t,e){$(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function nt(t){return Array.prototype.concat.apply([],arguments)}function rt(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var it,ot=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},st=/&/g,at=/</g,ct=/>/g,ut=/"/g,lt=/'/g,ht=/\x00/g,ft=/[\x00&<>"']/;function dt(t,e){return-1!=t.indexOf(e)}function pt(t,e){return t<e?-1:t>e?1:0}t:{var gt=l.navigator;if(gt){var mt=gt.userAgent;if(mt){it=mt;break t}}it=""}function vt(t){return dt(it,t)}function yt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function bt(t){for(var e in t)return!1;return!0}function _t(t){var e,n={};for(e in t)n[e]=t[e];return n}var wt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(var o=0;o<wt.length;o++)n=wt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Et(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if(r=r||l,r.Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&"undefined"!=typeof i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(y(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;U("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function Ot(t,e){this.a=t===St&&e||"",this.b=kt}function Tt(t){return t instanceof Ot&&t.constructor===Ot&&t.b===kt?t.a:(U("expected object of type Const, got '"+t+"'"),"type_error:Const")}Ot.prototype.ta=!0,Ot.prototype.sa=function(){return this.a},Ot.prototype.toString=function(){return"Const{"+this.a+"}"};var It,kt={},St={};function Ct(){if(void 0===It){var t=null,e=l.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:S,createScript:S,createScriptURL:S})}catch(n){l.console&&l.console.error(n.message)}It=t}else It=t}return It}function At(t,e){this.a=e===Rt?t:""}function jt(t){return t instanceof At&&t.constructor===At?t.a:(U("expected object of type TrustedResourceUrl, got '"+t+"' of type "+g(t)),"type_error:TrustedResourceUrl")}function Nt(t,e){var n=Tt(t);if(!Dt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(Pt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return t=e[r],t instanceof Ot?Tt(t):encodeURIComponent(String(t))})),Mt(t)}At.prototype.ta=!0,At.prototype.sa=function(){return this.a.toString()},At.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Pt=/%{(\w+)}/g,Dt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Rt={};function Mt(t){var e=Ct();return t=e?e.createScriptURL(t):t,new At(t,Rt)}function Lt(t,e){this.a=e===Wt?t:""}function Ft(t){return t instanceof Lt&&t.constructor===Lt?t.a:(U("expected object of type SafeUrl, got '"+t+"' of type "+g(t)),"type_error:SafeUrl")}Lt.prototype.ta=!0,Lt.prototype.sa=function(){return this.a.toString()},Lt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ut=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Vt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Bt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function qt(t){if(t instanceof Lt)return t;if(t="object"==typeof t&&t.ta?t.sa():String(t),Bt.test(t))t=new Lt(t,Wt);else{t=String(t),t=t.replace(/(%0A|%0D)/g,"");var e=t.match(Vt);t=e&&Ut.test(e[1])?new Lt(t,Wt):null}return t}function zt(t){return t instanceof Lt?t:(t="object"==typeof t&&t.ta?t.sa():String(t),Bt.test(t)||(t="about:invalid#zClosurez"),new Lt(t,Wt))}var Wt={},Ht=new Lt("about:invalid#zClosurez",Wt);function Kt(t,e,n){this.a=n===$t?t:""}function Gt(t){return t instanceof Kt&&t.constructor===Kt?t.a:(U("expected object of type SafeHtml, got '"+t+"' of type "+g(t)),"type_error:SafeHtml")}Kt.prototype.ta=!0,Kt.prototype.sa=function(){return this.a.toString()},Kt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var $t={};function Yt(t,e){Et(t,"HTMLScriptElement"),t.src=jt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=l?e=d(e.document):(null===f&&(f=d(l.document)),e=f),e&&t.setAttribute("nonce",e)}function Qt(t,e,n,r){return t=t instanceof Lt?t:zt(t),e=e||l,n=n instanceof Ot?Tt(n):n||"",e.open(Ft(t),n,r,void 0)}function Xt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Jt(t){return ft.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(st,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(at,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(ct,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(ut,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(lt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(ht,"&#0;"))),t}function Zt(t){return Zt[" "](t),t}function te(t,e){var n=de;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}Zt[" "]=p;var ee,ne=vt("Opera"),re=vt("Trident")||vt("MSIE"),ie=vt("Edge"),oe=ie||re,se=vt("Gecko")&&!(dt(it.toLowerCase(),"webkit")&&!vt("Edge"))&&!(vt("Trident")||vt("MSIE"))&&!vt("Edge"),ae=dt(it.toLowerCase(),"webkit")&&!vt("Edge");function ce(){var t=l.document;return t?t.documentMode:void 0}t:{var ue="",le=function(){var t=it;return se?/rv:([^\);]+)(\)|;)/.exec(t):ie?/Edge\/([\d\.]+)/.exec(t):re?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):ae?/WebKit\/(\S+)/.exec(t):ne?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(le&&(ue=le?le[1]:""),re){var he=ce();if(null!=he&&he>parseFloat(ue)){ee=String(he);break t}}ee=ue}var fe,de={};function pe(t){return te(t,(function(){for(var e=0,n=ot(String(ee)).split("."),r=ot(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=pt(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||pt(0==s[2].length,0==a[2].length)||pt(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(l.document&&re){var ge=ce();fe=ge||(parseInt(ee,10)||void 0)}else fe=void 0;var me=fe;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(tp){}var ve=!re||9<=Number(me);function ye(t){var e=document;return"string"===typeof t?e.getElementById(t):t}function be(t,e){yt(e,(function(e,n){e&&"object"==typeof e&&e.ta&&(e=e.sa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:xe.hasOwnProperty(n)?t.setAttribute(xe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var _e,we,xe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Ee(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!ve&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Jt(s.name),'"'),s.type){o.push(' type="',Jt(s.type),'"');var a={};xt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=Te(i,o),s&&("string"===typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):be(o,s)),2<r.length&&Oe(i,o,r),o}function Oe(t,e,n){function r(n){n&&e.appendChild("string"===typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!m(o)||y(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(y(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(v(o)){s="function"==typeof o.item;break t}}s=!1}G(s?rt(o):o,r)}}}function Te(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function Ie(t){l.setTimeout((function(){throw t}),0)}function ke(){var t=l.MessageChannel;if("undefined"===typeof t&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!vt("Presto")&&(t=function(){var t=Te(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;t=e.document,t.open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=O((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),"undefined"!==typeof t&&!vt("Trident")&&!vt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){n=n.next;var t=n.Hb;n.Hb=null,t()}},function(t){r.next={Hb:t},r=r.next,e.port2.postMessage(0)}}return function(t){l.setTimeout(t,0)}}function Se(t,e){we||Ce(),Ae||(we(),Ae=!0),je.add(t,e)}function Ce(){if(l.Promise&&l.Promise.resolve){var t=l.Promise.resolve(void 0);we=function(){t.then(Ne)}}else we=function(){var t=Ne;!v(l.setImmediate)||l.Window&&l.Window.prototype&&!vt("Edge")&&l.Window.prototype.setImmediate==l.setImmediate?(_e||(_e=ke()),_e(t)):l.setImmediate(t)}}var Ae=!1,je=new q;function Ne(){for(var t;t=W();){try{t.a.call(t.b)}catch(e){Ie(e)}B(z,t)}Ae=!1}function Pe(t,e){if(this.a=De,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=p)try{var n=this;t.call(e,(function(t){$e(n,Re,t)}),(function(t){if(!(t instanceof rn))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}$e(n,Me,t)}))}catch(r){$e(this,Me,r)}}var De=0,Re=2,Me=3;function Le(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Le.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Fe=new V((function(){return new Le}),(function(t){t.reset()}));function Ue(t,e,n){var r=Fe.get();return r.g=t,r.b=e,r.f=n,r}function Ve(t){if(t instanceof Pe)return t;var e=new Pe(p);return $e(e,Re,t),e}function Be(t){return new Pe((function(e,n){n(t)}))}function qe(t,e,n){Ye(t,e,n,null)||Se(T(e,t))}function ze(t){return new Pe((function(e,n){var r=t.length,i=[];if(r)for(var o,s=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},c=0;c<t.length;c++)o=t[c],qe(o,T(s,c),a);else e(i)}))}function We(t){return new Pe((function(e){var n=t.length,r=[];if(n)for(var i,o=function(t,i,o){n--,r[t]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&e(r)},s=0;s<t.length;s++)i=t[s],qe(i,T(o,s,!0),T(o,s,!1));else e(r)}))}function He(t,e){if(t.a==De)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==De&&1==r?He(n,e):(o?(r=o,r.next==n.f&&(n.f=r),r.next=r.next.next):Je(n),Ze(n,i,Me,e)))}t.c=null}else $e(t,Me,e)}function Ke(t,e){t.b||t.a!=Re&&t.a!=Me||Xe(t),t.f?t.f.next=e:t.b=e,t.f=e}function Ge(t,e,n,r){var i=Ue(null,null,null);return i.a=new Pe((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof rn?o(e):t(i)}catch(s){o(s)}}:o})),i.a.c=t,Ke(t,i),i.a}function $e(t,e,n){t.a==De&&(t===n&&(e=Me,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Ye(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Xe(t),e!=Me||n instanceof rn||en(t,n)))}function Ye(t,e,n,r){if(t instanceof Pe)return Ke(t,Ue(e||p,n||null,r)),!0;if(M(t))return t.then(e,n,r),!0;if(y(t))try{var i=t.then;if(v(i))return Qe(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Qe(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}function s(t){a||(a=!0,n.call(i,t))}var a=!1;try{e.call(t,s,o)}catch(c){o(c)}}function Xe(t){t.h||(t.h=!0,Se(t.gc,t))}function Je(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Ze(t,e,n,r){if(n==Me&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,tn(e,n,r);else try{e.c?e.g.call(e.f):tn(e,n,r)}catch(i){nn.call(null,i)}B(Fe,e)}function tn(t,e,n){e==Re?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}function en(t,e){t.g=!0,Se((function(){t.g&&nn.call(null,e)}))}Pe.prototype.then=function(t,e,n){return Ge(this,v(t)?t:null,v(e)?e:null,n)},Pe.prototype.$goog_Thenable=!0,n=Pe.prototype,n.oa=function(t,e){return t=Ue(t,t,e),t.c=!0,Ke(this,t),this},n.o=function(t,e){return Ge(this,null,t,e)},n.cancel=function(t){if(this.a==De){var e=new rn(t);Se((function(){He(this,e)}),this)}},n.$c=function(t){this.a=De,$e(this,Re,t)},n.ad=function(t){this.a=De,$e(this,Me,t)},n.gc=function(){for(var t;t=Je(this);)Ze(this,t,this.a,this.i);this.h=!1};var nn=Ie;function rn(t){L.call(this,t)}function on(){0!=sn&&(an[b(this)]=this),this.ya=this.ya,this.pa=this.pa}k(rn,L),rn.prototype.name="cancel";var sn=0,an={};function cn(t){if(!t.ya&&(t.ya=!0,t.Da(),0!=sn)){var e=b(t);if(0!=sn&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete an[e]}}on.prototype.ya=!1,on.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var un=Object.freeze||function(t){return t},ln=!re||9<=Number(me),hn=re&&!pe("9"),fn=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{l.addEventListener("test",p,e),l.removeEventListener("test",p,e)}catch(n){}return t}();function dn(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function pn(t,e){if(dn.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(se){t:{try{Zt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:gn[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}dn.prototype.preventDefault=function(){this.defaultPrevented=!0},k(pn,dn);var gn=un({2:"touch",3:"pen",4:"mouse"});pn.prototype.preventDefault=function(){pn.bb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,hn)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},pn.prototype.g=function(){return this.a};var mn="closure_listenable_"+(1e6*Math.random()|0),vn=0;function yn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Wa=i,this.key=++vn,this.wa=this.Qa=!1}function bn(t){t.wa=!0,t.listener=null,t.proxy=null,t.src=null,t.Wa=null}function _n(t){this.src=t,this.a={},this.b=0}function wn(t,e){var n=e.type;n in t.a&&tt(t.a[n],e)&&(bn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function xn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.wa&&o.listener==e&&o.capture==!!n&&o.Wa==r)return i}return-1}_n.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.a[o],t||(t=this.a[o]=[],this.b++);var s=xn(t,e,r,i);return-1<s?(e=t[s],n||(e.Qa=!1)):(e=new yn(e,this.src,o,!!r,i),e.Qa=n,t.push(e)),e};var En="closure_lm_"+(1e6*Math.random()|0),On={};function Tn(t,e,n,r,i){if(r&&r.once)Sn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)Tn(t,e[o],n,r,i);else n=Ln(n),t&&t[mn]?Un(t,e,n,y(r)?!!r.capture:!!r,i):In(t,e,n,!1,r,i)}function In(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=y(i)?!!i.capture:!!i,a=Rn(t);if(a||(t[En]=a=new _n(t)),n=a.add(e,n,r,s,o),!n.proxy){if(r=kn(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)fn||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(jn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function kn(){var t=Dn,e=ln?function(n){return t.call(e.src,e.listener,n)}:function(n){if(n=t.call(e.src,e.listener,n),!n)return n};return e}function Sn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Sn(t,e[o],n,r,i);else n=Ln(n),t&&t[mn]?Vn(t,e,n,y(r)?!!r.capture:!!r,i):In(t,e,n,!0,r,i)}function Cn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Cn(t,e[o],n,r,i);else r=y(r)?!!r.capture:!!r,n=Ln(n),t&&t[mn]?(t=t.v,e=String(e).toString(),e in t.a&&(o=t.a[e],n=xn(o,n,r,i),-1<n&&(bn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Rn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=xn(e,n,r,i)),(n=-1<t?e[t]:null)&&An(n))}function An(t){if("number"!==typeof t&&t&&!t.wa){var e=t.src;if(e&&e[mn])wn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(jn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Rn(e))?(wn(n,t),0==n.b&&(n.src=null,e[En]=null)):bn(t)}}}function jn(t){return t in On?On[t]:On[t]="on"+t}function Nn(t,e,n,r){var i=!0;if((t=Rn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.wa&&(o=Pn(o,r),i=i&&!1!==o)}return i}function Pn(t,e){var n=t.listener,r=t.Wa||t.src;return t.Qa&&An(t),n.call(r,e)}function Dn(t,e){if(t.wa)return!0;if(!ln){if(!e)t:{e=["window","event"];for(var n=l,r=0;r<e.length;r++)if(n=n[e[r]],null==n){e=null;break t}e=n}if(r=e,e=new pn(r,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=Nn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=Nn(r[i],t,!1,e),n=n&&o}return n}return Pn(t,new pn(e,this))}function Rn(t){return t=t[En],t instanceof _n?t:null}var Mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ln(t){return v(t)?t:(t[Mn]||(t[Mn]=function(e){return t.handleEvent(e)}),t[Mn])}function Fn(){on.call(this),this.v=new _n(this),this.bc=this,this.hb=null}function Un(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function Vn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function Bn(t,e,n,r){if(e=t.v.a[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.wa&&s.capture==n){var a=s.listener,c=s.Wa||s.src;s.Qa&&wn(t.v,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}function qn(t,e,n){if(v(t))n&&(t=O(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=O(t.handleEvent,t)}return 2147483647<Number(e)?-1:l.setTimeout(t,e||0)}function zn(t){var e=null;return new Pe((function(n,r){e=qn((function(){n(void 0)}),t),-1==e&&r(Error("Failed to schedule timer."))})).o((function(t){throw l.clearTimeout(e),t}))}function Wn(t){if(t.X&&"function"==typeof t.X)return t.X();if("string"===typeof t)return t.split("");if(m(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Hn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.X||"function"!=typeof t.X){if(m(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Kn(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(m(t)||"string"===typeof t)G(t,e,void 0);else for(var n=Hn(t),r=Wn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}function Gn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Gn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function $n(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Yn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)r=t.a[e],Yn(i,r)||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Yn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}k(Fn,on),Fn.prototype[mn]=!0,Fn.prototype.addEventListener=function(t,e,n,r){Tn(this,t,e,n,r)},Fn.prototype.removeEventListener=function(t,e,n,r){Cn(this,t,e,n,r)},Fn.prototype.dispatchEvent=function(t){var e,n=this.hb;if(n)for(e=[];n;n=n.hb)e.push(n);n=this.bc;var r=t.type||t;if("string"===typeof t)t=new dn(t,n);else if(t instanceof dn)t.target=t.target||n;else{var i=t;t=new dn(r,n),xt(t,i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=Bn(s,r,!0,t)&&i}if(s=t.b=n,i=Bn(s,r,!0,t)&&i,i=Bn(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)s=t.b=e[o],i=Bn(s,r,!1,t)&&i;return i},Fn.prototype.Da=function(){if(Fn.bb.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)bn(n[r]);delete e.a[t],e.b--}}this.hb=null},n=Gn.prototype,n.X=function(){$n(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},n.Y=function(){return $n(this),this.a.concat()},n.clear=function(){this.b={},this.c=this.a.length=0},n.get=function(t,e){return Yn(this.b,t)?this.b[t]:e},n.set=function(t,e){Yn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},n.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Qn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Xn(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Jn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Jn?(this.i=void 0!==e?e:t.i,Zn(this,t.c),this.l=t.l,this.a=t.a,tr(this,t.g),this.f=t.f,er(this,_r(t.b)),this.h=t.h):t&&(n=String(t).match(Qn))?(this.i=!!e,Zn(this,n[1]||"",!0),this.l=sr(n[2]||""),this.a=sr(n[3]||"",!0),tr(this,n[4]),this.f=sr(n[5]||"",!0),er(this,n[6]||"",!0),this.h=sr(n[7]||"")):(this.i=!!e,this.b=new pr(null,this.i))}function Zn(t,e,n){t.c=n?sr(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function tr(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function er(t,e,n){e instanceof pr?(t.b=e,xr(t.b,t.i)):(n||(e=ar(e,fr)),t.b=new pr(e,t.i))}function nr(t,e,n){t.b.set(e,n)}function rr(t,e){return t.b.get(e)}function ir(t){return t instanceof Jn?new Jn(t):new Jn(t,void 0)}function or(t,e,n,r){var i=new Jn(null,void 0);return t&&Zn(i,t),e&&(i.a=e),n&&tr(i,n),r&&(i.f=r),i}function sr(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ar(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,cr),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function cr(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}Jn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(ar(e,ur,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(ar(e,ur,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.g,null!=n&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(ar(n,"/"==n.charAt(0)?hr:lr,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",ar(n,dr)),t.join("")},Jn.prototype.resolve=function(t){var e=new Jn(this),n=!!t.c;n?Zn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)tr(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(i=r,".."==i||"."==i)r="";else if(dt(i,"./")||dt(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?er(e,_r(t.b)):n=!!t.h,n&&(e.h=t.h),e};var ur=/[#\/\?@]/g,lr=/[#\?:]/g,hr=/[#\?]/g,fr=/[#\?@]/g,dr=/#/g;function pr(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function gr(t){t.a||(t.a=new Gn,t.b=0,t.c&&Xn(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function mr(t){var e=Hn(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new pr(null,void 0);t=Wn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?br(n,i,o):n.add(i,o)}return n}function vr(t,e){gr(t),e=wr(t,e),Yn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,t=t.a,Yn(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&$n(t)))}function yr(t,e){return gr(t),e=wr(t,e),Yn(t.a.b,e)}function br(t,e,n){vr(t,e),0<n.length&&(t.c=null,t.a.set(wr(t,e),rt(n)),t.b+=n.length)}function _r(t){var e=new pr;return e.c=t.c,t.a&&(e.a=new Gn(t.a),e.b=t.b),e}function wr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function xr(t,e){e&&!t.f&&(gr(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(vr(this,e),br(this,n,t))}),t)),t.f=e}function Er(t){var e=[];return Tr(new Or,t,e),e.join("")}function Or(){}function Tr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),Tr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&(o=e[r],"function"!=typeof o&&(n.push(i),Sr(r,n),n.push(":"),Tr(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":Sr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}n=pr.prototype,n.add=function(t,e){gr(this),this.c=null,t=wr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},n.clear=function(){this.a=this.c=null,this.b=0},n.forEach=function(t,e){gr(this),this.a.forEach((function(n,r){G(n,(function(n){t.call(e,n,r,this)}),this)}),this)},n.Y=function(){gr(this);for(var t=this.a.X(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},n.X=function(t){gr(this);var e=[];if("string"===typeof t)yr(this,t)&&(e=nt(e,this.a.get(wr(this,t))));else{t=this.a.X();for(var n=0;n<t.length;n++)e=nt(e,t[n])}return e},n.set=function(t,e){return gr(this),this.c=null,t=wr(this,t),yr(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},n.get=function(t,e){return t?(t=this.X(t),0<t.length?String(t[0]):e):e},n.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Ir={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},kr=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Sr(t,e){e.push('"',t.replace(kr,(function(t){var e=Ir[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Ir[t]=e),e})),'"')}function Cr(){var t=Zr();return re&&!!me&&11==me||/Edge\/\d+/.test(t)}function Ar(){return l.window&&l.window.location.href||self&&self.location&&self.location.href||""}function jr(t,e){e=e||l.window;var n="about:blank";t&&(n=Ft(qt(t)||Ht)),e.location.href=n}function Nr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<Nr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function Pr(){var t=Zr();return t=Qr(t)!=Yr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null,!(t&&30>t)&&(!re||!me||9<me)}function Dr(t){return t=(t||Zr()).toLowerCase(),!!(t.match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function Rr(t){t=t||l.window;try{t.close()}catch(e){}}function Mr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Zr().toLowerCase(),r&&(e.target=r,dt(n,"crios/")&&(e.target="_blank")),Qr(Zr())==$r&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Lt?n:qt("undefined"!=typeof n.href?n.href:String(n))||Ht,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((vt("iPhone")&&!vt("iPod")&&!vt("iPad")||vt("iPad")||vt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(s=Te(document,"A"),Et(s,"HTMLAnchorElement"),e=e instanceof Lt?e:zt(e),s.href=Ft(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),t=document.createEvent("MouseEvent"),t.initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=Qt("",r,n,s),t=Ft(e),s&&(oe&&dt(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Jt(t)+'">',t=(r=Ct())?r.createHTML(t):t,t=new Kt(t,null,$t),r=s.document)&&(r.write(Gt(t)),r.close())):(s=Qt(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}function Lr(t){return new Pe((function(e){function n(){zn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}return n()}))}var Fr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ur=/^[^@]+@[^@]+$/;function Vr(){var t=null;return new Pe((function(e){"complete"==l.document.readyState?e():(t=function(){e()},Sn(window,"load",t))})).o((function(e){throw Cn(window,"load",t),e}))}function Br(){return qr(void 0)?Vr().then((function(){return new Pe((function(t,e){var n=l.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Be(Error("Cordova must run in an Android or iOS file scheme."))}function qr(t){return t=t||Zr(),!("file:"!==ii()&&"ionic:"!==ii()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function zr(){var t=l.window;try{return!(!t||t==t.top)}catch(e){return!1}}function Wr(){return"undefined"!==typeof l.WorkerGlobalScope&&"function"===typeof l.importScripts}function Hr(){return e["default"].INTERNAL.hasOwnProperty("reactNative")?"ReactNative":e["default"].INTERNAL.hasOwnProperty("node")?"Node":Wr()?"Worker":"Browser"}function Kr(){var t=Hr();return"ReactNative"===t||"Node"===t}function Gr(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}var $r="Firefox",Yr="Chrome";function Qr(t){var e=t.toLowerCase();return dt(e,"opera/")||dt(e,"opr/")||dt(e,"opios/")?"Opera":dt(e,"iemobile")?"IEMobile":dt(e,"msie")||dt(e,"trident/")?"IE":dt(e,"edge/")?"Edge":dt(e,"firefox/")?$r:dt(e,"silk/")?"Silk":dt(e,"blackberry")?"Blackberry":dt(e,"webos")?"Webos":!dt(e,"safari/")||dt(e,"chrome/")||dt(e,"crios/")||dt(e,"android")?!dt(e,"chrome/")&&!dt(e,"crios/")||dt(e,"edge/")?dt(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Yr:"Safari"}var Xr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Jr(t,e){e=e||[];var n,r=[],i={};for(n in Xr)i[Xr[n]]=!0;for(n=0;n<e.length;n++)"undefined"!==typeof i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),e=r,e.length||(e=["FirebaseCore-web"]),r=Hr(),"Browser"===r?(i=Zr(),r=Qr(i)):"Worker"===r&&(i=Zr(),r=Qr(i)+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Zr(){return l.navigator&&l.navigator.userAgent||""}function ti(t,e){t=t.split("."),e=e||l;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function ei(){try{var t=l.localStorage,e=ui();if(t)return t.setItem(e,"1"),t.removeItem(e),!Cr()||!!l.indexedDB}catch(n){return Wr()&&!!l.indexedDB}return!1}function ni(){return(ri()||"chrome-extension:"===ii()||qr())&&!Kr()&&ei()&&!Wr()}function ri(){return"http:"===ii()||"https:"===ii()}function ii(){return l.location&&l.location.protocol||null}function oi(t){return t=t||Zr(),!Dr(t)&&Qr(t)!=$r}function si(t){return"undefined"===typeof t?null:Er(t)}function ai(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function ci(t){if(null!==t)return JSON.parse(t)}function ui(t){return t||Math.floor(1e9*Math.random()).toString()}function li(t){return t=t||Zr(),"Safari"!=Qr(t)&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function hi(){var t=l.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function fi(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Zr(),e=Hr(),this.b=Dr(t)||"ReactNative"===e}function di(){var t=l.document;return!t||"undefined"===typeof t.visibilityState||"visible"==t.visibilityState}function pi(){var t=l.document,e=null;return di()||!t?Ve():new Pe((function(n){e=function(){di()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}function gi(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function mi(){return!(!ti("fireauth.oauthhelper",l)&&!ti("fireauth.iframe",l))}function vi(){var t=l.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}function yi(){var t=l.navigator;return t&&t.serviceWorker?Ve().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Ve(null)}fi.prototype.get=function(){var t=l.navigator;return!t||"boolean"!==typeof t.onLine||!ri()&&"chrome-extension:"!==ii()&&"undefined"===typeof t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var bi,_i={};function wi(t){_i[t]||(_i[t]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(t))}try{var xi={};Object.defineProperty(xi,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(xi,"abcd",{configurable:!0,enumerable:!0,value:2}),bi=2==xi.abcd}catch(tp){bi=!1}function Ei(t,e,n){bi?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Oi(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Ei(t,n,e[n])}function Ti(t){var e={};return Oi(e,t),e}function Ii(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function ki(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}function Si(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Ei(e,n,Si(t[n]));return e}function Ci(t){var e=t&&(t[Di]?"phone":null);if(!(e&&t&&t[Pi]))throw new C("internal-error","Internal assert: invalid MultiFactorInfo object");Ei(this,"uid",t[Pi]),Ei(this,"displayName",t[ji]||null);var n=null;t[Ni]&&(n=new Date(t[Ni]).toUTCString()),Ei(this,"enrollmentTime",n),Ei(this,"factorId",e)}function Ai(t){try{var e=new Ri(t)}catch(n){e=null}return e}Ci.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ji="displayName",Ni="enrolledAt",Pi="mfaEnrollmentId",Di="phoneInfo";function Ri(t){Ci.call(this,t),Ei(this,"phoneNumber",t[Di])}function Mi(t){var e={},n=t[Vi],r=t[qi],i=t[zi];if(t=Ai(t[Bi]),!i||i!=Fi&&i!=Ui&&!n||i==Ui&&!r||i==Li&&!t)throw Error("Invalid checkActionCode response!");i==Ui?(e[Hi]=n||null,e[Gi]=n||null,e[Wi]=r):(e[Hi]=r||null,e[Gi]=r||null,e[Wi]=n||null),e[Ki]=t||null,Ei(this,Yi,i),Ei(this,$i,Si(e))}k(Ri,Ci),Ri.prototype.w=function(){var t=Ri.bb.w.call(this);return t.phoneNumber=this.phoneNumber,t};var Li="REVERT_SECOND_FACTOR_ADDITION",Fi="EMAIL_SIGNIN",Ui="VERIFY_AND_CHANGE_EMAIL",Vi="email",Bi="mfaInfo",qi="newEmail",zi="requestType",Wi="email",Hi="fromEmail",Ki="multiFactorInfo",Gi="previousEmail",$i="data",Yi="operation";function Qi(t){t=ir(t);var e=rr(t,Xi)||null,n=rr(t,Ji)||null,r=rr(t,eo)||null;if(r=r&&ro[r]||null,!e||!n||!r)throw new C("argument-error",Xi+", "+Ji+"and "+eo+" are required in a valid action code URL.");Oi(this,{apiKey:e,operation:r,code:n,continueUrl:rr(t,Zi)||null,languageCode:rr(t,to)||null,tenantId:rr(t,no)||null})}var Xi="apiKey",Ji="oobCode",Zi="continueUrl",to="languageCode",eo="mode",no="tenantId",ro={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Li,signIn:Fi,verifyAndChangeEmail:Ui,verifyEmail:"VERIFY_EMAIL"};function io(t){try{return new Qi(t)}catch(e){return null}}function oo(t){var e=t[lo];if("undefined"===typeof e)throw new C("missing-continue-uri");if("string"!==typeof e||"string"===typeof e&&!e.length)throw new C("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[so];if(n&&"object"===typeof n){e=n[po];var r=n[ho];if(n=n[fo],"string"===typeof e&&e.length){if(this.a=e,"undefined"!==typeof r&&"boolean"!==typeof r)throw new C("argument-error",ho+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new C("argument-error",fo+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof e)throw new C("argument-error",po+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new C("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new C("argument-error",so+" property must be a non null object when specified.");if(this.f=null,(e=t[uo])&&"object"===typeof e){if(e=e[go],"string"===typeof e&&e.length)this.f=e;else if("undefined"!==typeof e)throw new C("argument-error",go+" property must be a non empty string when specified.")}else if("undefined"!==typeof e)throw new C("argument-error",uo+" property must be a non null object when specified.");if(e=t[co],"undefined"!==typeof e&&"boolean"!==typeof e)throw new C("argument-error",co+" property must be a boolean when specified.");if(this.c=!!e,t=t[ao],"undefined"!==typeof t&&("string"!==typeof t||"string"===typeof t&&!t.length))throw new C("argument-error",ao+" property must be a non empty string when specified.");this.i=t||null}var so="android",ao="dynamicLinkDomain",co="handleCodeInApp",uo="iOS",lo="url",ho="installApp",fo="minimumVersion",po="packageName",go="bundleId";function mo(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}function vo(t){return Q(t,(function(t){return t=t.toString(16),1<t.length?t:"0"+t})).join("")}var yo=null;function bo(t){var e=[];return _o(t,(function(t){e.push(t)})),e}function _o(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=yo[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}wo();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}function wo(){if(!yo){yo={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===yo[o]&&(yo[o]=i)}}}function xo(t){var e=Oo(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Eo(t){try{return new xo(t)}catch(e){return null}}function Oo(t){if(!t)return null;if(t=t.split("."),3!=t.length)return null;t=t[1];for(var e=(4-t.length%4)%4,n=0;n<e;n++)t+=".";try{var r=bo(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var s=r[e++],a=r[e++],c=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&a)-65536;t[n++]=String.fromCharCode(55296+(c>>10)),t[n++]=String.fromCharCode(56320+(1023&c))}else o=r[e++],s=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}return JSON.parse(t.join(""))}catch(u){}return null}xo.prototype.T=function(){return this.f},xo.prototype.l=function(){return this.c},xo.prototype.toString=function(){return this.h};var To="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Io=["client_id","response_type","scope","redirect_uri","state"],ko={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Io},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Io},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Io},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:To},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function So(t){for(var e in ko)if(ko[e].fa==t)return ko[e];return null}function Co(t){var e={};e["facebook.com"]=Do,e["google.com"]=Mo,e["github.com"]=Ro,e["twitter.com"]=Lo;var n=t&&t[jo];try{if(n)return e[n]?new e[n](t):new Po(t);if("undefined"!==typeof t[Ao])return new No(t)}catch(r){}return null}var Ao="idToken",jo="providerId";function No(t){var e=t[jo];if(!e&&t[Ao]){var n=Eo(t[Ao]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,"undefined"!==typeof t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Ei(this,"providerId",e),Ei(this,"isNewUser",n)}function Po(t){No.call(this,t),t=ci(t.rawUserInfo||"{}"),Ei(this,"profile",Si(t||{}))}function Do(t){if(Po.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ro(t){if(Po.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Ei(this,"username",this.profile&&this.profile.login||null)}function Mo(t){if(Po.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Lo(t){if(Po.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Ei(this,"username",t.screenName||null)}function Fo(t){var e=ir(t),n=rr(e,"link"),r=rr(ir(n),"link");return e=rr(e,"deep_link_id"),rr(ir(e),"link")||e||r||n||t}function Uo(t,e){if(!t&&!e)throw new C("internal-error","Internal assert: no raw session string available");if(t&&e)throw new C("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?Vo:Bo}k(Po,No),k(Do,Po),k(Ro,Po),k(Mo,Po),k(Lo,Po);var Vo="enroll",Bo="signin";function qo(){}function zo(t,e){return t.then((function(t){if(t[Ma]){var n=Eo(t[Ma]);if(!n||e!=n.i)throw new C("user-mismatch");return t}throw new C("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==N+"user-not-found"?new C("user-mismatch"):t}))}function Wo(t,e){if(!e)throw new C("internal-error","failed to construct a credential");this.a=e,Ei(this,"providerId",t),Ei(this,"signInMethod",t)}function Ho(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function Ko(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new Wo(t.providerId,t.pendingToken)}catch(e){}return null}function Go(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Ei(this,"idToken",e.idToken),e.accessToken&&Ei(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Ei(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new C("internal-error","failed to construct a credential");Ei(this,"accessToken",e.oauthToken),Ei(this,"secret",e.oauthTokenSecret)}Ei(this,"providerId",t),Ei(this,"signInMethod",n)}function $o(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:mr(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function Yo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new Go(t.providerId,e,t.signInMethod)}catch(n){}}return null}function Qo(t,e){this.Qc=e||[],Oi(this,{providerId:t,isOAuthProvider:!0}),this.Jb={},this.qb=(So(t)||{}).Ja||null,this.pb=null}function Xo(t){if("string"!==typeof t||0!=t.indexOf("saml."))throw new C("argument-error",'SAML provider IDs must be prefixed with "saml."');Qo.call(this,t,[])}function Jo(t){Qo.call(this,t,Io),this.a=[]}function Zo(){Jo.call(this,"facebook.com")}function ts(t){if(!t)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new Zo).credential({accessToken:e})}function es(){Jo.call(this,"github.com")}function ns(t){if(!t)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new es).credential({accessToken:e})}function rs(){Jo.call(this,"google.com"),this.Ca("profile")}function is(t,e){var n=t;return y(t)&&(n=t.idToken,e=t.accessToken),(new rs).credential({idToken:n,accessToken:e})}function os(){Qo.call(this,"twitter.com",To)}function ss(t,e){var n=t;if(y(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new C("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Go("twitter.com",n,"twitter.com")}function as(t,e,n){this.a=t,this.f=e,Ei(this,"providerId","password"),Ei(this,"signInMethod",n===us.EMAIL_LINK_SIGN_IN_METHOD?us.EMAIL_LINK_SIGN_IN_METHOD:us.EMAIL_PASSWORD_SIGN_IN_METHOD)}function cs(t){return t&&t.email&&t.password?new as(t.email,t.password,t.signInMethod):null}function us(){Oi(this,{providerId:"password",isOAuthProvider:!1})}function ls(t,e){if(e=hs(e),!e)throw new C("argument-error","Invalid email link!");return new as(t,e.code,us.EMAIL_LINK_SIGN_IN_METHOD)}function hs(t){return t=Fo(t),(t=io(t))&&t.operation===Fi?t:null}function fs(t){if(!(t.fb&&t.eb||t.La&&t.ea))throw new C("internal-error");this.a=t,Ei(this,"providerId","phone"),this.fa="phone",Ei(this,"signInMethod","phone")}function ds(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return G(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new fs(e)}return null}function ps(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.fb,code:t.a.eb}}function gs(t){try{this.a=t||e["default"].auth()}catch(n){throw new C("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Oi(this,{providerId:"phone",isOAuthProvider:!1})}function ms(t,e){if(!t)throw new C("missing-verification-id");if(!e)throw new C("missing-verification-code");return new fs({fb:t,eb:e})}function vs(t){if(t.temporaryProof&&t.phoneNumber)return new fs({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return is(o,n);case"facebook.com":return ts(n);case"github.com":return ns(n);case"twitter.com":return ss(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new Wo(e,s):new Go(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Jo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function ys(t){if(!t.isOAuthProvider)throw new C("invalid-oauth-provider")}function bs(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new C("invalid-auth-event");if(this.g&&this.a)throw new C("invalid-auth-event");if(this.g&&!this.f)throw new C("invalid-auth-event")}function _s(t){return t=t||{},t.type?new bs(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&A(t.error),t.postBody,t.tenantId):null}function ws(){this.b=null,this.a=[]}Uo.prototype.Ha=function(){return this.a?Ve(this.a):Ve(this.b)},Uo.prototype.w=function(){return this.type==Vo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},qo.prototype.ka=function(){},qo.prototype.b=function(){},qo.prototype.c=function(){},qo.prototype.w=function(){},Wo.prototype.ka=function(t){return fc(t,Ho(this))},Wo.prototype.b=function(t,e){var n=Ho(this);return n.idToken=e,dc(t,n)},Wo.prototype.c=function(t,e){return zo(pc(t,Ho(this)),e)},Wo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Go.prototype.ka=function(t){return fc(t,$o(this))},Go.prototype.b=function(t,e){var n=$o(this);return n.idToken=e,dc(t,n)},Go.prototype.c=function(t,e){var n=$o(this);return zo(pc(t,n),e)},Go.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},Qo.prototype.Ka=function(t){return this.Jb=_t(t),this},k(Xo,Qo),k(Jo,Qo),Jo.prototype.Ca=function(t){return Z(this.a,t)||this.a.push(t),this},Jo.prototype.Rb=function(){return rt(this.a)},Jo.prototype.credential=function(t,e){var n;if(n=y(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null},!n.idToken&&!n.accessToken)throw new C("argument-error","credential failed: must provide the ID token and/or the access token.");return new Go(this.providerId,n,this.providerId)},k(Zo,Jo),Ei(Zo,"PROVIDER_ID","facebook.com"),Ei(Zo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),k(es,Jo),Ei(es,"PROVIDER_ID","github.com"),Ei(es,"GITHUB_SIGN_IN_METHOD","github.com"),k(rs,Jo),Ei(rs,"PROVIDER_ID","google.com"),Ei(rs,"GOOGLE_SIGN_IN_METHOD","google.com"),k(os,Qo),Ei(os,"PROVIDER_ID","twitter.com"),Ei(os,"TWITTER_SIGN_IN_METHOD","twitter.com"),as.prototype.ka=function(t){return this.signInMethod==us.EMAIL_LINK_SIGN_IN_METHOD?Yc(t,xc,{email:this.a,oobCode:this.f}):Yc(t,Wc,{email:this.a,password:this.f})},as.prototype.b=function(t,e){return this.signInMethod==us.EMAIL_LINK_SIGN_IN_METHOD?Yc(t,Ec,{idToken:e,email:this.a,oobCode:this.f}):Yc(t,Mc,{idToken:e,email:this.a,password:this.f})},as.prototype.c=function(t,e){return zo(this.ka(t),e)},as.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Oi(us,{PROVIDER_ID:"password"}),Oi(us,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Oi(us,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),fs.prototype.ka=function(t){return t.gb(ps(this))},fs.prototype.b=function(t,e){var n=ps(this);return n.idToken=e,Yc(t,Kc,n)},fs.prototype.c=function(t,e){var n=ps(this);return n.operation="REAUTH",t=Yc(t,Gc,n),zo(t,e)},fs.prototype.w=function(){var t={providerId:"phone"};return this.a.fb&&(t.verificationId=this.a.fb),this.a.eb&&(t.verificationCode=this.a.eb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},gs.prototype.gb=function(t,e){var n=this.a.a;return Ve(e.verify()).then((function(r){if("string"!==typeof r)throw new C("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i,o=y(t)?t.session:null,s=y(t)?t.phoneNumber:t;return i=o&&o.type==Vo?o.Ha().then((function(t){return oc(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:r}})})):o&&o.type==Bo?o.Ha().then((function(e){return ac(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):ic(n,{phoneNumber:s,recaptchaToken:r}),i.then((function(t){return"function"===typeof e.reset&&e.reset(),t}),(function(t){throw"function"===typeof e.reset&&e.reset(),t}));default:throw new C("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Oi(gs,{PROVIDER_ID:"phone"}),Oi(gs,{PHONE_SIGN_IN_METHOD:"phone"}),bs.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},bs.prototype.T=function(){return this.h},bs.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var xs,Es=null;function Os(t){var e=Es;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},t=ti("universalLinks.subscribe",l),"function"===typeof t&&t(null,e.b))}function Ts(t){var e="unauthorized-domain",n=void 0,r=ir(t);t=r.a,r=r.c,"chrome-extension"==r?n=Xt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Xt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",C.call(this,e,n)}function Is(t,e,n){C.call(this,t,n),t=e||{},t.Kb&&Ei(this,"email",t.Kb),t.ea&&Ei(this,"phoneNumber",t.ea),t.credential&&Ei(this,"credential",t.credential),t.$b&&Ei(this,"tenantId",t.$b)}function ks(t){if(t.code){var e=t.code||"";0==e.indexOf(N)&&(e=e.substring(N.length));var n={credential:vs(t),$b:t.tenantId};if(t.email)n.Kb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new C(e,t.message||void 0);return new Is(e,n,t.message)}return null}function Ss(){}function Cs(t){return t.c||(t.c=t.b())}function As(){}function js(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Ns(){}function Ps(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=O(this.qc,this),this.a.onerror=O(this.Tb,this),this.a.onprogress=O(this.rc,this),this.a.ontimeout=O(this.vc,this)}function Ds(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Rs(t,e,n){this.reset(t,e,n,void 0,void 0)}k(Ts,C),k(Is,C),Is.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&xt(t,e),t},Is.prototype.toJSON=function(){return this.w()},Ss.prototype.c=null,k(As,Ss),As.prototype.a=function(){var t=js(this);return t?new ActiveXObject(t):new XMLHttpRequest},As.prototype.b=function(){var t={};return js(this)&&(t[0]=!0,t[1]=!0),t},xs=new As,k(Ns,Ss),Ns.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Ps;throw Error("Unsupported browser")},Ns.prototype.b=function(){return{}},n=Ps.prototype,n.open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},n.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},n.abort=function(){this.a.abort()},n.setRequestHeader=function(){},n.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},n.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Ds(this,4)},n.Tb=function(){this.status=500,this.response=this.responseText="",Ds(this,4)},n.vc=function(){this.Tb()},n.rc=function(){this.status=200,Ds(this,1)},n.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Rs.prototype.a=null;function Ms(t){this.f=t,this.b=this.c=this.a=null}function Ls(t,e){this.name=t,this.value=e}Rs.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||I(),delete this.a},Ls.prototype.toString=function(){return this.name};var Fs=new Ls("SEVERE",1e3),Us=new Ls("WARNING",900),Vs=new Ls("CONFIG",700),Bs=new Ls("FINE",500);function qs(t){return t.c?t.c:t.a?qs(t.a):(U("Root logger has no level set."),null)}Ms.prototype.log=function(t,e,n){if(t.value>=qs(this).value)for(v(e)&&(e=e()),t=new Rs(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var zs={},Ws=null;function Hs(t){var e;if(Ws||(Ws=new Ms(""),zs[""]=Ws,Ws.c=Vs),!(e=zs[t])){e=new Ms(t);var n=t.lastIndexOf("."),r=t.substr(n+1);n=Hs(t.substr(0,n)),n.b||(n.b={}),n.b[r]=e,e.a=n,zs[t]=e}return e}function Ks(t,e){t&&t.log(Bs,e,void 0)}function Gs(t){this.f=t}function $s(t){Fn.call(this),this.u=t,this.h=void 0,this.readyState=Ys,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Hs("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}k(Gs,Ss),Gs.prototype.a=function(){return new $s(this.f)},Gs.prototype.b=function(t){return function(){return t}}({}),k($s,Fn);var Ys=0;function Qs(t){t.c.read().then(t.pc.bind(t)).catch(t.Va.bind(t))}function Xs(t){t.readyState=4,t.g=null,t.c=null,t.m=null,Js(t)}function Js(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Zs(t){Fn.call(this),this.headers=new Gn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=ta,this.u=this.S=!1}n=$s.prototype,n.open=function(t,e){if(this.readyState!=Ys)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,Js(this)},n.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Va.bind(this))},n.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Xs(this)),this.readyState=Ys},n.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,Js(this)),this.a&&(this.readyState=3,Js(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):"undefined"!==typeof l.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,Qs(this)):t.text().then(this.tc.bind(this),this.Va.bind(this)))))},n.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?Xs(this):Js(this),3==this.readyState&&Qs(this)}},n.tc=function(t){this.a&&(this.response=this.responseText=t,Xs(this))},n.sc=function(t){this.a&&(this.response=t,Xs(this))},n.Va=function(t){var e=this.i;e&&e.log(Us,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&Xs(this)},n.setRequestHeader=function(t,e){this.l.append(t,e)},n.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(Us,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},n.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(Us,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty($s.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),k(Zs,Fn);var ta="";Zs.prototype.b=Hs("goog.net.XhrIo");var ea=/^https?$/i,na=["POST","PUT"];function ra(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():xs.a(),t.C=t.D?Cs(t.D):Cs(xs),t.a.onreadystatechange=O(t.Wb,t);try{Ks(t.b,pa(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(s){return Ks(t.b,pa(t,"Error opening Xhr: "+s.message)),void sa(t,s)}e=r||"";var o=new Gn(t.headers);i&&Kn(i,(function(t,e){o.set(e,t)})),i=J(o.Y()),r=l.FormData&&e instanceof l.FormData,!Z(na,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{la(t),0<t.g&&(t.u=ia(t.a),Ks(t.b,pa(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=O(t.Ma,t)):t.s=qn(t.Ma,t.g,t)),Ks(t.b,pa(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){Ks(t.b,pa(t,"Send error: "+s.message)),sa(t,s)}}function ia(t){return re&&pe(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}function oa(t){return"content-type"==t.toLowerCase()}function sa(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,aa(t),ua(t)}function aa(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ca(t){if(t.c&&"undefined"!=typeof u)if(t.C[1]&&4==ha(t)&&2==fa(t))Ks(t.b,pa(t,"Local request error detected and ignored"));else if(t.i&&4==ha(t))qn(t.Wb,0,t);else if(t.dispatchEvent("readystatechange"),4==ha(t)){Ks(t.b,pa(t,"Request complete")),t.c=!1;try{var e,n=fa(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Qn)[1]||null;if(!o&&l.self&&l.self.location){var s=l.self.location.protocol;o=s.substr(0,s.length-1)}i=!ea.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var a=2<ha(t)?t.a.statusText:""}catch(c){Ks(t.b,"Can not get status: "+c.message),a=""}t.h=a+" ["+fa(t)+"]",aa(t)}}finally{ua(t)}}}function ua(t,e){if(t.a){la(t);var n=t.a,r=t.C[0]?p:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(Fs,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function la(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(l.clearTimeout(t.s),t.s=null)}function ha(t){return t.a?t.a.readyState:0}function fa(t){try{return 2<ha(t)?t.a.status:-1}catch(e){return-1}}function da(t){try{return t.a?t.a.responseText:""}catch(e){return Ks(t.b,"Can not get responseText: "+e.message),""}}function pa(t,e){return e+" ["+t.P+" "+t.l+" "+fa(t)+"]"}function ga(t){var e=Sa;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function ma(t,e,n){t.a=!0,t.c=n,t.f=!e,wa(t)}function va(t){if(t.a){if(!t.v)throw new xa(t);t.v=!1}}function ya(t,e){ba(t,null,e,void 0)}function ba(t,e,n,r){t.g.push([e,n,r]),t.a&&wa(t)}function _a(t){return X(t.g,(function(t){return v(t[1])}))}function wa(t){if(t.h&&t.a&&_a(t)){var e=t.h,n=Ta[e];n&&(l.clearTimeout(n.a),delete Ta[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var a=o.call(i||t.s,e);void 0!==a&&(t.f=t.f&&(a==e||a instanceof Error),t.c=e=a),(M(e)||"function"===typeof l.Promise&&e instanceof l.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,_a(t)||(n=!0)}}t.c=e,r&&(a=O(t.m,t,!0),r=O(t.m,t,!1),e instanceof ga?(ba(e,a,r),e.C=!0):e.then(a,r)),n&&(e=new Oa(e),Ta[e.a]=e,t.h=e.a)}function xa(){L.call(this)}function Ea(){L.call(this)}function Oa(t){this.a=l.setTimeout(O(this.c,this),0),this.b=t}n=Zs.prototype,n.Ma=function(){"undefined"!=typeof u&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Ks(this.b,pa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},n.abort=function(){this.a&&this.c&&(Ks(this.b,pa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ua(this))},n.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ua(this,!0)),Zs.bb.Da.call(this)},n.Wb=function(){this.ya||(this.N||this.i||this.f?ca(this):this.Jc())},n.Jc=function(){ca(this)},n.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ta:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Fs,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return Ks(this.b,"Can not get response: "+e.message),null}},ga.prototype.cancel=function(t){if(this.a)this.c instanceof ga&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Ea(this),va(this),ma(this,!1,t))}},ga.prototype.m=function(t,e){this.i=!1,ma(this,t,e)},ga.prototype.then=function(t,e,n){var r,i,o=new Pe((function(t,e){r=t,i=e}));return ba(this,r,(function(t){t instanceof Ea?o.cancel():i(t)})),o.then(t,e,n)},ga.prototype.$goog_Thenable=!0,k(xa,L),xa.prototype.message="Deferred has already fired",xa.prototype.name="AlreadyCalledError",k(Ea,L),Ea.prototype.message="Deferred was canceled",Ea.prototype.name="CanceledError",Oa.prototype.c=function(){throw delete Ta[this.a],this.b};var Ta={};function Ia(t){var e={},n=e.document||document,r=jt(t).toString(),i=Te(document,"SCRIPT"),o={Xb:i,Ma:void 0},s=new ga(o),a=null,c=null!=e.timeout?e.timeout:5e3;return 0<c&&(a=window.setTimeout((function(){Ca(i,!0);var t=new Na(ja,"Timeout reached for loading script "+r);va(s),ma(s,!1,t)}),c),o.Ma=a),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ca(i,e.xd||!1,a),va(s),ma(s,!0,null))},i.onerror=function(){Ca(i,!0,a);var t=new Na(Aa,"Error while loading script "+r);va(s),ma(s,!1,t)},o=e.attributes||{},xt(o,{type:"text/javascript",charset:"UTF-8"}),be(i,o),Yt(i,t),ka(n).appendChild(i),s}function ka(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}function Sa(){if(this&&this.Xb){var t=this.Xb;t&&"SCRIPT"==t.tagName&&Ca(t,!0,this.Ma)}}function Ca(t,e,n){null!=n&&l.clearTimeout(n),t.onload=p,t.onerror=p,t.onreadystatechange=p,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Aa=0,ja=1;function Na(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),L.call(this,n),this.code=t}function Pa(t){this.f=t}function Da(t,n,r){if(this.c=t,t=n||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||La,this.g=_t(t.secureTokenHeaders||Fa),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Ua,this.a=_t(t.firebaseHeaders||Va),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==Hr(),r=l.XMLHttpRequest||r&&e["default"].INTERNAL.node&&e["default"].INTERNAL.node.XMLHttpRequest,!r&&!Wr())throw new C("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Wr()?this.f=new Gs(self):Kr()?this.f=new Pa(r):this.f=new Ns,this.b=null}k(Na,L),k(Pa,Ss),Pa.prototype.a=function(){return new this.f},Pa.prototype.b=function(){return{}};var Ra,Ma="idToken",La=new fi(3e4,6e4),Fa={"Content-Type":"application/x-www-form-urlencoded"},Ua=new fi(3e4,6e4),Va={"Content-Type":"application/json"};function Ba(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function qa(t,e){e&&(t.l=za("https://securetoken.googleapis.com/v1/token",e),t.h=za("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=za("https://identitytoolkit.googleapis.com/v2/",e))}function za(t,e){return t=ir(t),e=ir(e.url),t.f=t.a+t.f,Zn(t,e.c),t.a=e.a,tr(t,e.g),t.toString()}function Wa(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Ha(t,e,n,r,i,o,s){Pr()||Wr()?t=O(t.u,t):(Ra||(Ra=new Pe((function(t,e){$a(t,e)}))),t=O(t.s,t)),t(e,n,r,i,o,s)}Da.prototype.T=function(){return this.b},Da.prototype.u=function(t,e,n,r,i,o){if(Wr()&&("undefined"===typeof l.fetch||"undefined"===typeof l.Headers||"undefined"===typeof l.Request))throw new C("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new Zs(this.f);if(o){s.g=Math.max(0,o);var a=setTimeout((function(){s.dispatchEvent("timeout")}),o)}Un(s,"complete",(function(){a&&clearTimeout(a);var t=null;try{t=JSON.parse(da(this))||null}catch(n){t=null}e&&e(t)})),Vn(s,"ready",(function(){a&&clearTimeout(a),cn(this)})),Vn(s,"timeout",(function(){a&&clearTimeout(a),cn(this),e&&e(null)})),ra(s,t,n,r,i)};var Ka=new Ot(St,"https://apis.google.com/js/client.js?onload=%{onload}"),Ga="__fcb"+Math.floor(1e6*Math.random()).toString();function $a(t,e){if(((window.gapi||{}).client||{}).request)t();else{l[Ga]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};var n=Nt(Ka,{onload:Ga});ya(Ia(n),(function(){e(Error("CORS_UNSUPPORTED"))}))}}function Ya(t,e){return new Pe((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Ha(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(Xc(t)):t.access_token&&t.refresh_token?n(t):r(new C("internal-error")):r(new C("network-request-failed"))}),"POST",mr(e).toString(),t.g,t.m.get()):r(new C("internal-error"))}))}function Qa(t,e,n,r,i,o,s){var a=ir(e+n);nr(a,"key",t.c),s&&nr(a,"cb",Date.now().toString());var c="GET"==r;if(c)for(var u in i)i.hasOwnProperty(u)&&nr(a,u,i[u]);return new Pe((function(e,n){Ha(t,a.toString(),(function(t){t?t.error?n(Xc(t,o||{})):e(t):n(new C("network-request-failed"))}),r,c?void 0:Er(ai(i)),t.a,t.v.get())}))}function Xa(t){if(t=t.email,"string"!==typeof t||!Ur.test(t))throw new C("invalid-email")}function Ja(t){"email"in t&&Xa(t)}function Za(t,e){return Yc(t,bc,{identifier:e,continueUri:ri()?Ar():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}function tc(t){return Yc(t,jc,{}).then((function(t){return t.authorizedDomains||[]}))}function ec(t){if(!t[Ma]){if(t.mfaPendingCredential)throw new C("multi-factor-auth-required",null,_t(t));throw new C("internal-error")}}function nc(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new C("internal-error")}else{if(!t.sessionInfo)throw new C("missing-verification-id");if(!t.code)throw new C("missing-verification-code")}}Da.prototype.s=function(t,e,n,r,i){var o=this;Ra.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Da.prototype.Ab=function(){return Yc(this,Lc,{})},Da.prototype.Cb=function(t,e){return Yc(this,Rc,{idToken:t,email:e})},Da.prototype.Db=function(t,e){return Yc(this,Mc,{idToken:t,password:e})};var rc={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ic(t,e){return Yc(t,Dc,e)}function oc(t,e){return Yc(t,Fc,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}function sc(t){if(!t.phoneVerificationInfo)throw new C("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new C("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new C("missing-verification-code")}function ac(t,e){return Yc(t,Uc,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}function cc(t,e,n){return Yc(t,wc,{idToken:e,deleteProvider:n})}function uc(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new C("internal-error")}function lc(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(t=new pr(t.postBody),yr(t,"nonce")&&(e.nonce=t.get("nonce")))),e}function hc(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=ks(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=ks(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=ks(t)):t.errorMessage&&(e=Qc(t.errorMessage)),e)throw e;ec(t)}function fc(t,e){return e.returnIdpCredential=!0,Yc(t,Vc,e)}function dc(t,e){return e.returnIdpCredential=!0,Yc(t,qc,e)}function pc(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Yc(t,Bc,e)}function gc(t){if(!t.oobCode)throw new C("invalid-action-code")}n=Da.prototype,n.Eb=function(t,e){var n={idToken:t},r=[];return yt(rc,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Yc(this,Rc,n)},n.wb=function(t,e){return t={requestType:"PASSWORD_RESET",email:t},xt(t,e),Yc(this,Ac,t)},n.xb=function(t,e){return t={requestType:"EMAIL_SIGNIN",email:t},xt(t,e),Yc(this,kc,t)},n.vb=function(t,e){return t={requestType:"VERIFY_EMAIL",idToken:t},xt(t,e),Yc(this,Sc,t)},n.Fb=function(t,e,n){return t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},xt(t,n),Yc(this,Cc,t)},n.gb=function(t){return Yc(this,Hc,t)},n.ob=function(t,e){return Yc(this,Pc,{oobCode:t,newPassword:e})},n.Sa=function(t){return Yc(this,vc,{oobCode:t})},n.kb=function(t){return Yc(this,mc,{oobCode:t})};var mc={endpoint:"setAccountInfo",A:gc,Z:"email",B:!0},vc={endpoint:"resetPassword",A:gc,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new C("internal-error")},B:!0},yc={endpoint:"signupNewUser",A:function(t){if(Xa(t),!t.password)throw new C("weak-password")},G:ec,V:!0,B:!0},bc={endpoint:"createAuthUri",B:!0},_c={endpoint:"deleteAccount",O:["idToken"]},wc={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new C("internal-error")}},xc={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Xa,G:ec,V:!0,B:!0},Ec={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Xa,G:ec,V:!0},Oc={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:sc,G:ec,B:!0,Na:!0},Tc={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:sc,G:ec,B:!0,Na:!0},Ic={endpoint:"getAccountInfo"},kc={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new C("internal-error");Xa(t)},Z:"email",B:!0},Sc={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new C("internal-error")},Z:"email",B:!0},Cc={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new C("internal-error")},Z:"email",B:!0},Ac={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new C("internal-error");Xa(t)},Z:"email",B:!0},jc={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Nc={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new C("internal-error")}},Pc={endpoint:"resetPassword",A:gc,Z:"email",B:!0},Dc={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Rc={endpoint:"setAccountInfo",O:["idToken"],A:Ja,V:!0},Mc={endpoint:"setAccountInfo",O:["idToken"],A:function(t){if(Ja(t),!t.password)throw new C("weak-password")},G:ec,V:!0},Lc={endpoint:"signupNewUser",G:ec,V:!0,B:!0},Fc={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new C("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new C("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new C("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new C("internal-error")},B:!0,Na:!0},Uc={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new C("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new C("internal-error")},B:!0,Na:!0},Vc={endpoint:"verifyAssertion",A:uc,Za:lc,G:hc,V:!0,B:!0},Bc={endpoint:"verifyAssertion",A:uc,Za:lc,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new C("user-not-found");if(t.errorMessage)throw Qc(t.errorMessage);ec(t)},V:!0,B:!0},qc={endpoint:"verifyAssertion",A:function(t){if(uc(t),!t.idToken)throw new C("internal-error")},Za:lc,G:hc,V:!0},zc={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new C("invalid-custom-token")},G:ec,V:!0,B:!0},Wc={endpoint:"verifyPassword",A:function(t){if(Xa(t),!t.password)throw new C("wrong-password")},G:ec,V:!0,B:!0},Hc={endpoint:"verifyPhoneNumber",A:nc,G:ec,B:!0},Kc={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new C("internal-error");nc(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",ks(t);ec(t)}},Gc={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:nc,G:ec,B:!0},$c={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Ma]^!!t.refreshToken)throw new C("internal-error")},B:!0,Na:!0};function Yc(t,e,n){if(!ki(n,e.O))return Be(new C("internal-error"));var r,i=!!e.Na,o=e.Vb||"POST";return Ve(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&"undefined"===typeof n.tenantId&&(n.tenantId=t.b),Qa(t,i?t.i:t.h,e.endpoint,o,n,e.Ib,e.mb||!1)})).then((function(t){return r=t,e.Za?e.Za(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new C("internal-error");return r[e.Z]}))}function Qc(t){return Xc({error:{errors:[{message:t}],code:400,message:t}})}function Xc(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new C(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},xt(r,e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new C(r[i],e);return!e&&t&&(e=si(t)),new C("internal-error",e)}function Jc(t){this.b=t,this.a=null,this.sb=Zc(this)}function Zc(t){return su().then((function(){return new Pe((function(e,n){ti("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:ti("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),iu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}function tu(t,e){return t.sb.then((function(){return new Pe((function(n){t.a.send(e.type,e,n,ti("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}function eu(t,e){t.sb.then((function(){t.a.register("authEvent",e,ti("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}var nu=new Ot(St,"https://apis.google.com/js/api.js?onload=%{onload}"),ru=new fi(3e4,6e4),iu=new fi(5e3,15e3),ou=null;function su(){return ou||(ou=new Pe((function(t,e){function n(){hi(),ti("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){hi(),e(Error("Network Error"))},timeout:ru.get()})}if(ti("gapi.iframes.Iframe"))t();else if(ti("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();l[r]=function(){ti("gapi.load")?n():e(Error("Network Error"))},r=Nt(nu,{onload:r}),Ve(Ia(r)).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw ou=null,t})))}function au(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?(t=ir(this.g.url),t=or(t.c,t.a,t.g,"/emulator/auth/iframe")):t=or("https",this.l,null,"/__/auth/iframe"),this.a=t,nr(this.a,"apiKey",this.h),nr(this.a,"appName",this.i),this.b=null,this.c=[]}function cu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function uu(t){try{return e["default"].app(t).auth().Ga()}catch(n){return[]}}function lu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function hu(t){var e=Ar();return tc(t).then((function(t){t:{var n=ir(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=ir(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:Fr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Ts(Ar())}))}function fu(t){return t.m||(t.m=Vr().then((function(){if(!t.u){var e=t.c,n=t.i,r=uu(t.b),i=new au(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=rt(r||[]),t.u=i.toString()}t.v=new Jc(t.u),gu(t)}))),t.m}function du(t){return t.l||(t.C=t.c?Jr(t.c,uu(t.b)):null,t.l=new Da(t.g,R(t.i),t.C),t.f&&qa(t.l,t.f)),t.l}function pu(t,e,n,r,i,o,s,a,c,u,l,h){return t=new cu(t,e,n,r,i,h),t.l=o,t.g=s,t.i=a,t.b=_t(c||null),t.f=u,t.zb(l).toString()}function gu(t){if(!t.v)throw Error("IfcHandler must be initialized!");eu(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=_s(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return n={},n.status=r?"ACK":"ERROR",Ve(n)}return n.status="ERROR",Ve(n)}))}function mu(t){var e={type:"webStorageSupport"};return fu(t).then((function(){return tu(t.v,e)})).then((function(t){if(t&&t.length&&"undefined"!==typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))}function vu(t){if(this.a=t||e["default"].INTERNAL.reactNative&&e["default"].INTERNAL.reactNative.AsyncStorage,!this.a)throw new C("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function yu(t){this.b=t,this.a={},this.f=O(this.c,this)}au.prototype.toString=function(){return this.f?nr(this.a,"v",this.f):vr(this.a.b,"v"),this.b?nr(this.a,"eid",this.b):vr(this.a.b,"eid"),this.c.length?nr(this.a,"fw",this.c.join(",")):vr(this.a.b,"fw"),this.a.toString()},cu.prototype.zb=function(t){return this.h=t,this},cu.prototype.toString=function(){if(this.v){var t=ir(this.v.url);t=or(t.c,t.a,t.g,"/emulator/auth/handler")}else t=or("https",this.u,null,"/__/auth/handler");if(nr(t,"apiKey",this.s),nr(t,"appName",this.c),nr(t,"authType",this.m),this.a.isOAuthProvider){var n=this.a;try{var r=e["default"].app(this.c).auth().la()}catch(c){r=null}for(var i in n.pb=r,nr(t,"providerId",this.a.providerId),r=this.a,n=ai(r.Jb),n)n[i]=n[i].toString();i=r.Qc,n=_t(n);for(var o=0;o<i.length;o++){var s=i[o];s in n&&delete n[s]}r.qb&&r.pb&&!n[r.qb]&&(n[r.qb]=r.pb),bt(n)||nr(t,"customParameters",si(n))}if("function"===typeof this.a.Rb&&(r=this.a.Rb(),r.length&&nr(t,"scopes",r.join(","))),this.l?nr(t,"redirectUrl",this.l):vr(t.b,"redirectUrl"),this.g?nr(t,"eventId",this.g):vr(t.b,"eventId"),this.i?nr(t,"v",this.i):vr(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!rr(t,a)&&nr(t,a,this.b[a]);return this.h?nr(t,"tid",this.h):vr(t.b,"tid"),this.f?nr(t,"eid",this.f):vr(t.b,"eid"),a=uu(this.c),a.length&&nr(t,"fw",a.join(",")),t.toString()},n=lu.prototype,n.Pb=function(t,e,n){var r=new C("popup-closed-by-user"),i=new C("web-storage-unsupported"),o=this,s=!1;return this.ma().then((function(){mu(o).then((function(n){n||(t&&Rr(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return Lr(t)})).then((function(){if(!s)return zn(n).then((function(){e(r)}))}))},n.Yb=function(){var t=Zr();return!oi(t)&&!li(t)},n.Ub=function(){return!1},n.Nb=function(t,e,n,r,i,o,s,a){if(!t)return Be(new C("popup-blocked"));if(s&&!oi())return this.ma().o((function(e){Rr(t),i(e)})),r(),Ve();this.a||(this.a=hu(du(this)));var c=this;return this.a.then((function(){var e=c.ma().o((function(e){throw Rr(t),i(e),e}));return r(),e})).then((function(){if(ys(n),!s){var r=pu(c.s,c.g,c.b,e,n,null,o,c.c,void 0,c.i,a,c.f);jr(r,t)}})).o((function(t){throw"auth/network-request-failed"==t.code&&(c.a=null),t}))},n.Ob=function(t,e,n,r){this.a||(this.a=hu(du(this)));var i=this;return this.a.then((function(){ys(e);var o=pu(i.s,i.g,i.b,t,e,Ar(),n,i.c,void 0,i.i,r,i.f);jr(o)})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},n.ma=function(){var t=this;return fu(this).then((function(){return t.v.sb})).o((function(){throw t.a=null,new C("network-request-failed")}))},n.ac=function(){return!0},n.Ea=function(t){this.h.push(t)},n.Ta=function(t){et(this.h,(function(e){return e==t}))},n=vu.prototype,n.get=function(t){return Ve(this.a.getItem(t)).then((function(t){return t&&ci(t)}))},n.set=function(t,e){return Ve(this.a.setItem(t,si(e)))},n.U=function(t){return Ve(this.a.removeItem(t))},n.ca=function(){},n.ia=function(){};var bu,_u=[];function wu(){var t=Wr()?self:null;if(G(_u,(function(n){n.b==t&&(e=n)})),!e){var e=new yu(t);_u.push(e)}return e}function xu(t,e,n){bt(t.a)&&t.b.addEventListener("message",t.f),"undefined"===typeof t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Eu(t){this.a=t}function Ou(t){this.c=t,this.b=!1,this.a=[]}function Tu(t,e,n,r){var i,o,s,a,c=n||{},u=null;if(t.b)return Be(Error("connection_unavailable"));var l=r?800:50,h="undefined"!==typeof MessageChannel?new MessageChannel:null;return new Pe((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),l),o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),"undefined"!==typeof t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))},u={messageChannel:h,onMessage:o},t.a.push(u),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:c},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return Iu(t,u),e})).o((function(e){throw Iu(t,u),e}))}function Iu(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),et(t.a,(function(t){return t==e}))}}function ku(){if(!Nu())throw new C("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=l.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;Wr()&&self?(this.v=wu(),xu(this.v,"keyChanged",(function(e,n){return Lu(t).then((function(e){return 0<e.length&&G(t.a,(function(t){t(e)})),{keyProcessed:Z(e,n.key)}}))})),xu(this.v,"ping",(function(){return Ve(["keyChanged"])}))):yi().then((function(e){(t.h=e)&&(t.g=new Ou(new Eu(e)),Tu(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&Z(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Su(t){return new Pe((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}function Cu(t){return new Pe((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){r=r.target.result,r.objectStoreNames.contains("firebaseLocalStorage")?e(r):Su(t).then((function(){return Cu(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Au(t){return t.i||(t.i=Cu(t)),t.i}function ju(t,e){function n(i,o){Au(t).then(e).then(i).o((function(e){if(!(3<++r))return Au(t).then((function(e){return e.close(),t.i=void 0,n(i,o)})).o((function(t){o(t)}));o(e)}))}var r=0;return new Pe(n)}function Nu(){try{return!!l.indexedDB}catch(tp){return!1}}function Pu(t){return t.objectStore("firebaseLocalStorage")}function Du(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Ru(t){return new Pe((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Mu(t,e){return t.g&&t.h&&vi()===t.h?Tu(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Ve()}function Lu(t){return Au(t).then((function(t){var e=Pu(Du(t,!1));return e.getAll?Ru(e.getAll()):new Pe((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e["continue"]()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=Nr(t.c,n),t.c=n}return r}))}function Fu(t){function e(){t.f=setTimeout((function(){t.l=Lu(t).then((function(e){0<e.length&&G(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}Uu(t),e()}function Uu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Vu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ve().then((function(){if(Nu()){var t=ui(),r="__sak"+t;return bu||(bu=new ku),n=bu,n.set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){G(e.a,(function(e){e(t)}))})),t}))}function Bu(){this.a={},this.type="inMemory"}function qu(){if(!Wu()){if("Node"==Hr())throw new C("internal-error","The LocalStorage compatibility library was not found.");throw new C("web-storage-unsupported")}this.a=zu()||e["default"].INTERNAL.node.localStorage,this.type="localStorage"}function zu(){try{var t=l.localStorage,e=ui();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Wu(){var t="Node"==Hr();if(t=zu()||t&&e["default"].INTERNAL.node&&e["default"].INTERNAL.node.localStorage,!t)return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(n){return!1}}function Hu(){this.type="nullStorage"}function Ku(){if(!$u()){if("Node"==Hr())throw new C("internal-error","The SessionStorage compatibility library was not found.");throw new C("web-storage-unsupported")}this.a=Gu()||e["default"].INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Gu(){try{var t=l.sessionStorage,e=ui();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function $u(){var t="Node"==Hr();if(t=Gu()||t&&e["default"].INTERNAL.node&&e["default"].INTERNAL.node.sessionStorage,!t)return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(n){return!1}}function Yu(){var t={};t.Browser=Ju,t.Node=Zu,t.ReactNative=tl,t.Worker=el,this.a=t[Hr()]}yu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];G(r,(function(e){i.push(Ve().then((function(){return e(t.origin,t.data.data)})))})),We(i).then((function(r){var i=[];G(r,(function(t){i.push({fulfilled:t.Qb,value:t.value,reason:t.reason?t.reason.message:void 0})})),G(i,(function(t){for(var e in t)"undefined"===typeof t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Eu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Ou.prototype.close=function(){for(;0<this.a.length;)Iu(this,this.a[0]);this.b=!0},n=ku.prototype,n.set=function(t,e){var n=this,r=!1;return ju(this,(function(e){return e=Pu(Du(e,!0)),Ru(e.get(t))})).then((function(i){return ju(n,(function(o){if(o=Pu(Du(o,!0)),i)return i.value=e,Ru(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Ru(o.add(s))}))})).then((function(){return n.c[t]=e,Mu(n,t)})).oa((function(){r&&n.b--}))},n.get=function(t){return ju(this,(function(e){return Ru(Pu(Du(e,!1)).get(t))})).then((function(t){return t&&t.value}))},n.U=function(t){var e=this,n=!1;return ju(this,(function(r){return n=!0,e.b++,Ru(Pu(Du(r,!0))["delete"](t))})).then((function(){return delete e.c[t],Mu(e,t)})).oa((function(){n&&e.b--}))},n.ca=function(t){0==this.a.length&&Fu(this),this.a.push(t)},n.ia=function(t){et(this.a,(function(e){return e==t})),0==this.a.length&&Uu(this)},n=Vu.prototype,n.get=function(t){return this.b.then((function(e){return e.get(t)}))},n.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},n.U=function(t){return this.b.then((function(e){return e.U(t)}))},n.ca=function(t){this.a.push(t)},n.ia=function(t){et(this.a,(function(e){return e==t}))},n=Bu.prototype,n.get=function(t){return Ve(this.a[t])},n.set=function(t,e){return this.a[t]=e,Ve()},n.U=function(t){return delete this.a[t],Ve()},n.ca=function(){},n.ia=function(){},n=qu.prototype,n.get=function(t){var e=this;return Ve().then((function(){var n=e.a.getItem(t);return ci(n)}))},n.set=function(t,e){var n=this;return Ve().then((function(){var r=si(e);null===r?n.U(t):n.a.setItem(t,r)}))},n.U=function(t){var e=this;return Ve().then((function(){e.a.removeItem(t)}))},n.ca=function(t){l.window&&Tn(l.window,"storage",t)},n.ia=function(t){l.window&&Cn(l.window,"storage",t)},n=Hu.prototype,n.get=function(){return Ve(null)},n.set=function(){return Ve()},n.U=function(){return Ve()},n.ca=function(){},n.ia=function(){},n=Ku.prototype,n.get=function(t){var e=this;return Ve().then((function(){var n=e.a.getItem(t);return ci(n)}))},n.set=function(t,e){var n=this;return Ve().then((function(){var r=si(e);null===r?n.U(t):n.a.setItem(t,r)}))},n.U=function(t){var e=this;return Ve().then((function(){e.a.removeItem(t)}))},n.ca=function(){},n.ia=function(){};var Qu,Xu,Ju={F:qu,cb:Ku},Zu={F:qu,cb:Ku},tl={F:vu,cb:Hu},el={F:qu,cb:Hu},nl={rd:"local",NONE:"none",td:"session"};function rl(t){var e=new C("invalid-persistence-type"),n=new C("unsupported-persistence-type");t:{for(r in nl)if(nl[r]==t){var r=!0;break t}r=!1}if(!r||"string"!==typeof t)throw e;switch(Hr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Nu()&&"none"!==t)throw n;break;default:if(!ei()&&"none"!==t)throw n}}function il(){var t=!(li(Zr())||!zr()),e=oi(),n=ei();this.m=t,this.h=e,this.l=n,this.a={},Qu||(Qu=new Yu),t=Qu;try{this.g=!Cr()&&mi()||!l.indexedDB?new t.a.F:new Vu(Wr()?new Bu:new t.a.F)}catch(r){this.g=new Bu,this.h=!0}try{this.i=new t.a.cb}catch(r){this.i=new Bu}this.v=new Bu,this.f=O(this.Zb,this),this.b={}}function ol(){return Xu||(Xu=new il),Xu}function sl(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function al(t,e){return"firebase:"+t.name+(e?":"+e:"")}function cl(t,e,n){var r=al(e,n),i=sl(t,e.F);return t.get(e,n).then((function(o){var s=null;try{s=ci(l.localStorage.getItem(r))}catch(a){}if(s&&!o)return l.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&l.localStorage.removeItem(r)}))}function ul(t,e,n){return n=al(e,n),"local"==e.F&&(t.b[n]=null),sl(t,e.F).U(n)}function ll(t){hl(t),t.c=setInterval((function(){for(var e in t.a){var n=l.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new pn({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Zb(n))}}),1e3)}function hl(t){t.c&&(clearInterval(t.c),t.c=null)}function fl(t){this.a=t,this.b=ol()}n=il.prototype,n.get=function(t,e){return sl(this,t.F).get(al(t,e))},n.set=function(t,e,n){var r=al(t,n),i=this,o=sl(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},n.addListener=function(t,e,n){t=al(t,e),this.l&&(this.b[t]=l.localStorage.getItem(t)),bt(this.a)&&(sl(this,"local").ca(this.f),this.h||(Cr()||!mi())&&l.indexedDB||!this.l||ll(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},n.removeListener=function(t,e,n){t=al(t,e),this.a[t]&&(et(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),bt(this.a)&&(sl(this,"local").ia(this.f),hl(this))},n.Zb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=l.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if("undefined"!==typeof t.a.a?sl(this,"local").ia(this.f):hl(this),this.m)if(n=l.localStorage.getItem(e),r=t.a.newValue,r!==n)null!==r?l.localStorage.setItem(e,r):l.localStorage.removeItem(e);else if(this.b[e]===r&&"undefined"===typeof t.a.a)return;var o=this;n=function(){"undefined"===typeof t.a.a&&o.b[e]===l.localStorage.getItem(e)||(o.b[e]=l.localStorage.getItem(e),o.nb(e))},re&&me&&10==me&&l.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else G(t,O(this.nb,this))},n.nb=function(t){this.a[t]&&G(this.a[t],(function(t){t()}))};var dl,pl={name:"authEvent",F:"local"};function gl(t){return t.b.get(pl,t.a).then((function(t){return _s(t)}))}function ml(){this.a=ol()}function vl(){this.b=-1}function yl(t,e){this.b=bl,this.f=l.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=l.Int32Array?new Int32Array(64):Array(64),void 0===dl&&(dl=l.Int32Array?new Int32Array(Il):Il),this.reset()}k(yl,vl);for(var bl=64,_l=bl-1,wl=[],xl=0;xl<_l;xl++)wl[xl]=0;var El=nt(128,wl);function Ol(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],c=0|t.a[3],u=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=u&l^~u&h,o=o+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0,s=s+(0|dl[e])|0,s=o+(s+(0|n[e])|0)|0,o=h,h=l,l=u,u=c+s|0,c=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+c|0,t.a[4]=t.a[4]+u|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function Tl(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"===typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(Ol(t),i=0);else{if(!m(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(Ol(t),i=0)}}t.c=i,t.g+=n}yl.prototype.reset=function(){this.g=this.c=0,this.a=l.Int32Array?new Int32Array(this.h):rt(this.h)};var Il=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function kl(){yl.call(this,8,Sl)}k(kl,yl);var Sl=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Cl(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new ml,this.g=new fl(this.h),this.f=null,this.b=[],this.a=this.c=null}function Al(t){return new C("invalid-cordova-configuration",t)}function jl(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}function Nl(t){var e=new kl;Tl(e,t),t=[];var n=8*e.g;56>e.c?Tl(e,El,56-e.c):Tl(e,El,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(Ol(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return vo(t)}function Pl(t,e,n,r,i){var o=jl(),s=new bs(e,r,null,o,new C("no-auth-event"),null,i),a=ti("BuildInfo.packageName",l);if("string"!==typeof a)throw new C("invalid-cordova-configuration");var c=ti("BuildInfo.displayName",l),u={};if(Zr().toLowerCase().match(/iphone|ipad|ipod/))u.ibi=a;else{if(!Zr().toLowerCase().match(/android/))return Be(new C("operation-not-supported-in-this-environment"));u.apn=a}c&&(u.appDisplayName=c),o=Nl(o),u.sessionId=o;var h=pu(t.v,t.i,t.l,e,n,null,r,t.m,u,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(pl,s.w(),e)})).then((function(){var e=ti("cordova.plugins.browsertab.isAvailable",l);if("function"!==typeof e)throw new C("invalid-cordova-configuration");var n=null;e((function(e){if(e){if(n=ti("cordova.plugins.browsertab.openUrl",l),"function"!==typeof n)throw new C("invalid-cordova-configuration");n(h)}else{if(n=ti("cordova.InAppBrowser.open",l),"function"!==typeof n)throw new C("invalid-cordova-configuration");e=Zr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}function Dl(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function Rl(t){return t.f||(t.f=t.ma().then((function(){return new Pe((function(e){function n(r){return e(r),t.Ta(n),!1}t.Ea(n),Ll(t)}))}))),t.f}function Ml(t){var e=null;return gl(t.g).then((function(n){return e=n,n=t.g,ul(n.b,pl,n.a)})).then((function(){return e}))}function Ll(t){function e(e){r=!0,i&&i.cancel(),Ml(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;i=Fo(e.url),-1!=i.indexOf("/__/auth/callback")&&(o=ir(i),o=ci(rr(o,"firebaseError")||null),o=(o="object"===typeof o?A(o):null)?new bs(r.c,r.b,null,null,o,null,r.T()):new bs(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Dl(t,i)}))}var n=new bs("unknown",null,null,null,new C("no-auth-event")),r=!1,i=zn(500).then((function(){return Ml(t).then((function(){r||Dl(t,n)}))})),o=l.handleOpenURL;l.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(ti("BuildInfo.packageName",l).toLowerCase()+"://")&&e({url:t}),"function"===typeof o)try{o(t)}catch(n){console.error(n)}},Es||(Es=new ws),Os(e)}function Fl(t){this.a=t,this.b=ol()}n=Cl.prototype,n.ma=function(){return this.Ia?this.Ia:this.Ia=Br().then((function(){if("function"!==typeof ti("universalLinks.subscribe",l))throw Al("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof ti("BuildInfo.packageName",l))throw Al("cordova-plugin-buildinfo is not installed");if("function"!==typeof ti("cordova.plugins.browsertab.openUrl",l))throw Al("cordova-plugin-browsertab is not installed");if("function"!==typeof ti("cordova.InAppBrowser.open",l))throw Al("cordova-plugin-inappbrowser is not installed")}),(function(){throw new C("cordova-not-ready")}))},n.Pb=function(t,e){return e(new C("operation-not-supported-in-this-environment")),Ve()},n.Nb=function(){return Be(new C("operation-not-supported-in-this-environment"))},n.ac=function(){return!1},n.Yb=function(){return!0},n.Ub=function(){return!0},n.Ob=function(t,e,n,r){if(this.c)return Be(new C("redirect-operation-pending"));var i=this,o=l.document,s=null,a=null,c=null,u=null;return this.c=Ve().then((function(){return ys(e),Rl(i)})).then((function(){return Pl(i,t,e,n,r)})).then((function(){return new Pe((function(t,e){a=function(){var e=ti("cordova.plugins.browsertab.close",l);return t(),"function"===typeof e&&e(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(a),c=function(){s||(s=zn(2e3).then((function(){e(new C("redirect-cancelled-by-user"))})))},u=function(){di()&&c()},o.addEventListener("resume",c,!1),Zr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",u,!1)})).o((function(t){return Ml(i).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),u&&o.removeEventListener("visibilitychange",u,!1),s&&s.cancel(),a&&i.Ta(a),i.c=null}))},n.Ea=function(t){this.b.push(t),Rl(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new bs("unknown",null,null,null,new C("no-auth-event")),t(e))}))},n.Ta=function(t){et(this.b,(function(e){return e==t}))};var Ul={name:"pendingRedirect",F:"session"};function Vl(t){return t.b.set(Ul,"pending",t.a)}function Bl(t){return ul(t.b,Ul,t.a)}function ql(t){return t.b.get(Ul,t.a).then((function(t){return"pending"==t}))}function zl(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=O(this.s,this),this.b=new ih,this.C=new fh,this.g=new Fl(nh(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Wl(this.D,this.v,this.m,j,this.J)}function Wl(t,n,r,i,o){var s=e["default"].SDK_VERSION||null;return qr()?new Cl(t,n,r,s,i,o):new lu(t,n,r,s,i,o)}function Hl(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Kl(t){t.a.Yb()&&Hl(t).o((function(e){var n=new bs("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));Jl(e)&&t.s(n)})),t.a.Ub()||oh(t.b)}function Gl(t,e){Z(t.h,e)||t.h.push(e),t.f||ql(t.g).then((function(e){e?Bl(t.g).then((function(){Hl(t).o((function(e){var n=new bs("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));Jl(e)&&t.s(n)}))})):Kl(t)})).o((function(){Kl(t)}))}function $l(t,e){et(t.h,(function(t){return t==e}))}zl.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Wl(this.D,this.v,this.m,null,this.J),this.i={}},zl.prototype.s=function(t){if(!t)throw new C("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return oh(this.b),e};var Yl=new fi(2e3,1e4),Ql=new fi(3e4,6e4);function Xl(t,e,n,r,i,o,s){return t.a.Nb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,s)}function Jl(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Zl(t,e,n,r,i){var o;return Vl(t.g).then((function(){return t.a.Ob(e,n,r,i).o((function(e){if(Jl(e))throw new C("operation-not-supported-in-this-environment");return o=e,Bl(t.g).then((function(){throw o}))})).then((function(){return t.a.ac()?new Pe((function(){})):Bl(t.g).then((function(){return t.ra()})).then((function(){})).o((function(){}))}))}))}function th(t,e,n,r,i){return t.a.Pb(r,(function(t){e.na(n,null,t,i)}),Yl.get())}zl.prototype.ra=function(){return this.b.ra()};var eh={};function nh(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function rh(t,e,n,r){var i=nh(e,n,r);return eh[i]||(eh[i]=new zl(t,e,n,r)),eh[i]}function ih(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function oh(t){t.g||(t.g=!0,lh(t,!1,null,null))}function sh(t){t.g&&!t.i&&lh(t,!1,null,null)}function ah(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){lh(t,a,e,null)})).o((function(e){lh(t,a,null,e)}))}function ch(t,e){if(t.b=function(){return Be(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}function uh(t,e){if(t.b=function(){return Ve(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function lh(t,e,n,r){e?r?ch(t,r):uh(t,n):uh(t,{user:null}),t.f=[],t.c=[]}function hh(t){var e=new C("timeout");t.a&&t.a.cancel(),t.a=zn(Ql.get()).then((function(){t.b||(t.g=!0,lh(t,!0,null,e))}))}function fh(){}function dh(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}function ph(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(t){this.jb=t},enumerable:!1})}function gh(t,e){this.a=e,Ei(this,"verificationId",t)}function mh(t,e,n,r){return new gs(t).gb(e,n).then((function(t){return new gh(t,r)}))}function vh(t){var e=Oo(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new C("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Oi(this,{token:t,expirationTime:gi(1e3*e.exp),authTime:gi(1e3*e.auth_time),issuedAtTime:gi(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function yh(t,e,n){var r=e&&e[_h];if(!r)throw new C("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=_t(e),this.g=n,this.c=new Uo(null,r),this.b=[];var i=this;G(e[bh]||[],(function(t){(t=Ai(t))&&i.b.push(t)})),Ei(this,"auth",this.a),Ei(this,"session",this.c),Ei(this,"hints",this.b)}ih.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},ih.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(lh(this,!0,null,t.a),Ve()):e.Fa(n,r)?ah(this,t,e):Be(new C("invalid-auth-event")):(lh(this,!1,null,null),Ve())}else Be(new C("invalid-auth-event"))},ih.prototype.ra=function(){var t=this;return new Pe((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),hh(t))}))},fh.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Ve()):e.Fa(n,r)?dh(t,e):Be(new C("invalid-auth-event"))}else Be(new C("invalid-auth-event"))},gh.prototype.confirm=function(t){return t=ms(this.verificationId,t),this.a(t)};var bh="mfaInfo",_h="mfaPendingCredential";function wh(t,e,n,r){C.call(this,"multi-factor-auth-required",r,e),this.b=new yh(t,e,n),Ei(this,"resolver",this.b)}function xh(t,e,n){if(t&&y(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new wh(e,t.serverResponse,n,t.message)}catch(r){}return null}function Eh(){}function Oh(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),xt(n,{phoneVerificationInfo:ps(t.a)}),Yc(e,Oc,n)}))}function Th(t,e,n){return n.Ha().then((function(n){return n={mfaPendingCredential:n},xt(n,{phoneVerificationInfo:ps(t.a)}),Yc(e,Tc,n)}))}function Ih(t){Ei(this,"factorId",t.fa),this.a=t}function kh(t){if(Ih.call(this,t),this.a.fa!=gs.PROVIDER_ID)throw new C("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Sh(t,e){for(var n in dn.call(this,t),e)this[n]=e[n]}function Ch(t,e){this.a=t,this.b=[],this.c=O(this.yc,this),Tn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&G(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[Pi]=t.uid),t.displayName&&(r[ji]=t.displayName),t.enrollmentTime&&(r[Ni]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[Di]=t.phoneNumber);try{e=new Ri(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),jh(this,n)}function Ah(t){var e=[];return G(t.mfaInfo||[],(function(t){(t=Ai(t))&&e.push(t)})),e}function jh(t,e){t.b=e,Ei(t,"enrolledFactors",e)}function Nh(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Ph(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}function Dh(t,e){t.stop(),t.b=zn(Ph(t,e)).then((function(){return pi()})).then((function(){return t.h()})).then((function(){Dh(t,!0)})).o((function(e){t.i(e)&&Dh(t,!1)}))}function Rh(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function Mh(t,e){"undefined"===typeof e&&(t.b?(e=t.b,e=e.a-e.g):e=0),t.c=Date.now()+1e3*e}function Lh(t,e){t.b=Eo(e[Ma]||""),t.a=e.refreshToken,e=e.expiresIn,Mh(t,"undefined"!==typeof e?Number(e):void 0)}function Fh(t,e){t.b=e.b,t.a=e.a,t.c=e.c}function Uh(t,e){return Ya(t.f,e).then((function(e){return t.b=Eo(e.access_token),t.a=e.refresh_token,Mh(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function Vh(t,e){this.a=t||null,this.b=e||null,Oi(this,{lastSignInTime:gi(e||null),creationTime:gi(t||null)})}function Bh(t){return new Vh(t.a,t.b)}function qh(t,e,n,r,i,o){Oi(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function zh(t,n,r){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=e["default"].SDK_VERSION?Jr(e["default"].SDK_VERSION):null;this.a=new Da(this.l,R(j),i),(this.u=t.emulatorConfig||null)&&qa(this.a,this.u),this.h=new Rh(this.a),Zh(this,n[Ma]),Lh(this.h,n),Ei(this,"refreshToken",this.h.a),rf(this,r||{}),Fn.call(this),this.P=!1,this.s&&ni()&&(this.b=rh(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=Qh(this),this.ba=O(this.ib,this);var o=this;this.za=null,this.Pa=function(t){o.xa(t.h)},this.qa=null,this.Ba=function(t){Wh(o,t.c)},this.$=null,this.aa=[],this.Oa=function(t){Gh(o,t.f)},this.ja=null,this.S=new Ch(this,r),Ei(this,"multiFactor",this.S)}function Wh(t,e){t.u=e,qa(t.a,e),t.b&&(e=t.b,t.b=rh(t.s,t.l,t.m,t.u),t.P&&($l(e,t),Gl(t.b,t)))}function Hh(t,e){t.qa&&Cn(t.qa,"languageCodeChanged",t.Pa),(t.qa=e)&&Tn(e,"languageCodeChanged",t.Pa)}function Kh(t,e){t.$&&Cn(t.$,"emulatorConfigChanged",t.Ba),(t.$=e)&&Tn(e,"emulatorConfigChanged",t.Ba)}function Gh(t,n){t.aa=n,Wa(t.a,e["default"].SDK_VERSION?Jr(e["default"].SDK_VERSION,t.aa):null)}function $h(t,e){t.ja&&Cn(t.ja,"frameworkChanged",t.Oa),(t.ja=e)&&Tn(e,"frameworkChanged",t.Oa)}function Yh(t){try{return e["default"].app(t.m).auth()}catch(n){throw new C("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Qh(t){return new Nh((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.h.c-Date.now()-3e5;return 0<e?e:0}))}function Xh(t){t.J||t.D.b||(t.D.start(),Cn(t,"tokenChanged",t.ba),Tn(t,"tokenChanged",t.ba))}function Jh(t){Cn(t,"tokenChanged",t.ba),t.D.stop()}function Zh(t,e){t.Aa=e,Ei(t,"_lat",e)}function tf(t,e){et(t.W,(function(t){return t==e}))}function ef(t){for(var e=[],n=0;n<t.W.length;n++)e.push(t.W[n](t));return We(e).then((function(){return t}))}function nf(t){t.b&&!t.P&&(t.P=!0,Gl(t.b,t))}function rf(t,e){Oi(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new Vh(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function of(){}function sf(t){return Ve().then((function(){if(t.J)throw new C("app-deleted")}))}function af(t){return Q(t.providerData,(function(t){return t.providerId}))}function cf(t,e){e&&(uf(t,e.providerId),t.providerData.push(e))}function uf(t,e){et(t.providerData,(function(t){return t.providerId==e}))}function lf(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Ei(t,e,n)}function hf(t,e){t!=e&&(Oi(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Ei(t,"metadata",Bh(e.metadata)):Ei(t,"metadata",new Vh),G(e.providerData,(function(e){cf(t,e)})),Fh(t.h,e.h),Ei(t,"refreshToken",t.h.a),jh(t.S,e.S.b))}function ff(t){return t.I().then((function(e){var n=t.isAnonymous;return pf(t,e).then((function(){return n||lf(t,"isAnonymous",!1),e}))}))}function df(t,e){e[Ma]&&t.Aa!=e[Ma]&&(Lh(t.h,e),t.dispatchEvent(new Sh("tokenChanged")),Zh(t,e[Ma]),lf(t,"refreshToken",t.h.a))}function pf(t,e){return Yc(t.a,Ic,{idToken:e}).then(O(t.Kc,t))}function gf(t){return(t=t.providerUserInfo)&&t.length?Q(t,(function(t){return new qh(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}function mf(t,e){return ff(t).then((function(){if(Z(af(t),e))return ef(t).then((function(){throw new C("provider-already-linked")}))}))}function vf(t,e,n){var r=vs(e);return e=Co(e),Ti({user:t,credential:r,additionalUserInfo:e,operationType:n})}function yf(t,e){return df(t,e),t.reload().then((function(){return t}))}function bf(t,n,r,i,o){if(!ni())return Be(new C("operation-not-supported-in-this-environment"));if(t.i&&!o)return Be(t.i);var s=So(r.providerId),a=ui(t.uid+":::"),c=null;(!oi()||zr())&&t.s&&r.isOAuthProvider&&(c=pu(t.s,t.l,t.m,n,r,null,a,e["default"].SDK_VERSION||null,null,null,t.tenantId,t.u));var u=Mr(c,s&&s.va,s&&s.ua);return i=i().then((function(){if(wf(t),!o)return t.I().then((function(){}))})).then((function(){return Xl(t.b,u,n,r,a,!!c,t.tenantId)})).then((function(){return new Pe((function(e,r){t.na(n,null,new C("cancelled-popup-request"),t.g||null),t.f=e,t.C=r,t.g=a,t.c=th(t.b,t,n,u,a)}))})).then((function(t){return u&&Rr(u),t?Ti(t):null})).o((function(t){throw u&&Rr(u),t})),xf(t,i,o)}function _f(t,e,n,r,i){if(!ni())return Be(new C("operation-not-supported-in-this-environment"));if(t.i&&!i)return Be(t.i);var o=null,s=ui(t.uid+":::");return r=r().then((function(){if(wf(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=s,ef(t)})).then((function(e){return t.ha&&(e=t.ha,e=e.b.set(Sf,t.w(),e.a)),e})).then((function(){return Zl(t.b,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ha)return Cf(t.ha);throw o})).then((function(){if(o)throw o})),xf(t,r,i)}function wf(t){if(!t.b||!t.P){if(t.b&&!t.P)throw new C("internal-error");throw new C("auth-domain-config-required")}}function xf(t,e,n){var r=Ef(t,e,n);return t.N.push(r),r.oa((function(){tt(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=xh(e.w(),Yh(t),O(t.jc,t))),n||e}))}function Ef(t,e,n){return t.i&&!n?(e.cancel(),Be(t.i)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new Sh("userInvalidated")),t.i=e),e}))}function Of(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ma]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new zh(e,n,t);return t.providerData&&G(t.providerData,(function(t){t&&cf(i,Ti(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Tf(t,e,n,r){var i=new zh(t,e);return n&&(i.ha=n),r&&Gh(i,r),i.reload().then((function(){return i}))}function If(t,e,n,r){var i=t.h,o={};return o[Ma]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new zh(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&Gh(e,r),hf(e,t),e}function kf(t){this.a=t,this.b=ol()}yh.prototype.Rc=function(t){var e=this;return t.tb(this.a.a,this.c).then((function(t){var n=_t(e.f);return delete n[bh],delete n[_h],xt(n,t),e.g(n)}))},k(wh,C),Eh.prototype.tb=function(t,e,n){return e.type==Vo?Oh(this,t,e,n):Th(this,t,e)},k(Ih,Eh),k(kh,Ih),k(Sh,dn),n=Ch.prototype,n.yc=function(t){jh(this,Ah(t.hd))},n.Sb=function(){return this.a.I().then((function(t){return new Uo(t,null)}))},n.fc=function(t,e){var n=this,r=this.a.a;return this.Sb().then((function(n){return t.tb(r,n,e)})).then((function(t){return df(n.a,t),n.a.reload()}))},n.bd=function(t){var e=this,n="string"===typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return Yc(r,$c,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=Y(e.b,(function(t){return t.uid!=n}));return jh(e,r),df(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},n.w=function(){return{multiFactor:{enrolledFactors:Q(this.b,(function(t){return t.w()}))}}},Nh.prototype.start=function(){this.a=this.c,Dh(this,!0)},Nh.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Rh.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},Rh.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Be(new C("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?Uh(this,{grant_type:"refresh_token",refresh_token:this.a}):Ve(null):Ve({accessToken:this.b.toString(),refreshToken:this.a})},Vh.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},k(zh,Fn),zh.prototype.xa=function(t){this.za=t,Ba(this.a,t)},zh.prototype.la=function(){return this.za},zh.prototype.Ga=function(){return rt(this.aa)},zh.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Ei(zh.prototype,"providerId","firebase"),n=zh.prototype,n.reload=function(){var t=this;return xf(this,sf(this).then((function(){return ff(t).then((function(){return ef(t)})).then(of)})))},n.oc=function(t){return this.I(t).then((function(t){return new vh(t)}))},n.I=function(t){var e=this;return xf(this,sf(this).then((function(){return e.h.getToken(t)})).then((function(t){if(!t)throw new C("internal-error");return t.accessToken!=e.Aa&&(Zh(e,t.accessToken),e.dispatchEvent(new Sh("tokenChanged"))),lf(e,"refreshToken",t.refreshToken),t.accessToken})))},n.Kc=function(t){if(t=t.users,!t||!t.length)throw new C("internal-error");t=t[0],rf(this,{uid:t.localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=gf(t),n=0;n<e.length;n++)cf(this,e[n]);lf(this,"isAnonymous",!(this.email&&t.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new Sh("userReloaded",{hd:t}))},n.Lc=function(t){return wi("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(t)},n.ub=function(t){var e=this,n=null;return xf(this,t.c(this.a,this.uid).then((function(t){return df(e,t),n=vf(e,t,"reauthenticate"),e.i=null,e.reload()})).then((function(){return n})),!0)},n.Cc=function(t){return wi("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(t)},n.rb=function(t){var e=this,n=null;return xf(this,mf(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=vf(e,t,"link"),yf(e,t)})).then((function(){return n})))},n.Dc=function(t,e){var n=this;return xf(this,mf(this,"phone").then((function(){return mh(Yh(n),t,e,O(n.rb,n))})))},n.Mc=function(t,e){var n=this;return xf(this,Ve().then((function(){return mh(Yh(n),t,e,O(n.ub,n))})),!0)},n.Cb=function(t){var e=this;return xf(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return df(e,t),e.reload()})))},n.ed=function(t){var e=this;return xf(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return df(e,t),e.reload()})))},n.Db=function(t){var e=this;return xf(this,this.I().then((function(n){return e.a.Db(n,t)})).then((function(t){return df(e,t),e.reload()})))},n.Eb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return sf(this);var e=this;return xf(this,this.I().then((function(n){return e.a.Eb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return df(e,t),lf(e,"displayName",t.displayName||null),lf(e,"photoURL",t.photoUrl||null),G(e.providerData,(function(t){"password"===t.providerId&&(Ei(t,"displayName",e.displayName),Ei(t,"photoURL",e.photoURL))})),ef(e)})).then(of))},n.cd=function(t){var e=this;return xf(this,ff(this).then((function(n){return Z(af(e),t)?cc(e.a,n,[t]).then((function(t){var n={};return G(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),G(af(e),(function(t){n[t]||uf(e,t)})),n[gs.PROVIDER_ID]||Ei(e,"phoneNumber",null),ef(e)})):ef(e).then((function(){throw new C("no-such-provider")}))})))},n.delete=function(){var t=this;return xf(this,this.I().then((function(e){return Yc(t.a,_c,{idToken:e})})).then((function(){t.dispatchEvent(new Sh("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");Hh(t,null),Kh(t,null),$h(t,null),t.N=[],t.J=!0,Jh(t),Ei(t,"refreshToken",null),t.b&&$l(t.b,t)}))},n.Gb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},n.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?O(this.Lb,this):"reauthViaPopup"==t&&e==(this.g||null)?O(this.Mb,this):"linkViaRedirect"==t&&(this.ga||null)==e?O(this.Lb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?O(this.Mb,this):null},n.Ec=function(t){var e=this;return bf(this,"linkViaPopup",t,(function(){return mf(e,t.providerId).then((function(){return ef(e)}))}),!1)},n.Nc=function(t){return bf(this,"reauthViaPopup",t,(function(){return Ve()}),!0)},n.Fc=function(t){var e=this;return _f(this,"linkViaRedirect",t,(function(){return mf(e,t.providerId)}),!1)},n.Oc=function(t){return _f(this,"reauthViaRedirect",t,(function(){return Ve()}),!0)},n.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return n=this.I().then((function(n){return dc(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=vf(i,t,"link"),yf(i,t)})).then((function(){return o})),xf(this,n)},n.Mb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null,s=Ve().then((function(){return zo(pc(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=vf(i,t,"reauthenticate"),df(i,t),i.i=null,i.reload()})).then((function(){return o}));return xf(this,s,!0)},n.vb=function(t){var e=this,n=null;return xf(this,this.I().then((function(e){return n=e,"undefined"===typeof t||bt(t)?{}:mo(new oo(t))})).then((function(t){return e.a.vb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},n.Fb=function(t,e){var n=this,r=null;return xf(this,this.I().then((function(t){return r=t,"undefined"===typeof e||bt(e)?{}:mo(new oo(e))})).then((function(e){return n.a.Fb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},n.jc=function(t){var e=null,n=this;return t=zo(Ve(t),n.uid).then((function(t){return e=vf(n,t,"reauthenticate"),df(n,t),n.i=null,n.reload()})).then((function(){return e})),xf(this,t,!0)},n.toJSON=function(){return this.w()},n.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&xt(t,this.metadata.w()),G(this.providerData,(function(e){t.providerData.push(Ii(e))})),xt(t,this.S.w()),t};var Sf={name:"redirectUser",F:"session"};function Cf(t){return ul(t.b,Sf,t.a)}function Af(t,e){return t.b.get(Sf,t.a).then((function(t){return t&&e&&(t.authDomain=e),Of(t||{})}))}function jf(t){this.a=t,this.b=ol(),this.c=null,this.f=Pf(this),this.b.addListener(Rf("local"),this.a,O(this.g,this))}function Nf(t,e){var n,r=[];for(n in nl)nl[n]!==e&&r.push(ul(t.b,Rf(nl[n]),t.a));return r.push(ul(t.b,Df,t.a)),ze(r)}function Pf(t){var e=Rf("local"),n=Rf("session"),r=Rf("none");return cl(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Df,t.a).then((function(t){return t?Rf(t):e}))}))}))})).then((function(e){return t.c=e,Nf(t,e.F)})).o((function(){t.c||(t.c=e)}))}jf.prototype.g=function(){var t=this,e=Rf("local");Vf(this,(function(){return Ve().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Nf(t,"local").then((function(){t.c=e}))}))}))};var Df={name:"persistence",F:"session"};function Rf(t){return{name:"authUser",F:t}}function Mf(t){return Vf(t,(function(){return t.b.set(Df,t.c.F,t.a)}))}function Lf(t,e){return Vf(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function Ff(t){return Vf(t,(function(){return ul(t.b,t.c,t.a)}))}function Uf(t,e,n){return Vf(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Of(t||{})}))}))}function Vf(t,e){return t.f=t.f.then(e,e),t.f}function Bf(t){if(this.l=!1,Ei(this,"settings",new ph),Ei(this,"app",t),!nd(this).options||!nd(this).options.apiKey)throw new C("invalid-api-key");t=e["default"].SDK_VERSION?Jr(e["default"].SDK_VERSION):null,this.a=new Da(nd(this).options&&nd(this).options.apiKey,R(j),t),this.P=[],this.s=[],this.N=[],this.Pa=e["default"].INTERNAL.createSubscribe(O(this.zc,this)),this.W=void 0,this.ib=e["default"].INTERNAL.createSubscribe(O(this.Ac,this)),Xf(this,null),this.i=new jf(nd(this).options.apiKey+":"+nd(this).name),this.D=new kf(nd(this).options.apiKey+":"+nd(this).name),this.$=ad(this,Zf(this)),this.h=ad(this,td(this)),this.ba=!1,this.ja=O(this.Zc,this),this.Ba=O(this.da,this),this.qa=O(this.mc,this),this.za=O(this.wc,this),this.Aa=O(this.xc,this),this.b=null,$f(this),this.INTERNAL={},this.INTERNAL["delete"]=O(this.delete,this),this.INTERNAL.logFramework=O(this.Gc,this),this.u=0,Fn.call(this),Kf(this),this.J=[],this.R=null}function qf(t){dn.call(this,"languageCodeChanged"),this.h=t}function zf(t){dn.call(this,"emulatorConfigChanged"),this.c=t}function Wf(t){dn.call(this,"frameworkChanged"),this.f=t}function Hf(t){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),l.document&&!t&&Vr().then((function(){var t=l.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),l.document.body.appendChild(t)}))}function Kf(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.xa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.zb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.R){var t=ir(this.R.url);t=Ti({protocol:t.c,host:t.a,port:t.g,options:Ti({disableWarnings:this.R.ec})})}else t=null;return t},enumerable:!1})}function Gf(t){return t.Oa||Be(new C("auth-domain-config-required"))}function $f(t){var e=nd(t).options.authDomain,n=nd(t).options.apiKey;e&&ni()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=rh(e,n,nd(t).name,t.R),Gl(t.b,t),rd(t)&&nf(rd(t)),t.m){nf(t.m);var r=t.m;r.xa(t.la()),Hh(r,t),r=t.m,Gh(r,t.J),$h(r,t),r=t.m,Wh(r,t.R),Kh(r,t),t.m=null}return t.b}})))}function Yf(t){if(!ni())return Be(new C("operation-not-supported-in-this-environment"));var e=Gf(t).then((function(){return t.b.ra()})).then((function(t){return t?Ti(t):null}));return ad(t,e)}function Qf(t,e){var n={};return n.apiKey=nd(t).options.apiKey,n.authDomain=nd(t).options.authDomain,n.appName=nd(t).name,t.R&&(n.emulatorConfig=t.R),t.$.then((function(){return Tf(n,e,t.D,t.Ga())})).then((function(e){return rd(t)&&e.uid==rd(t).uid?(hf(rd(t),e),t.da(e)):(Xf(t,e),nf(e),t.da(e))})).then((function(){od(t)}))}function Xf(t,e){rd(t)&&(tf(rd(t),t.Ba),Cn(rd(t),"tokenChanged",t.qa),Cn(rd(t),"userDeleted",t.za),Cn(rd(t),"userInvalidated",t.Aa),Jh(rd(t))),e&&(e.W.push(t.Ba),Tn(e,"tokenChanged",t.qa),Tn(e,"userDeleted",t.za),Tn(e,"userInvalidated",t.Aa),0<t.u&&Xh(e)),Ei(t,"currentUser",e),e&&(e.xa(t.la()),Hh(e,t),Gh(e,t.J),$h(e,t),Wh(e,t.R),Kh(e,t))}function Jf(t){var e=Af(t.D,nd(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),Cf(t.D)}));return ad(t,e)}function Zf(t){var e=nd(t).options.authDomain,n=Jf(t).then((function(){return Uf(t.i,e,t.R)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return Lf(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:Ff(t.i)}))):null})).then((function(e){Xf(t,e||null)}));return ad(t,n)}function td(t){return t.$.then((function(){return Yf(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Rf("local"),e.a,t.ja)}}))}function ed(t,e){var n=null,r=null;return ad(t,e.then((function(e){return n=vs(e),r=Co(e),Qf(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=xh(e.w(),t,O(t.kc,t))),n||e})).then((function(){return Ti({user:rd(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function nd(t){return t.app}function rd(t){return t.currentUser}function id(t){return rd(t)&&rd(t)._lat||null}function od(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](id(t));if(t.W!==t.getUid()&&t.N.length)for(t.W=t.getUid(),e=0;e<t.N.length;e++)t.N[e]&&t.N[e](id(t))}}function sd(t,e){t.N.push(e),ad(t,t.h.then((function(){!t.l&&Z(t.N,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(id(t)))})))}function ad(t,e){return t.P.push(e),e.oa((function(){tt(t.P,e)})),e}function cd(){}function ud(){this.a={},this.b=1e12}jf.prototype.yb=function(t){var e=null,n=this;return rl(t),Vf(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Nf(n,t)})).then((function(){if(n.c=Rf(t),e)return n.b.set(n.c,e,n.a)})):Ve()}))},k(Bf,Fn),k(qf,dn),k(zf,dn),k(Wf,dn),n=Bf.prototype,n.yb=function(t){return t=this.i.yb(t),ad(this,t)},n.xa=function(t){this.aa===t||this.l||(this.aa=t,Ba(this.a,this.aa),this.dispatchEvent(new qf(this.la())))},n.la=function(){return this.aa},n.fd=function(){var t=l.navigator;this.xa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},n.gd=function(t,e){if(!this.R){if(!/^https?:\/\//.test(t))throw new C("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");e=!!e&&!!e.disableWarnings,Hf(e),this.R={url:t,ec:e},this.settings.jb=!0,qa(this.a,this.R),this.dispatchEvent(new zf(this.R))}},n.Gc=function(t){this.J.push(t),Wa(this.a,e["default"].SDK_VERSION?Jr(e["default"].SDK_VERSION,this.J):null),this.dispatchEvent(new Wf(this.J))},n.Ga=function(){return rt(this.J)},n.zb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},n.T=function(){return this.S},n.toJSON=function(){return{apiKey:nd(this).options.apiKey,authDomain:nd(this).options.authDomain,appName:nd(this).name,currentUser:rd(this)&&rd(this).w()}},n.Gb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},n.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?O(this.ic,this):null},n.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return ed(i,fc(i.a,o))}))},n.Xc=function(t){if(!ni())return Be(new C("operation-not-supported-in-this-environment"));var n=this,r=So(t.providerId),i=ui(),o=null;(!oi()||zr())&&nd(this).options.authDomain&&t.isOAuthProvider&&(o=pu(nd(this).options.authDomain,nd(this).options.apiKey,nd(this).name,"signInViaPopup",t,null,i,e["default"].SDK_VERSION||null,null,null,this.T(),this.R));var s=Mr(o,r&&r.va,r&&r.ua);return r=Gf(this).then((function(e){return Xl(e,s,"signInViaPopup",t,i,!!o,n.T())})).then((function(){return new Pe((function(t,e){n.na("signInViaPopup",null,new C("cancelled-popup-request"),n.g),n.f=t,n.C=e,n.g=i,n.c=th(n.b,n,"signInViaPopup",s,i)}))})).then((function(t){return s&&Rr(s),t?Ti(t):null})).o((function(t){throw s&&Rr(s),t})),ad(this,r)},n.Yc=function(t){if(!ni())return Be(new C("operation-not-supported-in-this-environment"));var e=this,n=Gf(this).then((function(){return Mf(e.i)})).then((function(){return Zl(e.b,"signInViaRedirect",t,void 0,e.T())}));return ad(this,n)},n.ra=function(){var t=this;return Yf(this).then((function(e){return t.b&&sh(t.b.b),e})).o((function(e){throw t.b&&sh(t.b.b),e}))},n.dd=function(t){if(!t)return Be(new C("null-user"));if(this.S!=t.tenantId)return Be(new C("tenant-id-mismatch"));var e=this,n={};n.apiKey=nd(this).options.apiKey,n.authDomain=nd(this).options.authDomain,n.appName=nd(this).name;var r=If(t,n,e.D,e.Ga());return ad(this,this.h.then((function(){if(nd(e).options.apiKey!=t.l)return r.reload()})).then((function(){return rd(e)&&t.uid==rd(e).uid?(hf(rd(e),t),e.da(t)):(Xf(e,r),nf(r),e.da(r))})).then((function(){od(e)})))},n.Bb=function(){var t=this,e=this.h.then((function(){return t.b&&sh(t.b.b),rd(t)?(Xf(t,null),Ff(t.i).then((function(){od(t)}))):Ve()}));return ad(this,e)},n.Zc=function(){var t=this;return Uf(this.i,nd(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=rd(t)&&e){n=rd(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return hf(rd(t),e),rd(t).I();(rd(t)||e)&&(Xf(t,e),e&&(nf(e),e.ha=t.D),t.b&&Gl(t.b,t),od(t))}}))},n.da=function(t){return Lf(this.i,t)},n.mc=function(){od(this),this.da(rd(this))},n.wc=function(){this.Bb()},n.xc=function(){this.Bb()},n.kc=function(t){var e=this;return this.h.then((function(){return ed(e,Ve(t))}))},n.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(rd(e))}))},n.Ac=function(t){var e=this;sd(this,(function(){t.next(rd(e))}))},n.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof t?t(rd(r)):"function"===typeof t.next&&t.next(rd(r))})),this.Pa(t,e,n)},n.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"===typeof t?t(rd(r)):"function"===typeof t.next&&t.next(rd(r))})),this.ib(t,e,n)},n.nc=function(t){var e=this,n=this.h.then((function(){return rd(e)?rd(e).I(t).then((function(t){return{accessToken:t}})):null}));return ad(this,n)},n.Tc=function(t){var e=this;return this.h.then((function(){return ed(e,Yc(e.a,zc,{token:t}))})).then((function(t){var n=t.user;return lf(n,"isAnonymous",!1),e.da(n),t}))},n.Uc=function(t,e){var n=this;return this.h.then((function(){return ed(n,Yc(n.a,Wc,{email:t,password:e}))}))},n.dc=function(t,e){var n=this;return this.h.then((function(){return ed(n,Yc(n.a,yc,{email:t,password:e}))}))},n.ab=function(t){var e=this;return this.h.then((function(){return ed(e,t.ka(e.a))}))},n.Sc=function(t){return wi("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(t)},n.Ab=function(){var t=this;return this.h.then((function(){var e=rd(t);if(e&&e.isAnonymous){var n=Ti({providerId:null,isNewUser:!1});return Ti({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return ed(t,t.a.Ab()).then((function(e){var n=e.user;return lf(n,"isAnonymous",!0),t.da(n),e}))}))},n.getUid=function(){return rd(this)&&rd(this).uid||null},n.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&rd(this)&&Xh(rd(this))},n.Pc=function(t){var e=this;G(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&rd(this)&&Jh(rd(this)),this.removeAuthTokenListener(t)},n.addAuthTokenListener=function(t){var e=this;this.s.push(t),ad(this,this.h.then((function(){e.l||Z(e.s,t)&&t(id(e))})))},n.removeAuthTokenListener=function(t){et(this.s,(function(e){return e==t}))},n.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i,t.b.removeListener(Rf("local"),t.a,this.ja)),this.b&&($l(this.b,this),sh(this.b.b)),Promise.resolve()},n.hc=function(t){return ad(this,Za(this.a,t))},n.Bc=function(t){return!!hs(t)},n.xb=function(t,e){var n=this;return ad(this,Ve().then((function(){var t=new oo(e);if(!t.c)throw new C("argument-error",co+" must be true when sending sign in link to email");return mo(t)})).then((function(e){return n.a.xb(t,e)})).then((function(){})))},n.jd=function(t){return this.Sa(t).then((function(t){return t.data.email}))},n.ob=function(t,e){return ad(this,this.a.ob(t,e).then((function(){})))},n.Sa=function(t){return ad(this,this.a.Sa(t).then((function(t){return new Mi(t)})))},n.kb=function(t){return ad(this,this.a.kb(t).then((function(){})))},n.wb=function(t,e){var n=this;return ad(this,Ve().then((function(){return"undefined"===typeof e||bt(e)?{}:mo(new oo(e))})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},n.Wc=function(t,e){return ad(this,mh(this,t,e,O(this.ab,this)))},n.Vc=function(t,e){var n=this;return ad(this,Ve().then((function(){var r=e||Ar(),i=ls(t,r);if(r=hs(r),!r)throw new C("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new C("tenant-id-mismatch");return n.ab(i)})))},cd.prototype.render=function(){},cd.prototype.reset=function(){},cd.prototype.getResponse=function(){},cd.prototype.execute=function(){};var ld=null;function hd(t,e){return(e=fd(e))&&t.a[e]||null}function fd(t){return(t="undefined"===typeof t?1e12:t)?t.toString():null}function dd(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ye(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():Tn(this.f,"click",this.i)}function pd(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function gd(){}function md(){}ud.prototype.render=function(t,e){return this.a[this.b.toString()]=new dd(t,e),this.b++},ud.prototype.reset=function(t){var e=hd(this,t);t=fd(t),e&&t&&(e.delete(),delete this.a[t])},ud.prototype.getResponse=function(t){return(t=hd(this,t))?t.getResponse():null},ud.prototype.execute=function(t){(t=hd(this,t))&&t.execute()},dd.prototype.getResponse=function(){return pd(this),this.b},dd.prototype.execute=function(){pd(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=Gr();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},dd.prototype.delete=function(){pd(this),this.g=!0,clearTimeout(this.a),this.a=null,Cn(this.f,"click",this.i)},Ei(gd,"FACTOR_ID","phone"),md.prototype.g=function(){return ld||(ld=new ud),Ve(ld)},md.prototype.c=function(){};var vd=null;function yd(){this.b=l.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var bd=new Ot(St,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),_d=new fi(3e4,6e4);yd.prototype.g=function(t){var e=this;return new Pe((function(n,r){var i=setTimeout((function(){r(new C("network-request-failed"))}),_d.get());if(!l.grecaptcha||t!==e.f&&!e.b){l[e.a]=function(){if(l.grecaptcha){e.f=t;var o=l.grecaptcha.render;l.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(l.grecaptcha)}else clearTimeout(i),r(new C("internal-error"));delete l[e.a]};var o=Nt(bd,{onload:e.a,hl:t||""});Ve(Ia(o)).o((function(){clearTimeout(i),r(new C("internal-error","Unable to load external reCAPTCHA dependencies!"))}))}else clearTimeout(i),n(l.grecaptcha)}))},yd.prototype.c=function(){this.b--};var wd=null;function xd(t,e,n,r,i,o,s){if(Ei(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=e,this.g=null,s?(vd||(vd=new md),s=vd):(wd||(wd=new yd),s=wd),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Td])throw new C("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Id],!l.document)throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ye(e)||!this.i&&ye(e).hasChildNodes())throw new C("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Da(t,o||null,i||null),this.u=r||function(){return null};var a=this;this.l=[];var c=this.a[Ed];this.a[Ed]=function(t){if(kd(a,t),"function"===typeof c)c(t);else if("string"===typeof c){var e=ti(c,l);"function"===typeof e&&e(t)}};var u=this.a[Od];this.a[Od]=function(){if(kd(a,null),"function"===typeof u)u();else if("string"===typeof u){var t=ti(u,l);"function"===typeof t&&t()}}}var Ed="callback",Od="expired-callback",Td="sitekey",Id="size";function kd(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Sd(t,e){et(t.l,(function(t){return t==e}))}function Cd(t,e){return t.h.push(e),e.oa((function(){tt(t.h,e)})),e}function Ad(t){if(t.J)throw new C("internal-error","RecaptchaVerifier instance has been destroyed.")}function jd(t,n,r){var i=!1;try{this.b=r||e["default"].app()}catch(a){throw new C("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new C("invalid-api-key");r=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ga()}catch(a){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=e["default"].SDK_VERSION?Jr(e["default"].SDK_VERSION,s):null,xd.call(this,r,t,n,(function(){try{var t=o.b.auth().la()}catch(e){t=null}return t}),s,R(j),i)}function Nd(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new C("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Pd.length)throw new C("internal-error","Argument validator received an unsupported number of arguments.");n=Pd[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new C("argument-error",t+" failed: "+r)}n=xd.prototype,n.Ia=function(){var t=this;return this.f?this.f:this.f=Cd(this,Ve().then((function(){if(ri()&&!Wr())return Vr();throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,Yc(t.s,Nc,{})})).then((function(e){t.a[Td]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},n.render=function(){Ad(this);var t=this;return Cd(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=ye(e);e=Ee("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},n.verify=function(){Ad(this);var t=this;return Cd(this,this.render().then((function(e){return new Pe((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(Sd(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},n.reset=function(){Ad(this),null!==this.c&&this.g.reset(this.c)},n.clear=function(){Ad(this),this.J=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ye(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},k(jd,xd);var Pd="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Dd(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"===typeof t}}}function Rd(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"===typeof t}}}function Md(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:y}}function Ld(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"===typeof t}}}function Fd(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Ud(){return{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}}}function Vd(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof Bf)}}}function Bd(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof e["default"].app.App)}}}function qd(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function zd(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}}}function Wd(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}}function Hd(t,e){return y(t)&&"string"===typeof t.type&&t.type===e&&"function"===typeof t.Ha}function Kd(t){return y(t)&&"string"===typeof t.uid}function Gd(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}}function $d(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Yd(t,e){for(var n in e){var r=e[n].name;t[r]=Jd(r,t[n],e[n].j)}}function Qd(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:T((function(t){return this[t]}),n),set:T((function(t,e,n,r){Nd(t,[n],[r],!0),this[e]=r}),r,n,e[n].lb),enumerable:!0})}}function Xd(t,e,n,r){t[e]=Jd(e,n,r)}function Jd(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Nd(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=Zd(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}function Zd(t){return t=t.split("."),t[t.length-1]}Yd(Bf.prototype,{kb:{name:"applyActionCode",j:[Dd("code")]},Sa:{name:"checkActionCode",j:[Dd("code")]},ob:{name:"confirmPasswordReset",j:[Dd("code"),Dd("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Dd("email"),Dd("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Dd("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Dd("emailLink")]},Hc:{name:"onAuthStateChanged",j:[$d(Md(),Ld(),"nextOrObserver"),Ld("opt_error",!0),Ld("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[$d(Md(),Ld(),"nextOrObserver"),Ld("opt_error",!0),Ld("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Dd("email"),$d(Md("opt_actionCodeSettings",!0),Fd(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Dd("email"),Md("actionCodeSettings")]},yb:{name:"setPersistence",j:[Dd("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[qd()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[qd()]},Tc:{name:"signInWithCustomToken",j:[Dd("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Dd("email"),Dd("password")]},Vc:{name:"signInWithEmailLink",j:[Dd("email"),Dd("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Dd("phoneNumber"),Gd()]},Xc:{name:"signInWithPopup",j:[Wd()]},Yc:{name:"signInWithRedirect",j:[Wd()]},dd:{name:"updateCurrentUser",j:[$d(function(t){return{name:"user",K:"an instance of Firebase User",optional:!!t,M:function(t){return!!(t&&t instanceof zh)}}}(),Fd(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Dd(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Dd("url"),Md("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Dd("code")]}}),Qd(Bf.prototype,{lc:{name:"languageCode",lb:$d(Dd(),Fd(),"languageCode")},ti:{name:"tenantId",lb:$d(Dd(),Fd(),"tenantId")}}),Bf.Persistence=nl,Bf.Persistence.LOCAL="local",Bf.Persistence.SESSION="session",Bf.Persistence.NONE="none",Yd(zh.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Rd("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Rd("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[qd()]},rb:{name:"linkWithCredential",j:[qd()]},Dc:{name:"linkWithPhoneNumber",j:[Dd("phoneNumber"),Gd()]},Ec:{name:"linkWithPopup",j:[Wd()]},Fc:{name:"linkWithRedirect",j:[Wd()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[qd()]},ub:{name:"reauthenticateWithCredential",j:[qd()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Dd("phoneNumber"),Gd()]},Nc:{name:"reauthenticateWithPopup",j:[Wd()]},Oc:{name:"reauthenticateWithRedirect",j:[Wd()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[$d(Md("opt_actionCodeSettings",!0),Fd(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Dd(null,!0)]},cd:{name:"unlink",j:[Dd("provider")]},Cb:{name:"updateEmail",j:[Dd("email")]},Db:{name:"updatePassword",j:[Dd("password")]},ed:{name:"updatePhoneNumber",j:[qd("phone")]},Eb:{name:"updateProfile",j:[Md("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Dd("email"),$d(Md("opt_actionCodeSettings",!0),Fd(null,!0),"opt_actionCodeSettings",!0)]}}),Yd(ud.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Yd(cd.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Yd(Pe.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Qd(ph.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Rd("appVerificationDisabledForTesting")}}),Yd(gh.prototype,{confirm:{name:"confirm",j:[Dd("verificationCode")]}}),Xd(qo,"fromJSON",(function(t){t="string"===typeof t?JSON.parse(t):t;for(var e,n=[Yo,cs,ds,Ko],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[$d(Dd(),Md(),"json")]),Xd(us,"credential",(function(t,e){return new as(t,e)}),[Dd("email"),Dd("password")]),Yd(as.prototype,{w:{name:"toJSON",j:[Dd(null,!0)]}}),Yd(Zo.prototype,{Ca:{name:"addScope",j:[Dd("scope")]},Ka:{name:"setCustomParameters",j:[Md("customOAuthParameters")]}}),Xd(Zo,"credential",ts,[$d(Dd(),Md(),"token")]),Xd(us,"credentialWithLink",ls,[Dd("email"),Dd("emailLink")]),Yd(es.prototype,{Ca:{name:"addScope",j:[Dd("scope")]},Ka:{name:"setCustomParameters",j:[Md("customOAuthParameters")]}}),Xd(es,"credential",ns,[$d(Dd(),Md(),"token")]),Yd(rs.prototype,{Ca:{name:"addScope",j:[Dd("scope")]},Ka:{name:"setCustomParameters",j:[Md("customOAuthParameters")]}}),Xd(rs,"credential",is,[$d(Dd(),$d(Md(),Fd()),"idToken"),$d(Dd(),Fd(),"accessToken",!0)]),Yd(os.prototype,{Ka:{name:"setCustomParameters",j:[Md("customOAuthParameters")]}}),Xd(os,"credential",ss,[$d(Dd(),Md(),"token"),Dd("secret",!0)]),Yd(Jo.prototype,{Ca:{name:"addScope",j:[Dd("scope")]},credential:{name:"credential",j:[$d(Dd(),$d(Md(),Fd()),"optionsOrIdToken"),$d(Dd(),Fd(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Md("customOAuthParameters")]}}),Yd(Go.prototype,{w:{name:"toJSON",j:[Dd(null,!0)]}}),Yd(Wo.prototype,{w:{name:"toJSON",j:[Dd(null,!0)]}}),Xd(gs,"credential",ms,[Dd("verificationId"),Dd("verificationCode")]),Yd(gs.prototype,{gb:{name:"verifyPhoneNumber",j:[$d(Dd(),function(t,e){return{name:t||"phoneInfoOptions",K:"valid phone info options",optional:!!e,M:function(t){return!!t&&(t.session&&t.phoneNumber?Hd(t.session,Vo)&&"string"===typeof t.phoneNumber:t.session&&t.multiFactorHint?Hd(t.session,Bo)&&Kd(t.multiFactorHint):t.session&&t.multiFactorUid?Hd(t.session,Bo)&&"string"===typeof t.multiFactorUid:!!t.phoneNumber&&"string"===typeof t.phoneNumber)}}}(),"phoneInfoOptions"),Gd()]}}),Yd(fs.prototype,{w:{name:"toJSON",j:[Dd(null,!0)]}}),Yd(C.prototype,{toJSON:{name:"toJSON",j:[Dd(null,!0)]}}),Yd(Is.prototype,{toJSON:{name:"toJSON",j:[Dd(null,!0)]}}),Yd(Ts.prototype,{toJSON:{name:"toJSON",j:[Dd(null,!0)]}}),Yd(wh.prototype,{toJSON:{name:"toJSON",j:[Dd(null,!0)]}}),Yd(yh.prototype,{Rc:{name:"resolveSignIn",j:[zd()]}}),Yd(Ch.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[zd(),Dd("displayName",!0)]},bd:{name:"unenroll",j:[$d({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Kd},Dd(),"multiFactorInfoIdentifier")]}}),Yd(jd.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Xd(Qi,"parseLink",io,[Dd("link")]),Xd(gd,"assertion",(function(t){return new kh(t)}),[qd("phone")]),function(){if("undefined"===typeof e["default"]||!e["default"].INTERNAL||!e["default"].INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Fi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Li,VERIFY_AND_CHANGE_EMAIL:Ui,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Bf,AuthCredential:qo,Error:C};Xd(t,"EmailAuthProvider",us,[]),Xd(t,"FacebookAuthProvider",Zo,[]),Xd(t,"GithubAuthProvider",es,[]),Xd(t,"GoogleAuthProvider",rs,[]),Xd(t,"TwitterAuthProvider",os,[]),Xd(t,"OAuthProvider",Jo,[Dd("providerId")]),Xd(t,"SAMLAuthProvider",Xo,[Dd("providerId")]),Xd(t,"PhoneAuthProvider",gs,[Vd()]),Xd(t,"RecaptchaVerifier",jd,[$d(Dd(),Ud(),"recaptchaContainer"),Md("recaptchaParameters",!0),Bd()]),Xd(t,"ActionCodeURL",Qi,[]),Xd(t,"PhoneMultiFactorGenerator",gd,[]),e["default"].INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return t=t.getProvider("app").getImmediate(),new Bf(t)},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(t){t.getProvider("auth-internal").initialize()}}),e["default"].INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return t=t.getProvider("auth").getImmediate(),{getUid:O(t.getUid,t),getToken:O(t.nc,t),addAuthTokenListener:O(t.cc,t),removeAuthTokenListener:O(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),e["default"].registerVersion("@firebase/auth","0.16.8"),e["default"].INTERNAL.extendNamespace({User:zh})}()}).apply("undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}).call(this,n("c8ba"))},b85c:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0");var r=n("06c5");function i(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Object(r["a"])(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,s=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(c)throw s}}}}},c04e:function(t,e,n){var r=n("861d"),i=n("d9b5"),o=n("485a"),s=n("b622"),a=s("toPrimitive");t.exports=function(t,e){if(!r(t)||i(t))return t;var n,s=t[a];if(void 0!==s){if(void 0===e&&(e="default"),n=s.call(t,e),!r(n)||i(n))return n;throw TypeError("Can't convert object to primitive value")}return void 0===e&&(e="number"),o(t,e)}},c074:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return s})),n.d(e,"e",(function(){return a})),n.d(e,"f",(function(){return c}));
/*!
 * Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 */
var r={prefix:"fas",iconName:"angle-down",icon:[320,512,[],"f107","M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"]},i={prefix:"fas",iconName:"angle-up",icon:[320,512,[],"f106","M177 159.7l136 136c9.4 9.4 9.4 24.6 0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9 0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9 0L7 329.7c-9.4-9.4-9.4-24.6 0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z"]},o={prefix:"fas",iconName:"arrow-left",icon:[448,512,[],"f060","M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"]},s={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"]},a={prefix:"fas",iconName:"external-link-alt",icon:[512,512,[],"f35d","M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"]},c={prefix:"fas",iconName:"home",icon:[576,512,[],"f015","M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"]}},c430:function(t,e){t.exports=!1},c68e:function(t,e,n){"use strict";var r=n("cc84"),i=n("a6a6"),o=n("ffa6"),s=(n("a8e9"),n("abfd"),n("c7b2"),{Firestore:i["f"],GeoPoint:i["a"],Timestamp:i["c"],Blob:i["j"],Transaction:i["l"],WriteBatch:i["g"],DocumentReference:i["t"],DocumentSnapshot:i["h"],Query:i["r"],QueryDocumentSnapshot:i["i"],QuerySnapshot:i["m"],CollectionReference:i["q"],FieldPath:i["p"],FieldValue:i["n"],setLogLevel:i["d"],CACHE_SIZE_UNLIMITED:i["b"]});
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function a(t){!function(t,e){t.INTERNAL.registerComponent(new o["Component"]("firestore",(function(t){var n=t.getProvider("app").getImmediate();return e(n,t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},s)))}(t,(function(t,e){return new i["f"](t,new i["e"](t,e),new i["o"])})),t.registerVersion("@firebase/firestore","2.4.0")}a(r["default"])},c6b6:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},c6cd:function(t,e,n){var r=n("da84"),i=n("ce4e"),o="__core-js_shared__",s=r[o]||i(o,{});t.exports=s},c7b2:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return Ar})),n.d(e,"b",(function(){return Nr})),n.d(e,"c",(function(){return jr})),n.d(e,"d",(function(){return Dr})),n.d(e,"e",(function(){return Pr})),n.d(e,"f",(function(){return Rr})),n.d(e,"g",(function(){return Mr})),n.d(e,"h",(function(){return Sr})),n.d(e,"i",(function(){return Cr}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function o(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var s,a="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},c=c||{},u=a||self;function l(){}function h(t){var e=typeof t;return e="object"!=e?e:t?Array.isArray(t)?"array":e:"null","array"==e||"object"==e&&"number"==typeof t.length}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function d(t){return Object.prototype.hasOwnProperty.call(t,p)&&t[p]||(t[p]=++g)}var p="closure_uid_"+(1e9*Math.random()>>>0),g=0;function m(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function y(t,e,n){return y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:v,y.apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function _(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function w(){this.s=this.s,this.o=this.o}var x=0,E={};w.prototype.s=!1,w.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0!=x)){var t=d(this);delete E[t]}},w.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var O=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},T=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function I(t){t:{for(var e=Wn,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}function k(t){return Array.prototype.concat.apply([],arguments)}function S(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function C(t){return/^[\s\xa0]*$/.test(t)}var A,j=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function N(t,e){return-1!=t.indexOf(e)}function P(t,e){return t<e?-1:t>e?1:0}t:{var D=u.navigator;if(D){var R=D.userAgent;if(R){A=R;break t}}A=""}function M(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function L(t){var e={};for(var n in t)e[n]=t[n];return e}var F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(var o=0;o<F.length;o++)n=F[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function V(t){return V[" "](t),t}function B(t){var e=tt;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}V[" "]=l;var q,z=N(A,"Opera"),W=N(A,"Trident")||N(A,"MSIE"),H=N(A,"Edge"),K=H||W,G=N(A,"Gecko")&&!(N(A.toLowerCase(),"webkit")&&!N(A,"Edge"))&&!(N(A,"Trident")||N(A,"MSIE"))&&!N(A,"Edge"),$=N(A.toLowerCase(),"webkit")&&!N(A,"Edge");function Y(){var t=u.document;return t?t.documentMode:void 0}t:{var Q="",X=function(){var t=A;return G?/rv:([^\);]+)(\)|;)/.exec(t):H?/Edge\/([\d\.]+)/.exec(t):W?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):$?/WebKit\/(\S+)/.exec(t):z?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(X&&(Q=X?X[1]:""),W){var J=Y();if(null!=J&&J>parseFloat(Q)){q=String(J);break t}}q=Q}var Z,tt={};function et(){return B((function(){for(var t=0,e=j(String(q)).split("."),n=j("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=P(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||P(0==o[2].length,0==s[2].length)||P(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t}))}if(u.document&&W){var nt=Y();Z=nt||(parseInt(q,10)||void 0)}else Z=void 0;var rt=Z,it=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",l,e),u.removeEventListener("test",l,e)}catch(n){}return t}();function ot(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function st(t,e){if(ot.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(G){t:{try{V(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:at[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&st.Z.h.call(this)}}ot.prototype.h=function(){this.defaultPrevented=!0},_(st,ot);var at={2:"touch",3:"pen",4:"mouse"};st.prototype.h=function(){st.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ct="closure_listenable_"+(1e6*Math.random()|0),ut=0;function lt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++ut,this.ca=this.fa=!1}function ht(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function ft(t){this.src=t,this.g={},this.h=0}function dt(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=O(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ht(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function pt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}ft.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=pt(t,e,r,i);return-1<s?(e=t[s],n||(e.fa=!1)):(e=new lt(e,this.src,o,!!r,i),e.fa=n,t.push(e)),e};var gt="closure_lm_"+(1e6*Math.random()|0),mt={};function vt(t,e,n,r,i){if(r&&r.once)return _t(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)vt(t,e[o],n,r,i);return null}return n=kt(n),t&&t[ct]?t.N(e,n,f(r)?!!r.capture:!!r,i):yt(t,e,n,!1,r,i)}function yt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=f(i)?!!i.capture:!!i,a=Tt(t);if(a||(t[gt]=a=new ft(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=bt(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)it||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Et(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function bt(){function t(n){return e.call(t.src,t.listener,n)}var e=Ot;return t}function _t(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)_t(t,e[o],n,r,i);return null}return n=kt(n),t&&t[ct]?t.O(e,n,f(r)?!!r.capture:!!r,i):yt(t,e,n,!0,r,i)}function wt(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)wt(t,e[o],n,r,i);else r=f(r)?!!r.capture:!!r,n=kt(n),t&&t[ct]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=pt(o,n,r,i),-1<n&&(ht(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--)))):t&&(t=Tt(t))&&(e=t.g[e.toString()],t=-1,e&&(t=pt(e,n,r,i)),(n=-1<t?e[t]:null)&&xt(n))}function xt(t){if("number"!==typeof t&&t&&!t.ca){var e=t.src;if(e&&e[ct])dt(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Et(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Tt(e))?(dt(n,t),0==n.h&&(n.src=null,e[gt]=null)):ht(t)}}}function Et(t){return t in mt?mt[t]:mt[t]="on"+t}function Ot(t,e){if(t.ca)t=!0;else{e=new st(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&xt(t),t=n.call(r,e)}return t}function Tt(t){return t=t[gt],t instanceof ft?t:null}var It="__closure_events_fn_"+(1e9*Math.random()>>>0);function kt(t){return"function"===typeof t?t:(t[It]||(t[It]=function(e){return t.handleEvent(e)}),t[It])}function St(){w.call(this),this.i=new ft(this),this.P=this,this.I=null}function Ct(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"===typeof e)e=new ot(e,t);else if(e instanceof ot)e.target=e.target||t;else{var i=e;e=new ot(r,t),U(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=At(s,r,!0,e)&&i}if(s=e.g=t,i=At(s,r,!0,e)&&i,i=At(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=At(s,r,!1,e)&&i}function At(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,c=s.ia||s.src;s.fa&&dt(t.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}_(St,w),St.prototype[ct]=!0,St.prototype.removeEventListener=function(t,e,n,r){wt(this,t,e,n,r)},St.prototype.M=function(){if(St.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)ht(n[r]);delete e.g[t],e.h--}}this.I=null},St.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},St.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var jt=u.JSON.stringify;function Nt(){var t=Bt,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Pt,Dt=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=Rt.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),Rt=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},t}())((function(){return new Mt}),(function(t){return t.reset()})),Mt=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function Lt(t){u.setTimeout((function(){throw t}),0)}function Ft(t,e){Pt||Ut(),Vt||(Pt(),Vt=!0),Bt.add(t,e)}function Ut(){var t=u.Promise.resolve(void 0);Pt=function(){t.then(qt)}}var Vt=!1,Bt=new Dt;function qt(){for(var t;t=Nt();){try{t.h.call(t.g)}catch(n){Lt(n)}var e=Rt;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Vt=!1}function zt(t,e){St.call(this),this.h=t||1,this.g=e||u,this.j=y(this.kb,this),this.l=Date.now()}function Wt(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Ht(t,e,n){if("function"===typeof t)n&&(t=y(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=y(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function Kt(t){t.g=Ht((function(){t.g=null,t.i&&(t.i=!1,Kt(t))}),t.j);var e=t.h;t.h=null,t.m.apply(null,e)}_(zt,St),s=zt.prototype,s.da=!1,s.S=null,s.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ct(this,"tick"),this.da&&(Wt(this),this.start()))}},s.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},s.M=function(){zt.Z.M.call(this),Wt(this),delete this.g};var Gt=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return i(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:Kt(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(w);function $t(t){w.call(this),this.h=t,this.g={}}_($t,w);var Yt=[];function Qt(t,e,n,r){Array.isArray(n)||(n&&(Yt[0]=n.toString()),n=Yt);for(var i=0;i<n.length;i++){var o=vt(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Xt(t){M(t.g,(function(t,e){this.g.hasOwnProperty(e)&&xt(t)}),t),t.g={}}function Jt(){this.g=!0}function Zt(t,e,n,r,i,o){t.info((function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+u+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}function te(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}function ee(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+re(t,n)+(r?" "+r:"")}))}function ne(t,e){t.info((function(){return"TIMEOUT: "+e}))}function re(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return jt(n)}catch(a){return e}}$t.prototype.M=function(){$t.Z.M.call(this),Xt(this)},$t.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jt.prototype.Aa=function(){this.g=!1},Jt.prototype.info=function(){};var ie={},oe=null;function se(){return oe=oe||new St}function ae(t){ot.call(this,ie.Ma,t)}function ce(t){var e=se();Ct(e,new ae(e,t))}function ue(t,e){ot.call(this,ie.STAT_EVENT,t),this.stat=e}function le(t){var e=se();Ct(e,new ue(e,t))}function he(t,e){ot.call(this,ie.Na,t),this.size=e}function fe(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return u.setTimeout((function(){t()}),e)}ie.Ma="serverreachability",_(ae,ot),ie.STAT_EVENT="statevent",_(ue,ot),ie.Na="timingevent",_(he,ot);var de={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},pe={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ge(){}function me(t){return t.h||(t.h=t.i())}function ve(){}ge.prototype.h=null;var ye,be={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function _e(){ot.call(this,"d")}function we(){ot.call(this,"c")}function xe(){}function Ee(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new $t(this),this.P=Te,t=K?125:void 0,this.W=new zt(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Oe}function Oe(){this.i=null,this.g="",this.h=!1}_(_e,ot),_(we,ot),_(xe,ge),xe.prototype.g=function(){return new XMLHttpRequest},xe.prototype.i=function(){return{}},ye=new xe;var Te=45e3,Ie={},ke={};function Se(t,e,n){t.K=1,t.v=Ze(Ge(e)),t.s=n,t.U=!0,Ce(t,null)}function Ce(t,e){t.F=Date.now(),Pe(t),t.A=Ge(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),gn(n.h,"t",r),t.C=0,n=t.l.H,t.h=new Oe,t.g=wr(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Gt(y(t.Ia,t,t.g),t.O)),Qt(t.V,t.g,"readystatechange",t.gb),e=t.H?L(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),ce(1),Zt(t.j,t.u,t.A,t.m,t.X,t.s)}function Ae(t){return!!t.g&&("GET"==t.u&&2!=t.K&&t.l.Ba)}function je(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if(r=Ne(t,n),r==ke){4==e&&(t.o=4,le(14),i=!1),ee(t.j,t.m,null,"[Incomplete Response]");break}if(r==Ie){t.o=4,le(15),ee(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}ee(t.j,t.m,r,null),Fe(t,r)}Ae(t)&&r!=ke&&r!=Ie&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,le(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),dr(e),e.L=!0,le(11))):(ee(t.j,t.m,n,"[Invalid Chunked Response]"),Le(t),Me(t))}function Ne(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?ke:(n=Number(e.substring(n,r)),isNaN(n)?Ie:(r+=1,r+n>e.length?ke:(e=e.substr(r,n),t.C=r+n,e)))}function Pe(t){t.Y=Date.now()+t.P,De(t,t.P)}function De(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=fe(y(t.eb,t),e)}function Re(t){t.B&&(u.clearTimeout(t.B),t.B=null)}function Me(t){0==t.l.G||t.I||mr(t.l,t)}function Le(t){Re(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Wt(t.W),Xt(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Fe(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||En(n.i,t)))if(n.I=t.N,!t.J&&En(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;gr(n),rr(n)}fr(n),le(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=fe(y(n.ab,n),6e3));if(1>=xn(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else yr(n,11)}else if((t.J||n.g==t)&&gr(n),!C(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var s=o[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var c=o[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var u=t.g;if(u){var l=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(N(l,"spdy")||N(l,"quic")||N(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(On(h,h.h),h.h=null))}if(r.D){var f=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,Je(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var d=t;if(r.oa=_r(r,r.H?r.la:null,r.W),d.J){Tn(r.i,d);var p=d,g=r.K;g&&p.setTimeout(g),p.B&&(Re(p),Pe(p)),r.g=d}else hr(r);0<n.l.length&&sr(n)}else"stop"!=o[0]&&"close"!=o[0]||yr(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?yr(n,7):nr(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}ce(4)}catch(o){}}function Ue(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"===typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Ve(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"===typeof t)T(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(h(t)||"string"===typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=Ue(t),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Be(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Be)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function qe(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];ze(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)r=t.g[e],ze(i,r)||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function ze(t,e){return Object.prototype.hasOwnProperty.call(t,e)}s=Ee.prototype,s.setTimeout=function(t){this.P=t},s.gb=function(t){t=t.target;var e=this.L;e&&3==Qn(t)?e.l():this.Ia(t)},s.Ia=function(t){try{if(t==this.g)t:{var e=Qn(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||K||this.g&&(this.h.h||this.g.ga()||Xn(this.g)))){this.I||4!=e||7==n||ce(8==n||0>=r?3:2),Re(this);var i=this.g.ba();this.N=i;e:if(Ae(this)){var o=Xn(this.g);t="";var s=o.length,a=4==Qn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Le(this),Me(this);var c="";break e}this.h.i=new u.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=t,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==i,te(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var l,h=this.g;if((l=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(l)){var f=l;break e}}f=null}if(!(i=f)){this.i=!1,this.o=3,le(12),Le(this),Me(this);break t}ee(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Fe(this,i)}this.U?(je(this,e,c),K&&this.i&&3==e&&(Qt(this.V,this.W,"tick",this.fb),this.W.start())):(ee(this.j,this.m,c,null),Fe(this,c)),4==e&&Le(this),this.i&&!this.I&&(4==e?mr(this.l,this):(this.i=!1,Pe(this)))}else 400==i&&0<c.indexOf("Unknown SID")?(this.o=3,le(12)):(this.o=0,le(13)),Le(this),Me(this)}}}catch(e){}},s.fb=function(){if(this.g){var t=Qn(this.g),e=this.g.ga();this.C<e.length&&(Re(this),je(this,t,e),this.i&&4!=t&&Pe(this))}},s.cancel=function(){this.I=!0,Le(this)},s.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(ne(this.j,this.A),2!=this.K&&(ce(3),le(17)),Le(this),this.o=2,Me(this)):De(this,this.Y-t)},s=Be.prototype,s.R=function(){qe(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},s.T=function(){return qe(this),this.g.concat()},s.get=function(t,e){return ze(this.h,t)?this.h[t]:e},s.set=function(t,e){ze(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},s.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var We=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function He(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ke(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Ke){this.g=void 0!==e?e:t.g,$e(this,t.j),this.s=t.s,Ye(this,t.i),Qe(this,t.m),this.l=t.l,e=t.h;var n=new hn;n.i=e.i,e.g&&(n.g=new Be(e.g),n.h=e.h),Xe(this,n),this.o=t.o}else t&&(n=String(t).match(We))?(this.g=!!e,$e(this,n[1]||"",!0),this.s=nn(n[2]||""),Ye(this,n[3]||"",!0),Qe(this,n[4]),this.l=nn(n[5]||"",!0),Xe(this,n[6]||"",!0),this.o=nn(n[7]||"")):(this.g=!!e,this.h=new hn(null,this.g))}function Ge(t){return new Ke(t)}function $e(t,e,n){t.j=n?nn(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ye(t,e,n){t.i=n?nn(e,!0):e}function Qe(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Xe(t,e,n){e instanceof hn?(t.h=e,vn(t.h,t.g)):(n||(e=rn(e,un)),t.h=new hn(e,t.g))}function Je(t,e,n){t.h.set(e,n)}function Ze(t){return Je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function tn(t){return t instanceof Ke?Ge(t):new Ke(t,void 0)}function en(t,e,n,r){var i=new Ke(null,void 0);return t&&$e(i,t),e&&Ye(i,e),n&&Qe(i,n),r&&(i.l=r),i}function nn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function rn(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,on),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function on(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}Ke.prototype.toString=function(){var t=[],e=this.j;e&&t.push(rn(e,sn,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(rn(e,sn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,null!=n&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(rn(n,"/"==n.charAt(0)?cn:an,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",rn(n,ln)),t.join("")};var sn=/[#\/\?@]/g,an=/[#\?:]/g,cn=/[#\?]/g,un=/[#\?@]/g,ln=/#/g;function hn(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function fn(t){t.g||(t.g=new Be,t.h=0,t.i&&He(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function dn(t,e){fn(t),e=mn(t,e),ze(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,ze(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&qe(t)))}function pn(t,e){return fn(t),e=mn(t,e),ze(t.g.h,e)}function gn(t,e,n){dn(t,e),0<n.length&&(t.i=null,t.g.set(mn(t,e),S(n)),t.h+=n.length)}function mn(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function vn(t,e){e&&!t.j&&(fn(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(dn(this,e),gn(this,n,t))}),t)),t.j=e}s=hn.prototype,s.add=function(t,e){fn(this),this.i=null,t=mn(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},s.forEach=function(t,e){fn(this),this.g.forEach((function(n,r){T(n,(function(n){t.call(e,n,r,this)}),this)}),this)},s.T=function(){fn(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},s.R=function(t){fn(this);var e=[];if("string"===typeof t)pn(this,t)&&(e=k(e,this.g.get(mn(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=k(e,t[n])}return e},s.set=function(t,e){return fn(this),this.i=null,t=mn(this,t),pn(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},s.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e},s.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.i=t.join("&")};var yn=function(){function t(t,e){this.h=t,this.g=e}return t}();function bn(t){this.l=t||_n,u.PerformanceNavigationTiming?(t=u.performance.getEntriesByType("navigation"),t=0<t.length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol)):t=!!(u.g&&u.g.Ea&&u.g.Ea()&&u.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var _n=10;function wn(t){return!!t.h||!!t.g&&t.g.size>=t.j}function xn(t){return t.h?1:t.g?t.g.size:0}function En(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function On(t,e){t.g?t.g.add(e):t.h=e}function Tn(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function In(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=o(t.g.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r.concat(a.D)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return S(t.i)}function kn(){}function Sn(){this.g=new kn}function Cn(t,e,n){var r=n||"";try{Ve(t,(function(t,n){var i=t;f(t)&&(i=jt(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function An(t,e){var n=new Jt;if(u.Image){var r=new Image;r.onload=b(jn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=b(jn,n,r,"TestLoadImage: error",!1,e),r.onabort=b(jn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=b(jn,n,r,"TestLoadImage: timeout",!1,e),u.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}function jn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function Nn(t){this.l=t.$b||null,this.j=t.ib||!1}function Pn(t,e){St.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Dn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bn.prototype.cancel=function(){var t,e;if(this.i=In(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=o(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(s){t={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},kn.prototype.stringify=function(t){return u.JSON.stringify(t,void 0)},kn.prototype.parse=function(t){return u.JSON.parse(t,void 0)},_(Nn,ge),Nn.prototype.g=function(){return new Pn(this.l,this.j)},Nn.prototype.i=function(t){return function(){return t}}({}),_(Pn,St);var Dn=0;function Rn(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Mn(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ln(t)}function Ln(t){t.onreadystatechange&&t.onreadystatechange.call(t)}s=Pn.prototype,s.open=function(t,e){if(this.readyState!=Dn)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ln(this)},s.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||u).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},s.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Mn(this)),this.readyState=Dn},s.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ln(this)),this.g&&(this.readyState=3,Ln(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof u.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Rn(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},s.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Mn(this):Ln(this),3==this.readyState&&Rn(this)}},s.Ua=function(t){this.g&&(this.response=this.responseText=t,Mn(this))},s.Ta=function(t){this.g&&(this.response=t,Mn(this))},s.ha=function(){this.g&&Mn(this)},s.setRequestHeader=function(t,e){this.v.append(t,e)},s.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Pn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Fn=u.JSON.parse;function Un(t){St.call(this),this.headers=new Be,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Vn,this.K=this.L=!1}_(Un,St);var Vn="",Bn=/^https?$/i,qn=["POST","PUT"];function zn(t){return W&&et()&&"number"===typeof t.timeout&&void 0!==t.ontimeout}function Wn(t){return"content-type"==t.toLowerCase()}function Hn(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Kn(t),$n(t)}function Kn(t){t.D||(t.D=!0,Ct(t,"complete"),Ct(t,"error"))}function Gn(t){if(t.h&&"undefined"!=typeof c&&(!t.C[1]||4!=Qn(t)||2!=t.ba()))if(t.v&&4==Qn(t))Ht(t.Fa,0,t);else if(Ct(t,"readystatechange"),4==Qn(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(We)[1]||null;if(!o&&u.self&&u.self.location){var s=u.self.location.protocol;o=s.substr(0,s.length-1)}i=!Bn.test(o?o.toLowerCase():"")}e=i}if(e)Ct(t,"complete"),Ct(t,"success");else{t.m=6;try{var a=2<Qn(t)?t.g.statusText:""}catch(l){a=""}t.j=a+" ["+t.ba()+"]",Kn(t)}}finally{$n(t)}}}function $n(t,e){if(t.g){Yn(t);var n=t.g,r=t.C[0]?l:null;t.g=null,t.C=null,e||Ct(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function Yn(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(u.clearTimeout(t.A),t.A=null)}function Qn(t){return t.g?t.g.readyState:0}function Xn(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Vn:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Jn(t){var e="";return M(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function Zn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=Jn(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):Je(t,e,n))}function tr(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function er(t){this.za=0,this.l=[],this.h=new Jt,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=tr("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=tr("baseRetryDelayMs",5e3,t),this.$a=tr("retryDelaySeedMs",1e4,t),this.Ya=tr("forwardChannelMaxRetries",2,t),this.ra=tr("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new bn(t&&t.concurrentRequestLimit),this.Ca=new Sn,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function nr(t){if(ir(t),3==t.G){var e=t.V++,n=Ge(t.F);Je(n,"SID",t.J),Je(n,"RID",e),Je(n,"TYPE","terminate"),ur(t,n),e=new Ee(t,t.h,e,void 0),e.K=2,e.v=Ze(Ge(n)),n=!1,u.navigator&&u.navigator.sendBeacon&&(n=u.navigator.sendBeacon(e.v.toString(),"")),!n&&u.Image&&((new Image).src=e.v,n=!0),n||(e.g=wr(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Pe(e)}br(t)}function rr(t){t.g&&(dr(t),t.g.cancel(),t.g=null)}function ir(t){rr(t),t.u&&(u.clearTimeout(t.u),t.u=null),gr(t),t.i.cancel(),t.m&&("number"===typeof t.m&&u.clearTimeout(t.m),t.m=null)}function or(t,e){t.l.push(new yn(t.Za++,e)),3==t.G&&sr(t)}function sr(t){wn(t.i)||t.m||(t.m=!0,Ft(t.Ha,t),t.C=0)}function ar(t,e){return!(xn(t.i)>=t.i.j-(t.m?1:0))&&(t.m?(t.l=e.D.concat(t.l),!0):!(1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya))&&(t.m=fe(y(t.Ha,t,e),vr(t,t.C)),t.C++,!0))}function cr(t,e){var n;n=e?e.m:t.V++;var r=Ge(t.F);Je(r,"SID",t.J),Je(r,"RID",n),Je(r,"AID",t.U),ur(t,r),t.o&&t.s&&Zn(r,t.o,t.s),n=new Ee(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=lr(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),On(t.i,n),Se(n,r,e)}function ur(t,e){t.j&&Ve({},(function(t,n){Je(e,n,t)}))}function lr(t,e,n){n=Math.min(t.l.length,n);var r=t.j?y(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,c=0;c<n;c++){var u=i[c].h,l=i[c].g;if(u-=o,0>u)o=Math.max(0,i[c].h-100),a=!1;else try{Cn(l,s,"req"+u+"_")}catch(h){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function hr(t){t.g||t.u||(t.Y=1,Ft(t.Ga,t),t.A=0)}function fr(t){return!(t.g||t.u||3<=t.A)&&(t.Y++,t.u=fe(y(t.Ga,t),vr(t,t.A)),t.A++,!0)}function dr(t){null!=t.B&&(u.clearTimeout(t.B),t.B=null)}function pr(t){t.g=new Ee(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Ge(t.oa);Je(e,"RID","rpc"),Je(e,"SID",t.J),Je(e,"CI",t.N?"0":"1"),Je(e,"AID",t.U),ur(t,e),Je(e,"TYPE","xmlhttp"),t.o&&t.s&&Zn(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Ze(Ge(e)),n.s=null,n.U=!0,Ce(n,t)}function gr(t){null!=t.v&&(u.clearTimeout(t.v),t.v=null)}function mr(t,e){var n=null;if(t.g==e){gr(t),dr(t),t.g=null;var r=2}else{if(!En(t.i,e))return;n=e.D,Tn(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=se(),Ct(r,new he(r,n,e,i)),sr(t)}else hr(t);else if(i=e.o,3==i||0==i&&0<t.I||!(1==r&&ar(t,e)||2==r&&fr(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:yr(t,5);break;case 4:yr(t,10);break;case 3:yr(t,6);break;default:yr(t,2)}}function vr(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function yr(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=y(t.jb,t);n||(n=new Ke("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||$e(n,"https"),Ze(n)),An(n.toString(),r)}else le(2);t.G=0,t.j&&t.j.va(e),br(t),ir(t)}function br(t){t.G=0,t.I=-1,t.j&&(0==In(t.i).length&&0==t.l.length||(t.i.i.length=0,S(t.l),t.l.length=0),t.j.ua())}function _r(t,e,n){var r=tn(n);if(""!=r.i)e&&Ye(r,e+"."+r.i),Qe(r,r.m);else{var i=u.location;r=en(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&M(t.aa,(function(t,e){Je(r,e,t)})),e=t.D,n=t.sa,e&&n&&Je(r,e,n),Je(r,"VER",t.ma),ur(t,r),r}function wr(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new Un(new Nn({ib:!0})):new Un(t.qa),e.L=t.H,e}function xr(){}function Er(){if(W&&!(10<=Number(rt)))throw Error("Environmental error: no available transport.")}function Or(t,e){St.call(this),this.g=new er(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!C(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!C(e)&&(this.g.D=e,t=this.h,null!==t&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new kr(this)}function Tr(t){_e.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Ir(){we.call(this),this.status=1}function kr(t){this.g=t}s=Un.prototype,s.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ye.g(),this.C=this.u?me(this.u):me(ye),this.g.onreadystatechange=y(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void Hn(this,o)}t=n||"";var i=new Be(this.headers);r&&Ve(r,(function(t,e){i.set(e,t)})),r=I(i.T()),n=u.FormData&&t instanceof u.FormData,!(0<=O(qn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Yn(this),0<this.B&&((this.K=zn(this.g))?(this.g.timeout=this.B,this.g.ontimeout=y(this.pa,this)):this.A=Ht(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Hn(this,o)}},s.pa=function(){"undefined"!=typeof c&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ct(this,"timeout"),this.abort(8))},s.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ct(this,"complete"),Ct(this,"abort"),$n(this))},s.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$n(this,!0)),Un.Z.M.call(this)},s.Fa=function(){this.s||(this.F||this.v||this.l?Gn(this):this.cb())},s.cb=function(){Gn(this)},s.ba=function(){try{return 2<Qn(this)?this.g.status:-1}catch(t){return-1}},s.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},s.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Fn(e)}},s.Da=function(){return this.m},s.La=function(){return"string"===typeof this.j?this.j:String(this.j)},s=er.prototype,s.ma=8,s.G=1,s.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},s.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Ee(this,this.h,t,void 0),n=this.s;if(this.P&&(n?(n=L(n),U(n,this.P)):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(o="__data__"in o.g&&(o=o.g.__data__,"string"===typeof o)?o.length:void 0,void 0===o)break;if(r+=o,4096<r){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=lr(this,e,r),i=Ge(this.F),Je(i,"RID",t),Je(i,"CVER",22),this.D&&Je(i,"X-HTTP-Session-Id",this.D),ur(this,i),this.o&&n&&Zn(i,this.o,n),On(this.i,e),this.Ra&&Je(i,"TYPE","init"),this.ja?(Je(i,"$req",r),Je(i,"SID","null"),e.$=!0,Se(e,i,null)):Se(e,i,r),this.G=2}}else 3==this.G&&(t?cr(this,t):0==this.l.length||wn(this.i)||cr(this))},s.Ga=function(){if(this.u=null,pr(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=fe(y(this.bb,this),t)}},s.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,le(10),rr(this),pr(this))},s.ab=function(){null!=this.v&&(this.v=null,rr(this),fr(this),le(19))},s.jb=function(t){t?(this.h.info("Successfully pinged google.com"),le(2)):(this.h.info("Failed to ping google.com"),le(1))},s=xr.prototype,s.xa=function(){},s.wa=function(){},s.va=function(){},s.ua=function(){},s.Oa=function(){},Er.prototype.g=function(t,e){return new Or(t,e)},_(Or,St),Or.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Ft(y(t.hb,t,e))),le(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=_r(t,null,t.W),sr(t)},Or.prototype.close=function(){nr(this.g)},Or.prototype.u=function(t){if("string"===typeof t){var e={};e.__data__=t,or(this.g,e)}else this.v?(e={},e.__data__=jt(t),or(this.g,e)):or(this.g,t)},Or.prototype.M=function(){this.g.j=null,delete this.j,nr(this.g),delete this.g,Or.Z.M.call(this)},_(Tr,_e),_(Ir,we),_(kr,xr),kr.prototype.xa=function(){Ct(this.g,"a")},kr.prototype.wa=function(t){Ct(this.g,new Tr(t))},kr.prototype.va=function(t){Ct(this.g,new Ir(t))},kr.prototype.ua=function(){Ct(this.g,"b")},Er.prototype.createWebChannel=Er.prototype.g,Or.prototype.send=Or.prototype.u,Or.prototype.open=Or.prototype.m,Or.prototype.close=Or.prototype.close,de.NO_ERROR=0,de.TIMEOUT=8,de.HTTP_ERROR=6,pe.COMPLETE="complete",ve.EventType=be,be.OPEN="a",be.CLOSE="b",be.ERROR="c",be.MESSAGE="d",St.prototype.listen=St.prototype.N,Un.prototype.listenOnce=Un.prototype.O,Un.prototype.getLastError=Un.prototype.La,Un.prototype.getLastErrorCode=Un.prototype.Da,Un.prototype.getStatus=Un.prototype.ba,Un.prototype.getResponseJson=Un.prototype.Qa,Un.prototype.getResponseText=Un.prototype.ga,Un.prototype.send=Un.prototype.ea;var Sr=function(){return new Er},Cr=function(){return se()},Ar=de,jr=pe,Nr=ie,Pr={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Dr=Nn,Rr=ve,Mr=Un}).call(this,n("c8ba"))},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},ca84:function(t,e,n){var r=n("5135"),i=n("fc6a"),o=n("4d64").indexOf,s=n("d012");t.exports=function(t,e){var n,a=i(t),c=0,u=[];for(n in a)!r(s,n)&&r(a,n)&&u.push(n);while(e.length>c)r(a,n=e[c++])&&(~o(u,n)||u.push(n));return u}},cc12:function(t,e,n){var r=n("da84"),i=n("861d"),o=r.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},cc84:function(t,e,n){"use strict";n.r(e),n.d(e,"firebase",(function(){return F}));var r=function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},r.apply(this,arguments)};Object.create;Object.create;var i,o,s=n("a8e9"),a=n("ffa6"),c=n("abfd"),u=(i={},i["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i),l=new s["ErrorFactory"]("app","Firebase",u),h="@firebase/app",f="0.6.30",d="@firebase/analytics",p="@firebase/app-check",g="@firebase/auth",m="@firebase/database",v="@firebase/functions",y="@firebase/installations",b="@firebase/messaging",_="@firebase/performance",w="@firebase/remote-config",x="@firebase/storage",E="@firebase/firestore",O="firebase-wrapper",T="[DEFAULT]",I=(o={},o[h]="fire-core",o[d]="fire-analytics",o[p]="fire-app-check",o[g]="fire-auth",o[m]="fire-rtdb",o[v]="fire-fn",o[y]="fire-iid",o[b]="fire-fcm",o[_]="fire-perf",o[w]="fire-rc",o[x]="fire-gcs",o[E]="fire-fst",o["fire-js"]="fire-js",o[O]="fire-js-all",o),k=new c["Logger"]("@firebase/app"),S=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s["deepCopy"])(t),this.container=new a["ComponentContainer"](e.name),this._addComponent(new a["Component"]("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e=T),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=T),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){k.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();S.prototype.name&&S.prototype.options||S.prototype.delete||console.log("dc");var C="8.10.0";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A(t){var e={},n=new Map,r={__esModule:!0,initializeApp:u,app:o,registerVersion:d,setLogLevel:c["setLogLevel"],onLog:p,apps:null,SDK_VERSION:C,INTERNAL:{registerComponent:f,removeApp:i,components:n,useAsService:g}};function i(t){delete e[t]}function o(t){if(t=t||T,!Object(s["contains"])(e,t))throw l.create("no-app",{appName:t});return e[t]}function u(n,i){if(void 0===i&&(i={}),"object"!==typeof i||null===i){var o=i;i={name:o}}var a=i;void 0===a.name&&(a.name=T);var c=a.name;if("string"!==typeof c||!c)throw l.create("bad-app-name",{appName:String(c)});if(Object(s["contains"])(e,c))throw l.create("duplicate-app",{appName:c});var u=new t(n,a,r);return e[c]=u,u}function h(){return Object.keys(e).map((function(t){return e[t]}))}function f(i){var a=i.name;if(n.has(a))return k.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===i.type?r[a]:null;if(n.set(a,i),"PUBLIC"===i.type){var c=function(t){if(void 0===t&&(t=o()),"function"!==typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==i.serviceProps&&Object(s["deepExtend"])(c,i.serviceProps),r[a]=c,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,a);return n.apply(this,i.multipleInstances?t:[])}}for(var u=0,h=Object.keys(e);u<h.length;u++){var f=h[u];e[f]._addComponent(i)}return"PUBLIC"===i.type?r[a]:null}function d(t,e,n){var r,i=null!==(r=I[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&c.push("and"),s&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void k.warn(c.join(" "))}f(new a["Component"](i+"-version",(function(){return{library:i,version:e}}),"VERSION"))}function p(t,e){if(null!==t&&"function"!==typeof t)throw l.create("invalid-log-argument");Object(c["setUserLogHandler"])(t,e)}function g(t,e){if("serverAuth"===e)return null;var n=e;return n}return r["default"]=r,Object.defineProperty(r,"apps",{get:h}),o["App"]=t,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j(){var t=A(S);function e(e){Object(s["deepExtend"])(t,e)}return t.INTERNAL=r(r({},t.INTERNAL),{createFirebaseNamespace:j,extendNamespace:e,createSubscribe:s["createSubscribe"],ErrorFactory:s["ErrorFactory"],deepExtend:s["deepExtend"]}),t}var N=j(),P=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map((function(t){if(D(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R(t,e){t.INTERNAL.registerComponent(new a["Component"]("platform-logger",(function(t){return new P(t)}),"PRIVATE")),t.registerVersion(h,f,e),t.registerVersion("fire-js","")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(Object(s["isBrowser"])()&&void 0!==self.firebase){k.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var M=self.firebase.SDK_VERSION;M&&M.indexOf("LITE")>=0&&k.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var L=N.initializeApp;N.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s["isNode"])()&&k.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),L.apply(void 0,t)};var F=N;R(F);e["default"]=F},cca6:function(t,e,n){var r=n("23e7"),i=n("60da");r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},cd74:function(t,e,n){},cdf9:function(t,e,n){var r=n("825a"),i=n("861d"),o=n("f069");t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t),s=n.resolve;return s(e),n.promise}},ce4e:function(t,e,n){var r=n("da84");t.exports=function(t,e){try{Object.defineProperty(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},d012:function(t,e){t.exports={}},d039:function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},d066:function(t,e,n){var r=n("da84"),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t]):r[t]&&r[t][e]}},d1e7:function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},d28b:function(t,e,n){var r=n("746f");r("iterator")},d2bb:function(t,e,n){var r=n("825a"),i=n("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,t.call(n,[]),e=n instanceof Array}catch(o){}return function(n,o){return r(n),i(o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},d39b:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("35f6");function i(t){return Object.assign({},Object(r["a"])(),t)}},d3b7:function(t,e,n){var r=n("00ee"),i=n("6eeb"),o=n("b041");r||i(Object.prototype,"toString",o,{unsafe:!0})},d44e:function(t,e,n){var r=n("9bf2").f,i=n("5135"),o=n("b622"),s=o("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,s)&&r(t,s,{configurable:!0,value:e})}},d4c3:function(t,e,n){var r=n("342f"),i=n("da84");t.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==i.Pebble},d784:function(t,e,n){"use strict";n("ac1f");var r=n("6eeb"),i=n("9263"),o=n("d039"),s=n("b622"),a=n("9112"),c=s("species"),u=RegExp.prototype;t.exports=function(t,e,n,l){var h=s(t),f=!o((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),d=f&&!o((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return e=!0,null},n[h](""),!e}));if(!f||!d||n){var p=/./[h],g=e(h,""[t],(function(t,e,n,r,o){var s=e.exec;return s===i||s===u.exec?f&&!o?{done:!0,value:p.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}));r(String.prototype,t,g[0]),r(u,h,g[1])}l&&a(u[h],"sham",!0)}},d81d:function(t,e,n){"use strict";var r=n("23e7"),i=n("b727").map,o=n("1dde"),s=o("map");r({target:"Array",proto:!0,forced:!s},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},d959:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=(t,e)=>{for(const[n,r]of e)t[n]=r;return t}},d998:function(t,e,n){var r=n("342f");t.exports=/MSIE|Trident/.test(r)},d9b5:function(t,e,n){var r=n("d066"),i=n("fdbf");t.exports=i?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return"function"==typeof e&&Object(t)instanceof e}},da84:function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,n("c8ba"))},dbb4:function(t,e,n){var r=n("23e7"),i=n("83ab"),o=n("56ef"),s=n("fc6a"),a=n("06cf"),c=n("8418");r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){var e,n,r=s(t),i=a.f,u=o(r),l={},h=0;while(u.length>h)n=i(r,e=u[h++]),void 0!==n&&c(l,e,n);return l}})},dd40:function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},ddb0:function(t,e,n){var r=n("da84"),i=n("fdbc"),o=n("e260"),s=n("9112"),a=n("b622"),c=a("iterator"),u=a("toStringTag"),l=o.values;for(var h in i){var f=r[h],d=f&&f.prototype;if(d){if(d[c]!==l)try{s(d,c,l)}catch(g){d[c]=l}if(d[u]||s(d,u,h),i[h])for(var p in o)if(d[p]!==o[p])try{s(d,p,o[p])}catch(g){d[p]=o[p]}}}},df75:function(t,e,n){var r=n("ca84"),i=n("7839");t.exports=Object.keys||function(t){return r(t,i)}},df7c:function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t){"string"!==typeof t&&(t+="");var e,n=0,r=-1,i=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!i){n=e+1;break}}else-1===r&&(i=!1,r=e+1);return-1===r?"":t.slice(n,r)}function i(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var s=o>=0?arguments[o]:t.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,r="/"===s.charAt(0))}return e=n(i(e.split("/"),(function(t){return!!t})),!r).join("/"),(r?"/":"")+e||"."},e.normalize=function(t){var r=e.isAbsolute(t),s="/"===o(t,-1);return t=n(i(t.split("/"),(function(t){return!!t})),!r).join("/"),t||r||(t="."),t&&s&&(t+="/"),(r?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(i(t,(function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length;e++)if(""!==t[e])break;for(var n=t.length-1;n>=0;n--)if(""!==t[n])break;return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),o=r(n.split("/")),s=Math.min(i.length,o.length),a=s,c=0;c<s;c++)if(i[c]!==o[c]){a=c;break}var u=[];for(c=a;c<i.length;c++)u.push("..");return u=u.concat(o.slice(a)),u.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!==typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,r=-1,i=!0,o=t.length-1;o>=1;--o)if(e=t.charCodeAt(o),47===e){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":t.slice(0,r)},e.basename=function(t,e){var n=r(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){"string"!==typeof t&&(t+="");for(var e=-1,n=0,r=-1,i=!0,o=0,s=t.length-1;s>=0;--s){var a=t.charCodeAt(s);if(47!==a)-1===r&&(i=!1,r=s+1),46===a?-1===e?e=s:1!==o&&(o=1):-1!==e&&(o=-1);else if(!i){n=s+1;break}}return-1===e||-1===r||0===o||1===o&&e===r-1&&e===n+1?"":t.slice(e,r)};var o="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n("4362"))},e01a:function(t,e,n){"use strict";var r=n("23e7"),i=n("83ab"),o=n("da84"),s=n("5135"),a=n("861d"),c=n("9bf2").f,u=n("e893"),l=o.Symbol;if(i&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var h={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new l(t):void 0===t?l():l(t);return""===t&&(h[e]=!0),e};u(f,l);var d=f.prototype=l.prototype;d.constructor=f;var p=d.toString,g="Symbol(test)"==String(l("test")),m=/^Symbol\((.*)\)[^)]+$/;c(d,"description",{configurable:!0,get:function(){var t=a(this)?this.valueOf():this,e=p.call(t);if(s(h,t))return"";var n=g?e.slice(7,-1):e.replace(m,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:f})}},e163:function(t,e,n){var r=n("5135"),i=n("7b0b"),o=n("f772"),s=n("e177"),a=o("IE_PROTO"),c=Object.prototype;t.exports=s?Object.getPrototypeOf:function(t){return t=i(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},e177:function(t,e,n){var r=n("d039");t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},e260:function(t,e,n){"use strict";var r=n("fc6a"),i=n("44d2"),o=n("3f8c"),s=n("69f3"),a=n("7dd0"),c="Array Iterator",u=s.set,l=s.getterFor(c);t.exports=a(Array,"Array",(function(t,e){u(this,{type:c,target:r(t),index:0,kind:e})}),(function(){var t=l(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},e2cc:function(t,e,n){var r=n("6eeb");t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},e2e9:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("0f88");function i(t){var e=Object(r["a"])(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}},e439:function(t,e,n){var r=n("23e7"),i=n("d039"),o=n("fc6a"),s=n("06cf").f,a=n("83ab"),c=i((function(){s(1)})),u=!a||c;r({target:"Object",stat:!0,forced:u,sham:!a},{getOwnPropertyDescriptor:function(t,e){return s(o(t),e)}})},e43f:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("84c6");function i(t,e,n){return Object(r["a"])(t,Object(r["b"])(e,n))}},e538:function(t,e,n){var r=n("b622");e.f=r},e667:function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}},e6cf:function(t,e,n){"use strict";var r,i,o,s,a=n("23e7"),c=n("c430"),u=n("da84"),l=n("d066"),h=n("fea9"),f=n("6eeb"),d=n("e2cc"),p=n("d2bb"),g=n("d44e"),m=n("2626"),v=n("861d"),y=n("1c0b"),b=n("19aa"),_=n("8925"),w=n("2266"),x=n("1c7e"),E=n("4840"),O=n("2cf4").set,T=n("b575"),I=n("cdf9"),k=n("44de"),S=n("f069"),C=n("e667"),A=n("69f3"),j=n("94ca"),N=n("b622"),P=n("6069"),D=n("605d"),R=n("2d00"),M=N("species"),L="Promise",F=A.get,U=A.set,V=A.getterFor(L),B=h&&h.prototype,q=h,z=B,W=u.TypeError,H=u.document,K=u.process,G=S.f,$=G,Y=!!(H&&H.createEvent&&u.dispatchEvent),Q="function"==typeof PromiseRejectionEvent,X="unhandledrejection",J="rejectionhandled",Z=0,tt=1,et=2,nt=1,rt=2,it=!1,ot=j(L,(function(){var t=_(q),e=t!==String(q);if(!e&&66===R)return!0;if(c&&!z["finally"])return!0;if(R>=51&&/native code/.test(t))return!1;var n=new q((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))},i=n.constructor={};return i[M]=r,it=n.then((function(){}))instanceof r,!it||!e&&P&&!Q})),st=ot||!x((function(t){q.all(t)["catch"]((function(){}))})),at=function(t){var e;return!(!v(t)||"function"!=typeof(e=t.then))&&e},ct=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;T((function(){var r=t.value,i=t.state==tt,o=0;while(n.length>o){var s,a,c,u=n[o++],l=i?u.ok:u.fail,h=u.resolve,f=u.reject,d=u.domain;try{l?(i||(t.rejection===rt&&ft(t),t.rejection=nt),!0===l?s=r:(d&&d.enter(),s=l(r),d&&(d.exit(),c=!0)),s===u.promise?f(W("Promise-chain cycle")):(a=at(s))?a.call(s,h,f):h(s)):f(r)}catch(p){d&&!c&&d.exit(),f(p)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&lt(t)}))}},ut=function(t,e,n){var r,i;Y?(r=H.createEvent("Event"),r.promise=e,r.reason=n,r.initEvent(t,!1,!0),u.dispatchEvent(r)):r={promise:e,reason:n},!Q&&(i=u["on"+t])?i(r):t===X&&k("Unhandled promise rejection",n)},lt=function(t){O.call(u,(function(){var e,n=t.facade,r=t.value,i=ht(t);if(i&&(e=C((function(){D?K.emit("unhandledRejection",r,n):ut(X,n,r)})),t.rejection=D||ht(t)?rt:nt,e.error))throw e.value}))},ht=function(t){return t.rejection!==nt&&!t.parent},ft=function(t){O.call(u,(function(){var e=t.facade;D?K.emit("rejectionHandled",e):ut(J,e,t.value)}))},dt=function(t,e,n){return function(r){t(e,r,n)}},pt=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=et,ct(t,!0))},gt=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw W("Promise can't be resolved itself");var r=at(e);r?T((function(){var n={done:!1};try{r.call(e,dt(gt,n,t),dt(pt,n,t))}catch(i){pt(n,i,t)}})):(t.value=e,t.state=tt,ct(t,!1))}catch(i){pt({done:!1},i,t)}}};if(ot&&(q=function(t){b(this,q,L),y(t),r.call(this);var e=F(this);try{t(dt(gt,e),dt(pt,e))}catch(n){pt(e,n)}},z=q.prototype,r=function(t){U(this,{type:L,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Z,value:void 0})},r.prototype=d(z,{then:function(t,e){var n=V(this),r=G(E(this,q));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=D?K.domain:void 0,n.parent=!0,n.reactions.push(r),n.state!=Z&&ct(n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r,e=F(t);this.promise=t,this.resolve=dt(gt,e),this.reject=dt(pt,e)},S.f=G=function(t){return t===q||t===o?new i(t):$(t)},!c&&"function"==typeof h&&B!==Object.prototype)){s=B.then,it||(f(B,"then",(function(t,e){var n=this;return new q((function(t,e){s.call(n,t,e)})).then(t,e)}),{unsafe:!0}),f(B,"catch",z["catch"],{unsafe:!0}));try{delete B.constructor}catch(mt){}p&&p(B,z)}a({global:!0,wrap:!0,forced:ot},{Promise:q}),g(q,L,!1,!0),m(L),o=l(L),a({target:L,stat:!0,forced:ot},{reject:function(t){var e=G(this);return e.reject.call(void 0,t),e.promise}}),a({target:L,stat:!0,forced:c||ot},{resolve:function(t){return I(c&&this===o?q:this,t)}}),a({target:L,stat:!0,forced:st},{all:function(t){var e=this,n=G(e),r=n.resolve,i=n.reject,o=C((function(){var n=y(e.resolve),o=[],s=0,a=1;w(t,(function(t){var c=s++,u=!1;o.push(void 0),a++,n.call(e,t).then((function(t){u||(u=!0,o[c]=t,--a||r(o))}),i)})),--a||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=G(e),r=n.reject,i=C((function(){var i=y(e.resolve);w(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},e71f:function(t,e,n){"use strict";n("c68e")},e893:function(t,e,n){var r=n("5135"),i=n("56ef"),o=n("06cf"),s=n("9bf2");t.exports=function(t,e){for(var n=i(e),a=s.f,c=o.f,u=0;u<n.length;u++){var l=n[u];r(t,l)||a(t,l,c(e,l))}}},e8b5:function(t,e,n){var r=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==r(t)}},e947:function(t,e,n){"use strict";(function(t,e){var r=n("cc84"),i=n("ffa6"),o=n("a8e9"),s=n("9802"),a=n("abfd"),c="@firebase/database",u="0.11.0",l="";function h(t){l=t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(o["stringify"])(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(o["jsonEval"])(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),d=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(o["contains"])(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),p=function(t){try{if("undefined"!==typeof window&&"undefined"!==typeof window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new f(e)}}catch(n){}return new d},g=p("localStorage"),m=p("sessionStorage"),v=new a["Logger"]("@firebase/database"),y=function(){var t=1;return function(){return t++}}(),b=function(t){var e=Object(o["stringToByteArray"])(t),n=new o["Sha1"];n.update(e);var r=n.digest();return o["base64"].encodeByteArray(r)},_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&"object"===typeof i&&"number"===typeof i.length?n+=_.apply(null,i):n+="object"===typeof i?Object(o["stringify"])(i):i,n+=" "}return n},w=null,x=!0,E=function(t,e){Object(o["assert"])(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(v.logLevel=a["LogLevel"].VERBOSE,w=v.log.bind(v),e&&m.set("logging_enabled",!0)):"function"===typeof t?w=t:(w=null,m.remove("logging_enabled"))},O=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===x&&(x=!1,null===w&&!0===m.get("logging_enabled")&&E(!0)),w){var n=_.apply(null,t);w(n)}},T=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];O.apply(void 0,Object(s["f"])([t],Object(s["e"])(e)))}},I=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+_.apply(void 0,Object(s["f"])([],Object(s["e"])(t)));v.error(n)},k=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+_.apply(void 0,Object(s["f"])([],Object(s["e"])(t)));throw v.error(n),new Error(n)},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+_.apply(void 0,Object(s["f"])([],Object(s["e"])(t)));v.warn(n)},C=function(){"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},A=function(t){return"number"===typeof t&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},j=function(t){if(Object(o["isNodeSdk"])()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}},N="[MIN_NAME]",P="[MAX_NAME]",D=function(t,e){if(t===e)return 0;if(t===N||e===P)return-1;if(e===N||t===P)return 1;var n=G(t),r=G(e);return null!==n?null!==r?n-r===0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},R=function(t,e){return t===e?0:t<e?-1:1},M=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(o["stringify"])(e))},L=function(t){if("object"!==typeof t||null===t)return Object(o["stringify"])(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=Object(o["stringify"])(e[i]),r+=":",r+=L(t[e[i]]);return r+="}",r},F=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var V=function(t){Object(o["assert"])(!A(t),"Invalid JSON number");var e,n,r,i,s,a=11,c=52,u=(1<<a-1)-1;0===t?(n=0,r=0,e=1/t===-1/0?1:0):(e=t<0,t=Math.abs(t),t>=Math.pow(2,1-u)?(i=Math.min(Math.floor(Math.log(t)/Math.LN2),u),n=i+u,r=Math.round(t*Math.pow(2,c-i)-Math.pow(2,c))):(n=0,r=Math.round(t/Math.pow(2,1-u-c))));var l=[];for(s=c;s;s-=1)l.push(r%2?1:0),r=Math.floor(r/2);for(s=a;s;s-=1)l.push(n%2?1:0),n=Math.floor(n/2);l.push(e?1:0),l.reverse();var h=l.join(""),f="";for(s=0;s<64;s+=8){var d=parseInt(h.substr(s,8),2).toString(16);1===d.length&&(d="0"+d),f+=d}return f.toLowerCase()},B=function(){return!("object"!==typeof window||!window["chrome"]||!window["chrome"]["extension"]||/^chrome/.test(window.location.href))},q=function(){return"object"===typeof Windows&&"object"===typeof Windows.UI};function z(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var W=new RegExp("^-?(0*)\\d{1,10}$"),H=-2147483648,K=2147483647,G=function(t){if(W.test(t)){var e=Number(t);if(e>=H&&e<=K)return e}return null},$=function(t){try{t()}catch(e){setTimeout((function(){var t=e.stack||"";throw S("Exception was thrown by user callback.",t),e}),Math.floor(0))}},Y=function(){var t="object"===typeof window&&window["navigator"]&&window["navigator"]["userAgent"]||"";return t.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Q=function(t,e){var n=setTimeout(t,e);return"object"===typeof n&&n["unref"]&&n["unref"](),n},X=function(){function t(t,e){var n=this;this.appName_=t,this.appCheckProvider=e,this.appCheck=null===e||void 0===e?void 0:e.getImmediate({optional:!0}),this.appCheck||null===e||void 0===e||e.get().then((function(t){return n.appCheck=t}))}return t.prototype.getToken=function(t){var e=this;return this.appCheck?this.appCheck.getToken(t):new Promise((function(n,r){setTimeout((function(){e.appCheck?e.getToken(t).then(n,r):n(null)}),0)}))},t.prototype.addTokenChangeListener=function(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then((function(e){return e.addTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){S('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}(),J=function(){function t(t,e,n){var r=this;this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(t){return r.auth_=t}))}return t.prototype.getToken=function(t){var e=this;return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(O("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):new Promise((function(n,r){setTimeout((function(){e.auth_?e.getToken(t).then(n,r):n(null)}),0)}))},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)}))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',S(t)},t}(),Z=function(){function t(t){this.accessToken=t}return t.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(t){t(this.accessToken)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}(),tt="5",et="v",nt="s",rt="r",it="f",ot=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,st="ls",at="p",ct="ac",ut="websocket",lt="long_polling",ht=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=g.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&g.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){var t=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+e},t}();function ft(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function dt(t,e,n){var r;if(Object(o["assert"])("string"===typeof e,"typeof type must == string"),Object(o["assert"])("object"===typeof n,"typeof params must == object"),e===ut)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==lt)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}ft(t)&&(n["ns"]=t.namespace);var i=[];return U(n,(function(t,e){i.push(t+"="+e)})),r+i.join("&")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(o["contains"])(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(o["deepCopy"])(this.counters_)},t}(),gt={},mt={};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t){var e=t.toString();return gt[e]||(gt[e]=new pt),gt[e]}function yt(t,e){var n=t.toString();return mt[n]||(mt[n]=e()),mt[n]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&$((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;while(this.pendingResponses[this.currentResponseNum]){var o=r();if("break"===o)break}},t}(),_t="start",wt="close",xt="pLPCommand",Et="pRTLPCB",Ot="id",Tt="pw",It="ser",kt="cb",St="seg",Ct="ts",At="d",jt="dframe",Nt=1870,Pt=30,Dt=Nt-Pt,Rt=25e3,Mt=3e4,Lt=function(){function t(t,e,n,r,i,o,s){var a=this;this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=T(t),this.stats_=vt(e),this.urlFn=function(t){return a.appCheckToken&&(t[ct]=a.appCheckToken),dt(e,lt,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new bt(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(Mt)),j((function(){if(!n.isClosed_){n.scriptTagHolder=new Ft((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(s["e"])(t,5),i=r[0],o=r[1],a=r[2];if(r[3],r[4],n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===_t)n.id=o,n.password=a;else{if(i!==wt)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(s["e"])(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var t={};t[_t]="t",t[It]=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t[kt]=n.scriptTagHolder.uniqueCallbackIdentifier),t[et]=tt,n.transportSessionId&&(t[nt]=n.transportSessionId),n.lastSessionId&&(t[st]=n.lastSessionId),n.applicationId&&(t[at]=n.applicationId),n.appCheckToken&&(t[ct]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&ot.test(location.hostname)&&(t[rt]=it);var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!Object(o["isNodeSdk"])()&&(!!t.forceAllow_||!t.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!B()&&!q())},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Object(o["stringify"])(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=Object(o["base64Encode"])(e),r=F(n,Dt),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(o["isNodeSdk"])()){this.myDisconnFrame=document.createElement("iframe");var n={};n[jt]="t",n[Ot]=t,n[Tt]=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(o["stringify"])(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Ft=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(o["isNodeSdk"])())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=y(),window[xt+this.uniqueCallbackIdentifier]=e,window[Et+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var s="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)){var a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}var c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(u){O("frame writing exception"),u.stack&&O(u.stack),O(u)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{var e=t.contentWindow.document;e||O("No IE domain setting required")}catch(r){var n=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){this.myID=t,this.myPW=e,this.alive=!0;while(this.newRequest_());},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t[Ot]=this.myID,t[Tt]=this.myPW,t[It]=this.currentSerial;var e=this.urlFn(t),n="",r=0;while(this.pendingSegs.length>0){var i=this.pendingSegs[0];if(!(i.d.length+Pt+n.length<=Nt))break;var o=this.pendingSegs.shift();n=n+"&"+St+r+"="+o.seg+"&"+Ct+r+"="+o.ts+"&"+At+r+"="+o.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(Rt)),o=function(){clearTimeout(i),r()};this.addTag(t,o)},t.prototype.addTag=function(t,e){var n=this;Object(o["isNodeSdk"])()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){O("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},t}(),Ut=16384,Vt=45e3,Bt=null;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */"undefined"!==typeof MozWebSocket?Bt=MozWebSocket:"undefined"!==typeof WebSocket&&(Bt=WebSocket);var qt=function(){function e(t,n,r,i,o,s,a){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=T(this.connId),this.stats_=vt(n),this.connURL=e.connectionURL_(n,s,a,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(t,e,n,r){var i={};return i[et]=tt,!Object(o["isNodeSdk"])()&&"undefined"!==typeof location&&location.hostname&&ot.test(location.hostname)&&(i[rt]=it),e&&(i[nt]=e),n&&(i[st]=n),r&&(i[ct]=r),dt(t,ut,i)},e.prototype.open=function(e,n){var r=this;this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,g.set("previous_websocket_failure",!0);try{if(Object(o["isNodeSdk"])()){var i=this.nodeAdmin?"AdminNode":"Node",s={headers:{"User-Agent":"Firebase/"+tt+"/"+l+"/"+t.platform+"/"+i,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(s.headers["Authorization"]="Bearer "+this.authToken),this.appCheckToken&&(s.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a=Object({NODE_ENV:"production",BASE_URL:"/"}),c=0===this.connURL.indexOf("wss://")?a["HTTPS_PROXY"]||a["https_proxy"]:a["HTTP_PROXY"]||a["http_proxy"];c&&(s["proxy"]={origin:c}),this.mySock=new Bt(this.connURL,[],s)}else{s={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new Bt(this.connURL,[],s)}}catch(h){this.log_("Error instantiating WebSocket.");var u=h.message||h.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(t){r.handleIncomingFrame(t)},this.mySock.onerror=function(t){r.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&r.log_(e),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==Bt&&!e.forceDisallow_},e.previouslyFailed=function(){return g.isInMemoryStorage||!0===g.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){g.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Object(o["jsonEval"])(e);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(t){if(Object(o["assert"])(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},e.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t["data"];if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(t){this.resetKeepAlive();var e=Object(o["stringify"])(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=F(e,Ut);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(Vt))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),zt=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[Lt,qt]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=qt&&qt["isAvailable"](),o=i&&!qt.previouslyFailed();if(e.webSocketOnly&&(i||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[qt];else{var a=this.transports_=[];try{for(var c=Object(s["g"])(t.ALL_TRANSPORTS),u=c.next();!u.done;u=c.next()){var l=u.value;l&&l["isAvailable"]()&&a.push(l)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Wt=6e4,Ht=5e3,Kt=10240,Gt=102400,$t="t",Yt="d",Qt="s",Xt="r",Jt="e",Zt="o",te="a",ee="n",ne="p",re="h",ie=function(){function t(t,e,n,r,i,o,s,a,c,u){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=T("c:"+this.id+":"),this.transportManager_=new zt(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e["responsesRequiredToBeHealthy"]||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e["healthyTimeout"]||0;i>0&&(this.healthyTimeout_=Q((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>Gt?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>Kt?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if($t in t){var e=t[$t];e===te?this.upgradeIfSecondaryHealthy_():e===Xt?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):e===Zt&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=M("t",t),n=M("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ne,d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:te,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ee,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=M("t",t),n=M("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=M($t,t);if(Yt in t){var n=t[Yt];if(e===re)this.onHandshake_(n);else if(e===ee){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else e===Qt?this.onConnectionShutdown_(n):e===Xt?this.onReset_(n):e===Jt?I("Server Error: "+n):e===Zt?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):I("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),tt!==n&&S("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t["responsesRequiredToBeHealthy"]||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Q((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(Wt))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Q((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(Ht))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ne,d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(g.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),oe=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.refreshAppCheckToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),se=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(o["assert"])(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Object(s["f"])([],Object(s["e"])(this.listeners_[t])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){Object(o["assert"])(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),ae=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Object(o["isMobileCordova"])()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Object(s["c"])(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o["assert"])("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(se),ce=32,ue=768,le=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(){return new le("")}function fe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function de(t){return t.pieces_.length-t.pieceNum_}function pe(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new le(t.pieces_,e)}function ge(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function me(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function ve(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function ye(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new le(e,0)}function be(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof le)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new le(n,0)}function _e(t){return t.pieceNum_>=t.pieces_.length}function we(t,e){var n=fe(t),r=fe(e);if(null===n)return e;if(n===r)return we(pe(t),pe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function xe(t,e){for(var n=ve(t,0),r=ve(e,0),i=0;i<n.length&&i<r.length;i++){var o=D(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Ee(t,e){if(de(t)!==de(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Oe(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(de(t)>de(e))return!1;while(n<t.pieces_.length){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var Te=function(){function t(t,e){this.errorPrefix_=e,this.parts_=ve(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(o["stringLength"])(this.parts_[n]);Se(this)}return t}();function Ie(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Object(o["stringLength"])(e),Se(t)}function ke(t){var e=t.parts_.pop();t.byteLength_-=Object(o["stringLength"])(e),t.parts_.length>0&&(t.byteLength_-=1)}function Se(t){if(t.byteLength_>ue)throw new Error(t.errorPrefix_+"has a key path longer than "+ue+" bytes ("+t.byteLength_+").");if(t.parts_.length>ce)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ce+") or object contains a cycle "+Ce(t))}function Ce(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae,je,Ne=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document["hidden"]?(n="visibilitychange",e="hidden"):"undefined"!==typeof document["mozHidden"]?(n="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document["msHidden"]?(n="msvisibilitychange",e="msHidden"):"undefined"!==typeof document["webkitHidden"]&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return Object(s["c"])(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o["assert"])("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(se),Pe=1e3,De=3e5,Re=3e3,Me=3e4,Le=1.3,Fe=3e4,Ue="server_kill",Ve=3,Be=function(t){function e(n,r,i,s,a,c,u,l){var h=t.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=s,h.onServerInfoUpdate_=a,h.authTokenProvider_=c,h.appCheckTokenProvider_=u,h.authOverride_=l,h.id=e.nextPersistentConnectionId_++,h.log_=T("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=Pe,h.maxReconnectDelay_=De,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!Object(o["isNodeSdk"])())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Ne.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&ae.getInstance().on("online",h.onOnline_,h),h}return Object(s["c"])(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(Object(o["stringify"])(i)),Object(o["assert"])(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this;this.initConnection_();var n=new o["Deferred"],r={p:t._path.toString(),q:t._queryObject},i={action:"g",request:r,onComplete:function(t){var i=t["d"];"ok"===t["s"]?(e.onDataUpdate_(r["p"],i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var s=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var t=e.outstandingGets_[s];void 0!==t&&i===t&&(delete e.outstandingGets_[s],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+s+" timed out on connection"),n.reject(new Error("Client is offline.")))}),Re),this.connected_&&this.sendGet_(s),n.promise},e.prototype.listen=function(t,e,n,r){this.initConnection_();var i=t._queryIdentifier,s=t._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),Object(o["assert"])(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(o["assert"])(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(s).set(i,a),this.connected_&&this.sendListen_(a)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,(function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var s={p:i},a="q";t.tag&&(s["q"]=r._queryObject,s["t"]=t.tag),s["h"]=t.hashFn(),this.sendRequest(a,s,(function(s){var a=s["d"],c=s["s"];e.warnOnListenWarnings_(a,r);var u=n.listens.get(i)&&n.listens.get(i).get(o);u===t&&(n.log_("listen response",s),"ok"!==c&&n.removeListen_(i,o),t.onComplete&&t.onComplete(c,a))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"===typeof t&&Object(o["contains"])(t,"w")){var n=Object(o["safeGet"])(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e._queryParams.getIndex().toString()+'"',i=e._path.toString();S("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){var e=t&&40===t.length;(e||Object(o["isAdmin"])(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Me)},e.prototype.refreshAppCheckToken=function(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(o["isValidFormat"])(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r["noauth"]=!0:"object"===typeof this.authOverride_&&(r["authvar"]=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n["s"],i=n["d"]||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.tryAppCheck=function(){var t=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(e){var n=e["s"],r=e["d"]||"error";"ok"===n?t.invalidAppCheckTokenCount_=0:t.onAppCheckRevoked_(n,r)}))},e.prototype.unlisten=function(t,e){var n=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(o["assert"])(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var i=this.removeListen_(n,r);i&&this.connected_&&this.sendUnlisten_(n,r,t._queryObject,e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t},o="n";r&&(i["q"]=n,i["t"]=r),this.sendRequest(o,i)},e.prototype.onDisconnectPut=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t["s"],t["d"])}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){this.initConnection_();var o={p:e,d:n};void 0!==i&&(o["h"]=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r["s"],r["d"])}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){var n=t["s"];if("ok"!==n){var r=t["d"];e.log_("reportStats","Error sending stats: "+r)}}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(o["stringify"])(t));var e=t["r"],n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t["b"]))}else{if("error"in t)throw"A server-side error has occurred: "+t["error"];"a"in t&&this.onDataPush_(t["a"],t["b"])}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e["p"],e["d"],!1,e["t"]):"m"===t?this.onDataUpdate_(e["p"],e["d"],!0,e["t"]):"c"===t?this.onListenRevoked_(e["p"],e["q"]):"ac"===t?this.onAuthRevoked_(e["s"],e["d"]):"apc"===t?this.onAppCheckRevoked_(e["s"],e["d"]):"sd"===t?this.onSecurityDebugPacket_(e):I("Unrecognized action received from server: "+Object(o["stringify"])(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(o["assert"])(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Pe,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Pe,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){var t=(new Date).getTime()-this.lastConnectionEstablishedTime_;t>Fe&&(this.reconnectDelay_=Pe),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Le)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return Object(s["b"])(this,void 0,void 0,(function(){var t,n,r,i,a,c,u,l,h,f,d,p,g,m,v=this;return Object(s["d"])(this,(function(y){switch(y.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,a=this.lastSessionId,c=!1,u=null,l=function(){u?u.close():(c=!0,r())},h=function(t){Object(o["assert"])(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(t)},this.realtime_={close:l,sendRequest:h},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)])];case 2:return d=s["e"].apply(void 0,[y.sent(),2]),p=d[0],g=d[1],c?O("getToken() completed but was canceled"):(O("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=g&&g.token,u=new ie(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,(function(t){S(t+" ("+v.repoInfo_.toString()+")"),v.interrupt(Ue)}),a)),[3,4];case 3:return m=y.sent(),this.log_("Failed to get token: "+m),c||(this.repoInfo_.nodeAdmin&&S(m),l()),[3,4];case 4:return[2]}}))}))},e.prototype.interrupt=function(t){O("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){O("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(o["isEmpty"])(this.interruptReasons_)&&(this.reconnectDelay_=Pe,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return L(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new le(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){O("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Ve&&(this.reconnectDelay_=Me,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(t,e){O("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Ve&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t["msg"].replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=Object(s["g"])(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var c=(n=void 0,Object(s["g"])(a.values())),u=c.next();!u.done;u=c.next()){var l=u.value;this.sendListen_(l)}}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}}catch(p){t={error:p}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);while(this.onDisconnectRequestQueue_.length){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}for(h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(o["isNodeSdk"])()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+l.replace(/\./g,"-")]=1,Object(o["isMobileCordova"])()?t["framework.cordova"]=1:Object(o["isReactNative"])()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=ae.getInstance().currentlyOnline();return Object(o["isEmpty"])(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(oe),qe=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),ze=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new qe(N,t),r=new qe(N,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return qe.MIN},t}(),We=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s["c"])(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return Ae},set:function(t){Ae=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return D(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Object(o["assertionError"])("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return qe.MIN},e.prototype.maxPost=function(){return new qe(P,Ae)},e.prototype.makePost=function(t,e){return Object(o["assert"])("string"===typeof t,"KeyIndex indexValue must always be a string."),new qe(t,Ae)},e.prototype.toString=function(){return".key"},e}(ze),He=new We,Ke=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];var o=1;while(!t.isEmpty())if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_){e=e.left;while(!e.isEmpty())this.nodeStack_.push(e),e=e.right}else{e=e.right;while(!e.isEmpty())this.nodeStack_.push(e),e=e.left}return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Ge=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Ye.EMPTY_NODE,this.right=null!=o?o:Ye.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Ye.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()},t.prototype.remove=function(t,e){var n,r;if(n=this,e(t,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Ye.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),$e=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ge(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Ye=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ge.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ge.BLACK,null,null))},t.prototype.get=function(t){var e,n=this.root_;while(!n.isEmpty()){if(e=this.comparator_(t,n.key),0===e)return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){var e,n=this.root_,r=null;while(!n.isEmpty()){if(e=this.comparator_(t,n.key),0===e){if(n.left.isEmpty())return r?r.key:null;n=n.left;while(!n.right.isEmpty())n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Ke(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Ke(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Ke(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Ke(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new $e,t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Qe(t,e){return D(t.name,e.name)}function Xe(t,e){return D(t,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t){je=t}var Ze,tn,en,nn=function(t){return"number"===typeof t?"number:"+V(t):"string:"+t},rn=function(t){if(t.isLeafNode()){var e=t.val();Object(o["assert"])("string"===typeof e||"number"===typeof e||"object"===typeof e&&Object(o["contains"])(e,".sv"),"Priority must be a string or number.")}else Object(o["assert"])(t===je||t.isEmpty(),"priority of unexpected type.");Object(o["assert"])(t===je||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},on=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(o["assert"])(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),rn(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return Ze},set:function(t){Ze=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return _e(e)?this:".priority"===fe(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=fe(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(o["assert"])(".priority"!==r||1===de(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(pe(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+nn(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?V(this.value_):this.value_,this.lazyHash_=b(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(o["assert"])(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(r);return Object(o["assert"])(i>=0,"Unknown leaf type: "+n),Object(o["assert"])(s>=0,"Unknown leaf type: "+r),i===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();function sn(t){tn=t}function an(t){en=t}var cn,un,ln=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s["c"])(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?D(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return qe.MIN},e.prototype.maxPost=function(){return new qe(P,new on("[PRIORITY-POST]",en))},e.prototype.makePost=function(t,e){var n=tn(t);return new qe(e,new on("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(ze),hn=new ln,fn=Math.log(2),dn=function(){function t(t){var e=function(t){return parseInt(Math.log(t)/fn,10)},n=function(t){return parseInt(Array(t+1).join("1"),2)};this.count=e(t+1),this.current_=this.count-1;var r=n(this.count);this.bits_=t+1&r}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),pn=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,s,a=r-e;if(0===a)return null;if(1===a)return o=t[e],s=n?n(o):o,new Ge(s,o.node,Ge.BLACK,null,null);var c=parseInt(a/2,10)+e,u=i(e,c),l=i(c+1,r);return o=t[c],s=n?n(o):o,new Ge(s,o.node,Ge.BLACK,u,l)},o=function(e){for(var r=null,o=null,s=t.length,a=function(e,r){var o=s-e,a=s;s-=e;var u=i(o+1,a),l=t[o],h=n?n(l):l;c(new Ge(h,l.node,r,null,u))},c=function(t){r?(r.left=t,r=t):(o=t,r=t)},u=0;u<e.count;++u){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(u+1));l?a(h,Ge.BLACK):(a(h,Ge.BLACK),a(h,Ge.RED))}return o},s=new dn(t.length),a=o(s);return new Ye(r||e,a)},gn={},mn=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(o["assert"])(gn&&hn,"ChildrenNode.ts has not been loaded"),cn=cn||new t({".priority":gn},{".priority":hn}),cn},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(o["safeGet"])(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ye?e:null},t.prototype.hasIndex=function(t){return Object(o["contains"])(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(o["assert"])(e!==He,"KeyIndex always exists and isn't meant to be added to the IndexMap.");var r,i=[],a=!1,c=n.getIterator(qe.Wrap),u=c.getNext();while(u)a=a||e.isDefinedOn(u.node),i.push(u),u=c.getNext();r=a?pn(i,e.getCompare()):gn;var l=e.toString(),h=Object(s["a"])({},this.indexSet_);h[l]=e;var f=Object(s["a"])({},this.indexes_);return f[l]=r,new t(f,h)},t.prototype.addToIndexes=function(e,n){var r=this,i=Object(o["map"])(this.indexes_,(function(t,i){var s=Object(o["safeGet"])(r.indexSet_,i);if(Object(o["assert"])(s,"Missing index implementation for "+i),t===gn){if(s.isDefinedOn(e.node)){var a=[],c=n.getIterator(qe.Wrap),u=c.getNext();while(u)u.name!==e.name&&a.push(u),u=c.getNext();return a.push(e),pn(a,s.getCompare())}return gn}var l=n.get(e.name),h=t;return l&&(h=h.remove(new qe(e.name,l))),h.insert(e,e.node)}));return new t(i,this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){var r=Object(o["map"])(this.indexes_,(function(t){if(t===gn)return t;var r=n.get(e.name);return r?t.remove(new qe(e.name,r)):t}));return new t(r,this.indexSet_)},t}(),vn=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&rn(this.priorityNode_),this.children_.isEmpty()&&Object(o["assert"])(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return un||(un=new t(new Ye(Xe),null,mn.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||un},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?un:e},t.prototype.getChild=function(t){var e=fe(t);return null===e?this:this.getImmediateChild(e).getChild(pe(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(o["assert"])(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new qe(e,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?un:this.priorityNode_;return new t(i,a,s)},t.prototype.updateChild=function(t,e){var n=fe(t);if(null===n)return e;Object(o["assert"])(".priority"!==fe(t)||1===de(t),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(pe(t),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(hn,(function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1})),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+nn(this.getPriority().val())+":"),this.forEachChild(hn,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":b(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new qe(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new qe(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new qe(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));var r=this.children_.getIteratorFrom(t.name,qe.Wrap),i=r.peek();while(null!=i&&e.compare(i,t)<0)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));var r=this.children_.getReverseIteratorFrom(t.name,qe.Wrap),i=r.peek();while(null!=i&&e.compare(i,t)>0)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===bn?-1:0},t.prototype.withIndex=function(e){if(e===He||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===He||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){var n=this.getIterator(hn),r=e.getIterator(hn),i=n.getNext(),o=r.getNext();while(i&&o){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===He?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),yn=function(t){function e(){return t.call(this,new Ye(Xe),vn.EMPTY_NODE,mn.Default)||this}return Object(s["c"])(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return vn.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(vn),bn=new yn;Object.defineProperties(qe,{MIN:{value:new qe(N,vn.EMPTY_NODE)},MAX:{value:new qe(P,bn)}}),We.__EMPTY_NODE=vn.EMPTY_NODE,on.__childrenNodeConstructor=vn,Je(bn),an(bn);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _n=!0;function wn(t,e){if(void 0===e&&(e=null),null===t)return vn.EMPTY_NODE;if("object"===typeof t&&".priority"in t&&(e=t[".priority"]),Object(o["assert"])(null===e||"string"===typeof e||"number"===typeof e||"object"===typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"===typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!==typeof t||".sv"in t){var n=t;return new on(n,wn(e))}if(t instanceof Array||!_n){var r=vn.EMPTY_NODE;return U(t,(function(e,n){if(Object(o["contains"])(t,e)&&"."!==e.substring(0,1)){var i=wn(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(e,i))}})),r.updatePriority(wn(e))}var i=[],s=!1,a=t;if(U(a,(function(t,e){if("."!==t.substring(0,1)){var n=wn(e);n.isEmpty()||(s=s||!n.getPriority().isEmpty(),i.push(new qe(t,n)))}})),0===i.length)return vn.EMPTY_NODE;var c=pn(i,Qe,(function(t){return t.name}),Xe);if(s){var u=pn(i,hn.getCompare());return new vn(c,wn(e),new mn({".priority":u},{".priority":hn}))}return new vn(c,wn(e),mn.Default)}sn(wn);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var xn=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(o["assert"])(!_e(e)&&".priority"!==fe(e),"Can't create PathIndex with empty path or .priority key"),n}return Object(s["c"])(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?D(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=wn(t),r=vn.EMPTY_NODE.updateChild(this.indexPath_,n);return new qe(e,r)},e.prototype.maxPost=function(){var t=vn.EMPTY_NODE.updateChild(this.indexPath_,bn);return new qe(P,t)},e.prototype.toString=function(){return ve(this.indexPath_,0).join("/")},e}(ze),En=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s["c"])(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?D(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return qe.MIN},e.prototype.maxPost=function(){return qe.MAX},e.prototype.makePost=function(t,e){var n=wn(t);return new qe(e,n)},e.prototype.toString=function(){return".value"},e}(ze),On=new En,Tn="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",In="-",kn="z",Sn=786,Cn=function(){var t=0,e=[];return function(n){var r,i=n===t;t=n;var s=new Array(8);for(r=7;r>=0;r--)s[r]=Tn.charAt(n%64),n=Math.floor(n/64);Object(o["assert"])(0===n,"Cannot push at time == 0");var a=s.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)a+=Tn.charAt(e[r]);return Object(o["assert"])(20===a.length,"nextPushId: Length should be 20."),a}}(),An=function(t){if(t===""+K)return In;var e=G(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<Sn)return n.push(In),n.join("");var i=n.length-1;while(i>=0&&n[i]===kn)i--;if(-1===i)return P;var o=n[i],s=Tn.charAt(Tn.indexOf(o)+1);return n[i]=s,n.slice(0,i+1).join("")},jn=function(t){if(t===""+H)return N;var e=G(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return n[n.length-1]===In?1===n.length?""+K:(delete n[n.length-1],n.join("")):(n[n.length-1]=Tn.charAt(Tn.indexOf(n[n.length-1])-1),n.join("")+kn.repeat(Sn-n.length))};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Nn(t){return{type:"value",snapshotNode:t}}function Pn(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Dn(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Rn(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Mn(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ln=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,s){Object(o["assert"])(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(Dn(e,a)):Object(o["assert"])(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Pn(e,n)):s.trackChildChange(Rn(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(hn,(function(t,r){e.hasChild(t)||n.trackChildChange(Dn(t,r))})),e.isLeafNode()||e.forEachChild(hn,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(Rn(e,r,i))}else n.trackChildChange(Pn(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?vn.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),Fn=function(){function t(e){this.indexedFilter_=new Ln(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new qe(e,n))||(n=vn.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=vn.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(vn.EMPTY_NODE);var i=this;return e.forEachChild(hn,(function(t,e){i.matches(new qe(t,e))||(r=r.updateImmediateChild(t,vn.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),Un=function(){function t(t){this.rangedFilter_=new Fn(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new qe(e,n))||(n=vn.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=vn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=vn.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);var o=0;while(i.hasNext()&&o<this.limit_){var s=i.getNext(),a=void 0;if(a=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0,!a)break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=e.withIndex(this.index_),r=r.updatePriority(vn.EMPTY_NODE);var c=void 0,u=void 0,l=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),c=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var h=this.index_.getCompare();l=function(t,e){return h(e,t)}}else i=r.getIterator(this.index_),c=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();o=0;var f=!1;while(i.hasNext()){s=i.getNext();!f&&l(c,s)<=0&&(f=!0);a=f&&o<this.limit_&&l(s,u)<=0;a?o++:r=r.updateImmediateChild(s.name,vn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(t,e){return a(e,t)}}else s=this.index_.getCompare();var c=t;Object(o["assert"])(c.numChildren()===this.limit_,"");var u=new qe(e,n),l=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(c.hasChild(e)){var f=c.getImmediateChild(e),d=r.getChildAfterChild(this.index_,l,this.reverse_);while(null!=d&&(d.name===e||c.hasChild(d.name)))d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:s(d,u),g=h&&!n.isEmpty()&&p>=0;if(g)return null!=i&&i.trackChildChange(Rn(e,n,f)),c.updateImmediateChild(e,n);null!=i&&i.trackChildChange(Dn(e,f));var m=c.updateImmediateChild(e,vn.EMPTY_NODE),v=null!=d&&this.rangedFilter_.matches(d);return v?(null!=i&&i.trackChildChange(Pn(d.name,d.node)),m.updateImmediateChild(d.name,d.node)):m}return n.isEmpty()?t:h&&s(l,u)>=0?(null!=i&&(i.trackChildChange(Dn(l.name,l.node)),i.trackChildChange(Pn(e,n))),c.updateImmediateChild(e,n).updateImmediateChild(l.name,vn.EMPTY_NODE)):t},t}(),Vn=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=hn}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return Object(o["assert"])(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(o["assert"])(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:N},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(o["assert"])(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(o["assert"])(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:P},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(o["assert"])(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===hn},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(t){return t.loadsAllData()?new Ln(t.getIndex()):t.hasLimit()?new Un(t):new Fn(t)}function qn(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function zn(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function Wn(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Hn(t,e,n){var r;if(t.index_===He)"string"===typeof e&&(e=An(e)),r=Wn(t,e,n);else{var i=void 0;i=null==n?P:An(n),r=Wn(t,e,i)}return r.startAfterSet_=!0,r}function Kn(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Gn(t,e,n){var r,i;return t.index_===He?("string"===typeof e&&(e=jn(e)),i=Kn(t,e,n)):(r=null==n?N:jn(n),i=Kn(t,e,r)),i.endBeforeSet_=!0,i}function $n(t,e){var n=t.copy();return n.index_=e,n}function Yn(t){var e,n={};return t.isDefault()||(t.index_===hn?e="$priority":t.index_===On?e="$value":t.index_===He?e="$key":(Object(o["assert"])(t.index_ instanceof xn,"Unrecognized index type!"),e=t.index_.toString()),n["orderBy"]=Object(o["stringify"])(e),t.startSet_&&(n["startAt"]=Object(o["stringify"])(t.indexStartValue_),t.startNameSet_&&(n["startAt"]+=","+Object(o["stringify"])(t.indexStartName_))),t.endSet_&&(n["endAt"]=Object(o["stringify"])(t.indexEndValue_),t.endNameSet_&&(n["endAt"]+=","+Object(o["stringify"])(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n["limitToFirst"]=t.limit_:n["limitToLast"]=t.limit_)),n}function Qn(t){var e={};if(t.startSet_&&(e["sp"]=t.indexStartValue_,t.startNameSet_&&(e["sn"]=t.indexStartName_)),t.endSet_&&(e["ep"]=t.indexEndValue_,t.endNameSet_&&(e["en"]=t.indexEndName_)),t.limitSet_){e["l"]=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e["vf"]=n}return t.index_!==hn&&(e["i"]=t.index_.toString()),e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xn=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=T("p:rest:"),o.listens_={},o}return Object(s["c"])(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(o["assert"])(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},e.prototype.listen=function(t,n,r,i){var s=this,a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);var c=e.getListenId_(t,r),u={};this.listens_[c]=u;var l=Yn(t._queryParams);this.restRequest_(a+".json",l,(function(t,e){var n,l=e;(404===t&&(l=null,t=null),null===t&&s.onDataUpdate_(a,l,!1,r),Object(o["safeGet"])(s.listens_,c)===u)&&(n=t?401===t?"permission_denied":"rest_error:"+t:"ok",i(n,null))}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=Yn(t._queryParams),r=t._path.toString(),i=new o["Deferred"];return this.restRequest_(r+".json",n,(function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;return void 0===e&&(e={}),e["format"]="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=Object(s["e"])(i,2),c=a[0],u=a[1];c&&c.accessToken&&(e["auth"]=c.accessToken),u&&u.token&&(e["ac"]=u.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+Object(o["querystring"])(e);r.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var t=null;if(h.status>=200&&h.status<300){try{t=Object(o["jsonEval"])(h.responseText)}catch(e){S("Failed to parse JSON response for "+l+": "+h.responseText)}n(null,t)}else 401!==h.status&&404!==h.status&&S("Got unsuccessful REST response for "+l+" Status: "+h.status),n(h.status);n=null}},h.open("GET",l,!0),h.send()}))},e}(oe),Jn=function(){function t(){this.rootNode_=vn.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Zn(){return{value:null,children:new Map}}function tr(t,e,n){if(_e(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var r=fe(e);t.children.has(r)||t.children.set(r,Zn());var i=t.children.get(r);e=pe(e),tr(i,e,n)}}function er(t,e){if(_e(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(hn,(function(e,n){tr(t,new le(e),n)})),er(t,e)}if(t.children.size>0){var r=fe(e);if(e=pe(e),t.children.has(r)){var i=er(t.children.get(r),e);i&&t.children.delete(r)}return 0===t.children.size}return!0}function nr(t,e,n){null!==t.value?n(e,t.value):rr(t,(function(t,r){var i=new le(e.toString()+"/"+t);nr(r,i,n)}))}function rr(t,e){t.children.forEach((function(t,n){e(n,t)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ir,or=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(s["a"])({},t);return this.last_&&U(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),sr=1e4,ar=3e4,cr=3e5,ur=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new or(t);var n=sr+(ar-sr)*Math.random();Q(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;U(e,(function(e,i){i>0&&Object(o["contains"])(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),Q(this.reportStats_.bind(this),Math.floor(2*Math.random()*cr))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(t,e){t.statsToReport_[e]=!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function fr(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function dr(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){t[t["OVERWRITE"]=0]="OVERWRITE",t[t["MERGE"]=1]="MERGE",t[t["ACK_USER_WRITE"]=2]="ACK_USER_WRITE",t[t["LISTEN_COMPLETE"]=3]="LISTEN_COMPLETE"})(ir||(ir={}));var pr,gr=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=ir.ACK_USER_WRITE,this.source=hr()}return t.prototype.operationForChild=function(e){if(_e(this.path)){if(null!=this.affectedTree.value)return Object(o["assert"])(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new le(e));return new t(he(),n,this.revert)}return Object(o["assert"])(fe(this.path)===e,"operationForChild called for unrelated child."),new t(pe(this.path),this.affectedTree,this.revert)},t}(),mr=function(){function t(t,e){this.source=t,this.path=e,this.type=ir.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return _e(this.path)?new t(this.source,he()):new t(this.source,pe(this.path))},t}(),vr=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=ir.OVERWRITE}return t.prototype.operationForChild=function(e){return _e(this.path)?new t(this.source,he(),this.snap.getImmediateChild(e)):new t(this.source,pe(this.path),this.snap)},t}(),yr=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=ir.MERGE}return t.prototype.operationForChild=function(e){if(_e(this.path)){var n=this.children.subtree(new le(e));return n.isEmpty()?null:n.value?new vr(this.source,he(),n.value):new t(this.source,he(),n)}return Object(o["assert"])(fe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,pe(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),br=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(_e(t))return this.isFullyInitialized()&&!this.filtered_;var e=fe(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),_r=function(){function t(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}return t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(t,e,n,r){var i=[],o=[];return e.forEach((function(e){"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push(Mn(e.childName,e.snapshotNode))})),xr(t,i,"child_removed",e,r,n),xr(t,i,"child_added",e,r,n),xr(t,i,"child_moved",o,r,n),xr(t,i,"child_changed",e,r,n),xr(t,i,"value",e,r,n),i}function xr(t,e,n,r,i,o){var s=r.filter((function(t){return t.type===n}));s.sort((function(e,n){return Or(t,e,n)})),s.forEach((function(n){var r=Er(t,n,o);i.forEach((function(i){i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))}))}))}function Er(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Or(t,e,n){if(null==e.childName||null==n.childName)throw Object(o["assertionError"])("Should only compare child_ events.");var r=new qe(e.childName,e.snapshotNode),i=new qe(n.childName,n.snapshotNode);return t.index_.compare(r,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t,e){return{eventCache:t,serverCache:e}}function Ir(t,e,n,r){return Tr(new br(e,n,r),t.serverCache)}function kr(t,e,n,r){return Tr(t.eventCache,new br(e,n,r))}function Sr(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Cr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ar=function(){return pr||(pr=new Ye(R)),pr},jr=function(){function t(t,e){void 0===e&&(e=Ar()),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return U(e,(function(t,e){n=n.set(new le(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:he(),value:this.value};if(_e(t))return null;var n=fe(t),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(pe(t),e);if(null!=i){var o=be(new le(n),i.path);return{path:o,value:i.value}}return null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(_e(e))return this;var n=fe(e),r=this.children.get(n);return null!==r?r.subtree(pe(e)):new t(null)},t.prototype.set=function(e,n){if(_e(e))return new t(n,this.children);var r=fe(e),i=this.children.get(r)||new t(null),o=i.set(pe(e),n),s=this.children.insert(r,o);return new t(this.value,s)},t.prototype.remove=function(e){if(_e(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=fe(e),r=this.children.get(n);if(r){var i=r.remove(pe(e)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(_e(t))return this.value;var e=fe(t),n=this.children.get(e);return n?n.get(pe(t)):null},t.prototype.setTree=function(e,n){if(_e(e))return n;var r=fe(e),i=this.children.get(r)||new t(null),o=i.setTree(pe(e),n),s=void 0;return s=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new t(this.value,s)},t.prototype.fold=function(t){return this.fold_(he(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(be(t,r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,he(),e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(_e(t))return null;var i=fe(t),o=this.children.get(i);return o?o.findOnPath_(pe(t),be(e,i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,he(),e)},t.prototype.foreachOnPath_=function(e,n,r){if(_e(e))return this;this.value&&r(n,this.value);var i=fe(e),o=this.children.get(i);return o?o.foreachOnPath_(pe(e),be(n,i),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(he(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(be(t,n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t}(),Nr=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new jr(null))},t}();function Pr(t,e,n){if(_e(e))return new Nr(new jr(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=we(i,e);return o=o.updateChild(s,n),new Nr(t.writeTree_.set(i,o))}var a=new jr(n),c=t.writeTree_.setTree(e,a);return new Nr(c)}function Dr(t,e,n){var r=t;return U(n,(function(t,n){r=Pr(r,be(e,t),n)})),r}function Rr(t,e){if(_e(e))return Nr.empty();var n=t.writeTree_.setTree(e,new jr(null));return new Nr(n)}function Mr(t,e){return null!=Lr(t,e)}function Lr(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(we(n.path,e)):null}function Fr(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(hn,(function(t,n){e.push(new qe(t,n))})):t.writeTree_.children.inorderTraversal((function(t,n){null!=n.value&&e.push(new qe(t,n.value))})),e}function Ur(t,e){if(_e(e))return t;var n=Lr(t,e);return new Nr(null!=n?new jr(n):t.writeTree_.subtree(e))}function Vr(t){return t.writeTree_.isEmpty()}function Br(t,e){return qr(he(),t.writeTree_,e)}function qr(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal((function(e,i){".priority"===e?(Object(o["assert"])(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=qr(be(t,e),i,n)})),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(be(t,".priority"),r)),n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(t,e){return fi(e,t)}function Wr(t,e,n,r,i){Object(o["assert"])(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Pr(t.visibleWrites,e,n)),t.lastWriteId=r}function Hr(t,e,n,r){Object(o["assert"])(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Dr(t.visibleWrites,e,n),t.lastWriteId=r}function Kr(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}function Gr(t,e){var n=t.allWrites.findIndex((function(t){return t.writeId===e}));Object(o["assert"])(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);var i=r.visible,s=!1,a=t.allWrites.length-1;while(i&&a>=0){var c=t.allWrites[a];c.visible&&(a>=n&&$r(c,r.path)?i=!1:Oe(r.path,c.path)&&(s=!0)),a--}if(i){if(s)return Yr(t),!0;if(r.snap)t.visibleWrites=Rr(t.visibleWrites,r.path);else{var u=r.children;U(u,(function(e){t.visibleWrites=Rr(t.visibleWrites,be(r.path,e))}))}return!0}return!1}function $r(t,e){if(t.snap)return Oe(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&Oe(be(t.path,n),e))return!0;return!1}function Yr(t){t.visibleWrites=Xr(t.allWrites,Qr,he()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Qr(t){return t.visible}function Xr(t,e,n){for(var r=Nr.empty(),i=0;i<t.length;++i){var s=t[i];if(e(s)){var a=s.path,c=void 0;if(s.snap)Oe(n,a)?(c=we(n,a),r=Pr(r,c,s.snap)):Oe(a,n)&&(c=we(a,n),r=Pr(r,he(),s.snap.getChild(c)));else{if(!s.children)throw Object(o["assertionError"])("WriteRecord should have .snap or .children");if(Oe(n,a))c=we(n,a),r=Dr(r,c,s.children);else if(Oe(a,n))if(c=we(a,n),_e(c))r=Dr(r,he(),s.children);else{var u=Object(o["safeGet"])(s.children,fe(c));if(u){var l=u.getChild(pe(c));r=Pr(r,he(),l)}}}}}return r}function Jr(t,e,n,r,i){if(r||i){var o=Ur(t.visibleWrites,e);if(!i&&Vr(o))return n;if(i||null!=n||Mr(o,he())){var s=function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(Oe(t.path,e)||Oe(e,t.path))},a=Xr(t.allWrites,s,e);l=n||vn.EMPTY_NODE;return Br(a,l)}return null}var c=Lr(t.visibleWrites,e);if(null!=c)return c;var u=Ur(t.visibleWrites,e);if(Vr(u))return n;if(null!=n||Mr(u,he())){var l=n||vn.EMPTY_NODE;return Br(u,l)}return null}function Zr(t,e,n){var r=vn.EMPTY_NODE,i=Lr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(hn,(function(t,e){r=r.updateImmediateChild(t,e)})),r;if(n){var o=Ur(t.visibleWrites,e);return n.forEachChild(hn,(function(t,e){var n=Br(Ur(o,new le(t)),e);r=r.updateImmediateChild(t,n)})),Fr(o).forEach((function(t){r=r.updateImmediateChild(t.name,t.node)})),r}var s=Ur(t.visibleWrites,e);return Fr(s).forEach((function(t){r=r.updateImmediateChild(t.name,t.node)})),r}function ti(t,e,n,r,i){Object(o["assert"])(r||i,"Either existingEventSnap or existingServerSnap must exist");var s=be(e,n);if(Mr(t.visibleWrites,s))return null;var a=Ur(t.visibleWrites,s);return Vr(a)?i.getChild(n):Br(a,i.getChild(n))}function ei(t,e,n,r){var i=be(e,n),o=Lr(t.visibleWrites,i);if(null!=o)return o;if(r.isCompleteForChild(n)){var s=Ur(t.visibleWrites,i);return Br(s,r.getNode().getImmediateChild(n))}return null}function ni(t,e){return Lr(t.visibleWrites,e)}function ri(t,e,n,r,i,o,s){var a,c=Ur(t.visibleWrites,e),u=Lr(c,he());if(null!=u)a=u;else{if(null==n)return[];a=Br(c,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];var l=[],h=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),d=f.getNext();while(d&&l.length<i)0!==h(d,r)&&l.push(d),d=f.getNext();return l}function ii(){return{visibleWrites:Nr.empty(),allWrites:[],lastWriteId:-1}}function oi(t,e,n,r){return Jr(t.writeTree,t.treePath,e,n,r)}function si(t,e){return Zr(t.writeTree,t.treePath,e)}function ai(t,e,n,r){return ti(t.writeTree,t.treePath,e,n,r)}function ci(t,e){return ni(t.writeTree,be(t.treePath,e))}function ui(t,e,n,r,i,o){return ri(t.writeTree,t.treePath,e,n,r,i,o)}function li(t,e,n){return ei(t.writeTree,t.treePath,e,n)}function hi(t,e){return fi(be(t.treePath,e),t.writeTree)}function fi(t,e){return{treePath:t,writeTree:e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var di=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(o["assert"])("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),Object(o["assert"])(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===e&&"child_removed"===i)this.changeMap.set(n,Rn(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===i)this.changeMap.set(n,Dn(n,r.oldSnap));else if("child_changed"===e&&"child_added"===i)this.changeMap.set(n,Pn(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==i)throw Object(o["assertionError"])("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,Rn(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),pi=function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}(),gi=new pi,mi=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new br(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return li(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Cr(this.viewCache_),i=ui(this.writes_,r,e,1,n,t);return 0===i.length?null:i[0]},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function vi(t){return{filter:t}}function yi(t,e){Object(o["assert"])(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Object(o["assert"])(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function bi(t,e,n,r,i){var s,a,c=new di;if(n.type===ir.OVERWRITE){var u=n;u.source.fromUser?s=Ei(t,e,u.path,u.snap,r,i,c):(Object(o["assert"])(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!_e(u.path),s=xi(t,e,u.path,u.snap,r,i,a,c))}else if(n.type===ir.MERGE){var l=n;l.source.fromUser?s=Ti(t,e,l.path,l.children,r,i,c):(Object(o["assert"])(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=ki(t,e,l.path,l.children,r,i,a,c))}else if(n.type===ir.ACK_USER_WRITE){var h=n;s=h.revert?Ai(t,e,h.path,r,i,c):Si(t,e,h.path,h.affectedTree,r,i,c)}else{if(n.type!==ir.LISTEN_COMPLETE)throw Object(o["assertionError"])("Unknown operation type: "+n.type);s=Ci(t,e,n.path,r,c)}var f=c.getChanges();return _i(e,s,f),{viewCache:s,changes:f}}function _i(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Sr(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Nn(Sr(e)))}}function wi(t,e,n,r,i,s){var a=e.eventCache;if(null!=ci(r,n))return e;var c=void 0,u=void 0;if(_e(n))if(Object(o["assert"])(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var l=Cr(e),h=l instanceof vn?l:vn.EMPTY_NODE,f=si(r,h);c=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{var d=oi(r,Cr(e));c=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{var p=fe(n);if(".priority"===p){Object(o["assert"])(1===de(n),"Can't have a priority with additional path components");var g=a.getNode();u=e.serverCache.getNode();var m=ai(r,n,g,u);c=null!=m?t.filter.updatePriority(g,m):a.getNode()}else{var v=pe(n),y=void 0;if(a.isCompleteForChild(p)){u=e.serverCache.getNode();var b=ai(r,n,a.getNode(),u);y=null!=b?a.getNode().getImmediateChild(p).updateChild(v,b):a.getNode().getImmediateChild(p)}else y=li(r,p,e.serverCache);c=null!=y?t.filter.updateChild(a.getNode(),p,y,v,i,s):a.getNode()}}return Ir(e,c,a.isFullyInitialized()||_e(n),t.filter.filtersNodes())}function xi(t,e,n,r,i,o,s,a){var c,u=e.serverCache,l=s?t.filter:t.filter.getIndexedFilter();if(_e(n))c=l.updateFullNode(u.getNode(),r,null);else if(l.filtersNodes()&&!u.isFiltered()){var h=u.getNode().updateChild(n,r);c=l.updateFullNode(u.getNode(),h,null)}else{var f=fe(n);if(!u.isCompleteForPath(n)&&de(n)>1)return e;var d=pe(n),p=u.getNode().getImmediateChild(f),g=p.updateChild(d,r);c=".priority"===f?l.updatePriority(u.getNode(),g):l.updateChild(u.getNode(),f,g,d,gi,null)}var m=kr(e,c,u.isFullyInitialized()||_e(n),l.filtersNodes()),v=new mi(i,m,o);return wi(t,m,n,i,v,a)}function Ei(t,e,n,r,i,o,s){var a,c,u=e.eventCache,l=new mi(i,e,o);if(_e(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,s),a=Ir(e,c,!0,t.filter.filtersNodes());else{var h=fe(n);if(".priority"===h)c=t.filter.updatePriority(e.eventCache.getNode(),r),a=Ir(e,c,u.isFullyInitialized(),u.isFiltered());else{var f=pe(n),d=u.getNode().getImmediateChild(h),p=void 0;if(_e(f))p=r;else{var g=l.getCompleteChild(h);p=null!=g?".priority"===ge(f)&&g.getChild(ye(f)).isEmpty()?g:g.updateChild(f,r):vn.EMPTY_NODE}if(d.equals(p))a=e;else{var m=t.filter.updateChild(u.getNode(),h,p,f,l,s);a=Ir(e,m,u.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function Oi(t,e){return t.eventCache.isCompleteForChild(e)}function Ti(t,e,n,r,i,o,s){var a=e;return r.foreach((function(r,c){var u=be(n,r);Oi(e,fe(u))&&(a=Ei(t,a,u,c,i,o,s))})),r.foreach((function(r,c){var u=be(n,r);Oi(e,fe(u))||(a=Ei(t,a,u,c,i,o,s))})),a}function Ii(t,e,n){return n.foreach((function(t,n){e=e.updateChild(t,n)})),e}function ki(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var c,u=e;c=_e(n)?r:new jr(null).setTree(n,r);var l=e.serverCache.getNode();return c.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var c=e.serverCache.getNode().getImmediateChild(n),h=Ii(t,c,r);u=xi(t,u,new le(n),h,i,o,s,a)}})),c.children.inorderTraversal((function(n,r){var c=!e.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!c){var h=e.serverCache.getNode().getImmediateChild(n),f=Ii(t,h,r);u=xi(t,u,new le(n),f,i,o,s,a)}})),u}function Si(t,e,n,r,i,o,s){if(null!=ci(i,n))return e;var a=e.serverCache.isFiltered(),c=e.serverCache;if(null!=r.value){if(_e(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return xi(t,e,n,c.getNode().getChild(n),i,o,a,s);if(_e(n)){var u=new jr(null);return c.getNode().forEachChild(He,(function(t,e){u=u.set(new le(t),e)})),ki(t,e,n,u,i,o,a,s)}return e}var l=new jr(null);return r.foreach((function(t,e){var r=be(n,t);c.isCompleteForPath(r)&&(l=l.set(t,c.getNode().getChild(r)))})),ki(t,e,n,l,i,o,a,s)}function Ci(t,e,n,r,i){var o=e.serverCache,s=kr(e,o.getNode(),o.isFullyInitialized()||_e(n),o.isFiltered());return wi(t,s,n,r,gi,i)}function Ai(t,e,n,r,i,s){var a;if(null!=ci(r,n))return e;var c=new mi(r,e,i),u=e.eventCache.getNode(),l=void 0;if(_e(n)||".priority"===fe(n)){var h=void 0;if(e.serverCache.isFullyInitialized())h=oi(r,Cr(e));else{var f=e.serverCache.getNode();Object(o["assert"])(f instanceof vn,"serverChildren would be complete if leaf node"),h=si(r,f)}h=h,l=t.filter.updateFullNode(u,h,s)}else{var d=fe(n),p=li(r,d,e.serverCache);null==p&&e.serverCache.isCompleteForChild(d)&&(p=u.getImmediateChild(d)),l=null!=p?t.filter.updateChild(u,d,p,pe(n),c,s):e.eventCache.getNode().hasChild(d)?t.filter.updateChild(u,d,vn.EMPTY_NODE,pe(n),c,s):u,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=oi(r,Cr(e)),a.isLeafNode()&&(l=t.filter.updateFullNode(l,a,s)))}return a=e.serverCache.isFullyInitialized()||null!=ci(r,he()),Ir(e,l,a,t.filter.filtersNodes())}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ji,Ni=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_._queryParams,r=new Ln(n.getIndex()),i=Bn(n);this.processor_=vi(i);var o=e.serverCache,s=e.eventCache,a=r.updateFullNode(vn.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(vn.EMPTY_NODE,s.getNode(),null),u=new br(a,o.isFullyInitialized(),r.filtersNodes()),l=new br(c,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=Tr(l,u),this.eventGenerator_=new _r(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function Pi(t){return t.viewCache_.serverCache.getNode()}function Di(t){return Sr(t.viewCache_)}function Ri(t,e){var n=Cr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!_e(e)&&!n.getImmediateChild(fe(e)).isEmpty())?n.getChild(e):null}function Mi(t){return 0===t.eventRegistrations_.length}function Li(t,e){t.eventRegistrations_.push(e)}function Fi(t,e,n){var r=[];if(n){Object(o["assert"])(null==e,"A cancel should cancel all event registrations.");var i=t.query._path;t.eventRegistrations_.forEach((function(t){var e=t.createCancelEvent(n,i);e&&r.push(e)}))}if(e){for(var s=[],a=0;a<t.eventRegistrations_.length;++a){var c=t.eventRegistrations_[a];if(c.matches(e)){if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(a+1));break}}else s.push(c)}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function Ui(t,e,n,r){e.type===ir.MERGE&&null!==e.source.queryId&&(Object(o["assert"])(Cr(t.viewCache_),"We should always have a full cache before handling merges"),Object(o["assert"])(Sr(t.viewCache_),"Missing event cache, even though we have a server cache"));var i=t.viewCache_,s=bi(t.processor_,i,e,n,r);return yi(t.processor_,s.viewCache),Object(o["assert"])(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Bi(t,s.changes,s.viewCache.eventCache.getNode(),null)}function Vi(t,e){var n=t.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(hn,(function(t,e){r.push(Pn(t,e))}))}return n.isFullyInitialized()&&r.push(Nn(n.getNode())),Bi(t,r,n.getNode(),e)}function Bi(t,e,n,r){var i=r?[r]:t.eventRegistrations_;return wr(t.eventGenerator_,e,n,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qi,zi=function(){function t(){this.views=new Map}return t}();function Wi(t){Object(o["assert"])(!ji,"__referenceConstructor has already been defined"),ji=t}function Hi(){return Object(o["assert"])(ji,"Reference.ts has not been loaded"),ji}function Ki(t){return 0===t.views.size}function Gi(t,e,n,r){var i,a,c=e.source.queryId;if(null!==c){var u=t.views.get(c);return Object(o["assert"])(null!=u,"SyncTree gave us an op for an invalid query."),Ui(u,e,n,r)}var l=[];try{for(var h=Object(s["g"])(t.views.values()),f=h.next();!f.done;f=h.next()){u=f.value;l=l.concat(Ui(u,e,n,r))}}catch(d){i={error:d}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}return l}function $i(t,e,n,r,i){var o=e._queryIdentifier,s=t.views.get(o);if(!s){var a=oi(n,i?r:null),c=!1;a?c=!0:r instanceof vn?(a=si(n,r),c=!1):(a=vn.EMPTY_NODE,c=!1);var u=Tr(new br(a,c,!1),new br(r,i,!1));return new Ni(e,u)}return s}function Yi(t,e,n,r,i,o){var s=$i(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),Li(s,n),Vi(s,n)}function Qi(t,e,n,r){var i,o,a=e._queryIdentifier,c=[],u=[],l=eo(t);if("default"===a)try{for(var h=Object(s["g"])(t.views.entries()),f=h.next();!f.done;f=h.next()){var d=Object(s["e"])(f.value,2),p=d[0],g=d[1];u=u.concat(Fi(g,n,r)),Mi(g)&&(t.views.delete(p),g.query._queryParams.loadsAllData()||c.push(g.query))}}catch(m){i={error:m}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}else{g=t.views.get(a);g&&(u=u.concat(Fi(g,n,r)),Mi(g)&&(t.views.delete(a),g.query._queryParams.loadsAllData()||c.push(g.query)))}return l&&!eo(t)&&c.push(new(Hi())(e._repo,e._path)),{removed:c,events:u}}function Xi(t){var e,n,r=[];try{for(var i=Object(s["g"])(t.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Ji(t,e){var n,r,i=null;try{for(var o=Object(s["g"])(t.views.values()),a=o.next();!a.done;a=o.next()){var c=a.value;i=i||Ri(c,e)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function Zi(t,e){var n=e._queryParams;if(n.loadsAllData())return no(t);var r=e._queryIdentifier;return t.views.get(r)}function to(t,e){return null!=Zi(t,e)}function eo(t){return null!=no(t)}function no(t){var e,n;try{for(var r=Object(s["g"])(t.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(t){Object(o["assert"])(!qi,"__referenceConstructor has already been defined"),qi=t}function io(){return Object(o["assert"])(qi,"Reference.ts has not been loaded"),qi}var oo=1,so=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=new jr(null),this.pendingWriteTree_=ii(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t}();function ao(t,e,n,r,i){return Wr(t.pendingWriteTree_,e,n,r,i),i?wo(t,new vr(hr(),e,n)):[]}function co(t,e,n,r){Hr(t.pendingWriteTree_,e,n,r);var i=jr.fromObject(n);return wo(t,new yr(hr(),e,i))}function uo(t,e,n){void 0===n&&(n=!1);var r=Kr(t.pendingWriteTree_,e),i=Gr(t.pendingWriteTree_,e);if(i){var o=new jr(null);return null!=r.snap?o=o.set(he(),!0):U(r.children,(function(t){o=o.set(new le(t),!0)})),wo(t,new gr(r.path,o,n))}return[]}function lo(t,e,n){return wo(t,new vr(fr(),e,n))}function ho(t,e,n){var r=jr.fromObject(n);return wo(t,new yr(fr(),e,r))}function fo(t,e){return wo(t,new mr(fr(),e))}function po(t,e,n){var r=ko(t,n);if(r){var i=So(r),o=i.path,s=i.queryId,a=we(o,e),c=new mr(dr(s),a);return Co(t,o,c)}return[]}function go(t,e,n,r){var i=e._path,o=t.syncPointTree_.get(i),s=[];if(o&&("default"===e._queryIdentifier||to(o,e))){var a=Qi(o,e,n,r);Ki(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));var c=a.removed;s=a.events;var u=-1!==c.findIndex((function(t){return t._queryParams.loadsAllData()})),l=t.syncPointTree_.findOnPath(i,(function(t,e){return eo(e)}));if(u&&!l){var h=t.syncPointTree_.subtree(i);if(!h.isEmpty())for(var f=Ao(h),d=0;d<f.length;++d){var p=f[d],g=p.query,m=Oo(t,p);t.listenProvider_.startListening(jo(g),To(t,g),m.hashFn,m.onComplete)}}if(!l&&c.length>0&&!r)if(u){var v=null;t.listenProvider_.stopListening(jo(e),v)}else c.forEach((function(e){var n=t.queryToTagMap.get(Io(e));t.listenProvider_.stopListening(jo(e),n)}));No(t,c)}return s}function mo(t,e,n,r){var i=ko(t,r);if(null!=i){var o=So(i),s=o.path,a=o.queryId,c=we(s,e),u=new vr(dr(a),c,n);return Co(t,s,u)}return[]}function vo(t,e,n,r){var i=ko(t,r);if(i){var o=So(i),s=o.path,a=o.queryId,c=we(s,e),u=jr.fromObject(n),l=new yr(dr(a),c,u);return Co(t,s,l)}return[]}function yo(t,e,n){var r=e._path,i=null,s=!1;t.syncPointTree_.foreachOnPath(r,(function(t,e){var n=we(t,r);i=i||Ji(e,n),s=s||eo(e)}));var a,c=t.syncPointTree_.get(r);if(c?(s=s||eo(c),i=i||Ji(c,he())):(c=new zi,t.syncPointTree_=t.syncPointTree_.set(r,c)),null!=i)a=!0;else{a=!1,i=vn.EMPTY_NODE;var u=t.syncPointTree_.subtree(r);u.foreachChild((function(t,e){var n=Ji(e,he());n&&(i=i.updateImmediateChild(t,n))}))}var l=to(c,e);if(!l&&!e._queryParams.loadsAllData()){var h=Io(e);Object(o["assert"])(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");var f=Po();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}var d=zr(t.pendingWriteTree_,r),p=Yi(c,e,n,d,i,a);if(!l&&!s){var g=Zi(c,e);p=p.concat(Do(t,e,g))}return p}function bo(t,e,n){var r=!0,i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(function(t,n){var r=we(t,e),i=Ji(n,r);if(i)return i}));return Jr(i,e,o,n,r)}function _o(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(function(t,e){var i=we(t,n);r=r||Ji(e,i)}));var i=t.syncPointTree_.get(n);i?r=r||Ji(i,he()):(i=new zi,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=null!=r,s=o?new br(r,!0,!1):null,a=zr(t.pendingWriteTree_,e._path),c=$i(i,e,a,o?s.getNode():vn.EMPTY_NODE,o);return Di(c)}function wo(t,e){return xo(e,t.syncPointTree_,null,zr(t.pendingWriteTree_,he()))}function xo(t,e,n,r){if(_e(t.path))return Eo(t,e,n,r);var i=e.get(he());null==n&&null!=i&&(n=Ji(i,he()));var o=[],s=fe(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){var u=n?n.getImmediateChild(s):null,l=hi(r,s);o=o.concat(xo(a,c,u,l))}return i&&(o=o.concat(Gi(i,t,r,n))),o}function Eo(t,e,n,r){var i=e.get(he());null==n&&null!=i&&(n=Ji(i,he()));var o=[];return e.children.inorderTraversal((function(e,i){var s=n?n.getImmediateChild(e):null,a=hi(r,e),c=t.operationForChild(e);c&&(o=o.concat(Eo(c,i,s,a)))})),i&&(o=o.concat(Gi(i,t,r,n))),o}function Oo(t,e){var n=e.query,r=To(t,n);return{hashFn:function(){var t=Pi(e)||vn.EMPTY_NODE;return t.hash()},onComplete:function(e){if("ok"===e)return r?po(t,n._path,r):fo(t,n._path);var i=z(e,n);return go(t,n,null,i)}}}function To(t,e){var n=Io(e);return t.queryToTagMap.get(n)}function Io(t){return t._path.toString()+"$"+t._queryIdentifier}function ko(t,e){return t.tagToQueryMap.get(e)}function So(t){var e=t.indexOf("$");return Object(o["assert"])(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new le(t.substr(0,e))}}function Co(t,e,n){var r=t.syncPointTree_.get(e);Object(o["assert"])(r,"Missing sync point for query tag that we're tracking");var i=zr(t.pendingWriteTree_,e);return Gi(r,n,i,null)}function Ao(t){return t.fold((function(t,e,n){if(e&&eo(e)){var r=no(e);return[r]}var i=[];return e&&(i=Xi(e)),U(n,(function(t,e){i=i.concat(e)})),i}))}function jo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(io())(t._repo,t._path):t}function No(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=Io(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function Po(){return oo++}function Do(t,e,n){var r=e._path,i=To(t,e),s=Oo(t,n),a=t.listenProvider_.startListening(jo(e),i,s.hashFn,s.onComplete),c=t.syncPointTree_.subtree(r);if(i)Object(o["assert"])(!eo(c.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=c.fold((function(t,e,n){if(!_e(t)&&e&&eo(e))return[no(e).query];var r=[];return e&&(r=r.concat(Xi(e).map((function(t){return t.query})))),U(n,(function(t,e){r=r.concat(e)})),r})),l=0;l<u.length;++l){var h=u[l];t.listenProvider_.stopListening(jo(h),To(t,h))}return a}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ro=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){var n=this.node_.getImmediateChild(e);return new t(n)},t.prototype.node=function(){return this.node_},t}(),Mo=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=be(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return bo(this.syncTree_,this.path_)},t}(),Lo=function(t){return t=t||{},t["timestamp"]=t["timestamp"]||(new Date).getTime(),t},Fo=function(t,e,n){return t&&"object"===typeof t?(Object(o["assert"])(".sv"in t,"Unexpected leaf node or priority contents"),"string"===typeof t[".sv"]?Uo(t[".sv"],e,n):"object"===typeof t[".sv"]?Vo(t[".sv"],e):void Object(o["assert"])(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Uo=function(t,e,n){switch(t){case"timestamp":return n["timestamp"];default:Object(o["assert"])(!1,"Unexpected server value: "+t)}},Vo=function(t,e,n){t.hasOwnProperty("increment")||Object(o["assert"])(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t["increment"];"number"!==typeof r&&Object(o["assert"])(!1,"Unexpected increment value: "+r);var i=e.node();if(Object(o["assert"])(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i,a=s.getValue();return"number"!==typeof a?r:a+r},Bo=function(t,e,n,r){return zo(e,new Mo(n,t),r)},qo=function(t,e,n){return zo(t,new Ro(e),n)};function zo(t,e,n){var r,i=t.getPriority().val(),o=Fo(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var s=t,a=Fo(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new on(a,wn(o)):t}var c=t;return r=c,o!==c.getPriority().val()&&(r=r.updatePriority(new on(o))),c.forEachChild(hn,(function(t,i){var o=zo(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wo=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n}return t}();function Ho(t,e){var n=e instanceof le?e:new le(e),r=t,i=fe(n);while(null!==i){var s=Object(o["safeGet"])(r.node.children,i)||{children:{},childCount:0};r=new Wo(i,r,s),n=pe(n),i=fe(n)}return r}function Ko(t){return t.node.value}function Go(t,e){t.node.value=e,ts(t)}function $o(t){return t.node.childCount>0}function Yo(t){return void 0===Ko(t)&&!$o(t)}function Qo(t,e){U(t.node.children,(function(n,r){e(new Wo(n,t,r))}))}function Xo(t,e,n,r){n&&!r&&e(t),Qo(t,(function(t){Xo(t,e,!0,r)})),n&&r&&e(t)}function Jo(t,e,n){var r=n?t:t.parent;while(null!==r){if(e(r))return!0;r=r.parent}return!1}function Zo(t){return new le(null===t.parent?t.name:Zo(t.parent)+"/"+t.name)}function ts(t){null!==t.parent&&es(t.parent,t.name,t)}function es(t,e,n){var r=Yo(n),i=Object(o["contains"])(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,ts(t)):r||i||(t.node.children[e]=n.node,t.node.childCount++,ts(t))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ns=/[\[\].#$\/\u0000-\u001F\u007F]/,rs=/[\[\].#$\u0000-\u001F\u007F]/,is=10485760,os=function(t){return"string"===typeof t&&0!==t.length&&!ns.test(t)},ss=function(t){return"string"===typeof t&&0!==t.length&&!rs.test(t)},as=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ss(t)},cs=function(t){return null===t||"string"===typeof t||"number"===typeof t&&!A(t)||t&&"object"===typeof t&&Object(o["contains"])(t,".sv")},us=function(t,e,n,r){r&&void 0===e||ls(Object(o["errorPrefix"])(t,"value"),e,n)},ls=function(t,e,n){var r=n instanceof le?new Te(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Ce(r));if("function"===typeof e)throw new Error(t+"contains a function "+Ce(r)+" with contents = "+e.toString());if(A(e))throw new Error(t+"contains "+e.toString()+" "+Ce(r));if("string"===typeof e&&e.length>is/3&&Object(o["stringLength"])(e)>is)throw new Error(t+"contains a string greater than "+is+" utf8 bytes "+Ce(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"===typeof e){var i=!1,s=!1;if(U(e,(function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(s=!0,!os(e)))throw new Error(t+" contains an invalid key ("+e+") "+Ce(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');Ie(r,e),ls(t,n,r),ke(r)})),i&&s)throw new Error(t+' contains ".value" child '+Ce(r)+" in addition to actual children.")}},hs=function(t,e){var n,r;for(n=0;n<e.length;n++){r=e[n];for(var i=ve(r),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!os(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(xe);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&Oe(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},fs=function(t,e,n,r){if(!r||void 0!==e){var i=Object(o["errorPrefix"])(t,"values");if(!e||"object"!==typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");var s=[];U(e,(function(t,e){var r=new le(t);if(ls(i,e,be(n,r)),".priority"===ge(r)&&!cs(e))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(r)})),hs(i,s)}},ds=function(t,e,n){if(!n||void 0!==e){if(A(e))throw new Error(Object(o["errorPrefix"])(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!cs(e))throw new Error(Object(o["errorPrefix"])(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ps=function(t,e,n){if(!n||void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(o["errorPrefix"])(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},gs=function(t,e,n,r){if((!r||void 0!==n)&&!os(n))throw new Error(Object(o["errorPrefix"])(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ms=function(t,e,n,r){if((!r||void 0!==n)&&!ss(n))throw new Error(Object(o["errorPrefix"])(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},vs=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ms(t,e,n,r)},ys=function(t,e){if(".info"===fe(e))throw new Error(t+" failed = Can't modify data under /.info/")},bs=function(t,e){var n=e.path.toString();if("string"!==typeof e.repoInfo.host||0===e.repoInfo.host.length||!os(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!as(n))throw new Error(Object(o["errorPrefix"])(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},_s=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(Object(o["errorPrefix"])(t,e)+"must be a boolean.")},ws=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t}();function xs(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();null===n||Ee(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Es(t,e,n){xs(t,n),Ts(t,(function(t){return Ee(t,e)}))}function Os(t,e,n){xs(t,n),Ts(t,(function(t){return Oe(t,e)||Oe(e,t)}))}function Ts(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];if(i){var o=i.path;e(o)?(Is(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Is(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var r=n.getEventRunner();w&&O("event: "+n.toString()),$(r)}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ks="repo_interrupt",Ss=25,Cs=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ws,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zn(),this.transactionQueueTree_=new Wo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function As(t,e,n){if(t.stats_=vt(t.repoInfo_),t.forceRestClient_||Y())t.server_=new Xn(t.repoInfo_,(function(e,n,r,i){Ps(t,e,n,r,i)}),t.authTokenProvider_,t.appCheckProvider_),setTimeout((function(){return Rs(t,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(o["stringify"])(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Be(t.repoInfo_,e,(function(e,n,r,i){Ps(t,e,n,r,i)}),(function(e){Rs(t,e)}),(function(e){Ms(t,e)}),t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener((function(e){t.server_.refreshAuthToken(e)})),t.appCheckProvider_.addTokenChangeListener((function(e){t.server_.refreshAppCheckToken(e.token)})),t.statsReporter_=yt(t.repoInfo_,(function(){return new ur(t.stats_,t.server_)})),t.infoData_=new Jn,t.infoSyncTree_=new so({startListening:function(e,n,r,i){var o=[],s=t.infoData_.getNode(e._path);return s.isEmpty()||(o=lo(t.infoSyncTree_,e._path,s),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),Ls(t,"connected",!1),t.serverSyncTree_=new so({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,(function(n,r){var o=i(n,r);Os(t.eventQueue_,e._path,o)})),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}function js(t){var e=t.infoData_.getNode(new le(".info/serverTimeOffset")),n=e.val()||0;return(new Date).getTime()+n}function Ns(t){return Lo({timestamp:js(t)})}function Ps(t,e,n,r,i){t.dataUpdateCount++;var s=new le(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var a=[];if(i)if(r){var c=Object(o["map"])(n,(function(t){return wn(t)}));a=vo(t.serverSyncTree_,s,c,i)}else{var u=wn(n);a=mo(t.serverSyncTree_,s,u,i)}else if(r){var l=Object(o["map"])(n,(function(t){return wn(t)}));a=ho(t.serverSyncTree_,s,l)}else{var h=wn(n);a=lo(t.serverSyncTree_,s,h)}var f=s;a.length>0&&(f=oa(t,s)),Os(t.eventQueue_,f,a)}function Ds(t,e){t.interceptServerDataCallback_=e}function Rs(t,e){Ls(t,"connected",e),!1===e&&qs(t)}function Ms(t,e){U(e,(function(e,n){Ls(t,e,n)}))}function Ls(t,e,n){var r=new le("/.info/"+e),i=wn(n);t.infoData_.updateSnapshot(r,i);var o=lo(t.infoSyncTree_,r,i);Os(t.eventQueue_,r,o)}function Fs(t){return t.nextWriteId_++}function Us(t,e){var n=_o(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then((function(n){var r=wn(n).withIndex(e._queryParams.getIndex()),i=lo(t.serverSyncTree_,e._path,r);return Es(t.eventQueue_,e._path,i),Promise.resolve(r)}),(function(n){return Zs(t,"get for query "+Object(o["stringify"])(e)+" failed: "+n),Promise.reject(new Error(n))}))}function Vs(t,e,n,r,i){Zs(t,"set",{path:e.toString(),value:n,priority:r});var o=Ns(t),s=wn(n,r),a=bo(t.serverSyncTree_,e),c=qo(s,a,o),u=Fs(t),l=ao(t.serverSyncTree_,e,c,u,!0);xs(t.eventQueue_,l),t.server_.put(e.toString(),s.val(!0),(function(n,r){var o="ok"===n;o||S("set at "+e+" failed: "+n);var s=uo(t.serverSyncTree_,u,!o);Os(t.eventQueue_,e,s),ta(t,i,n,r)}));var h=ha(t,e);oa(t,h),Os(t.eventQueue_,h,[])}function Bs(t,e,n,r){Zs(t,"update",{path:e.toString(),value:n});var i=!0,o=Ns(t),s={};if(U(n,(function(n,r){i=!1,s[n]=Bo(be(e,n),wn(r),t.serverSyncTree_,o)})),i)O("update() called with empty data.  Don't do anything."),ta(t,r,"ok",void 0);else{var a=Fs(t),c=co(t.serverSyncTree_,e,s,a);xs(t.eventQueue_,c),t.server_.merge(e.toString(),n,(function(n,i){var o="ok"===n;o||S("update at "+e+" failed: "+n);var s=uo(t.serverSyncTree_,a,!o),c=s.length>0?oa(t,e):e;Os(t.eventQueue_,c,s),ta(t,r,n,i)})),U(n,(function(n){var r=ha(t,be(e,n));oa(t,r)})),Os(t.eventQueue_,e,[])}}function qs(t){Zs(t,"onDisconnectEvents");var e=Ns(t),n=Zn();nr(t.onDisconnect_,he(),(function(r,i){var o=Bo(r,i,t.serverSyncTree_,e);tr(n,r,o)}));var r=[];nr(n,he(),(function(e,n){r=r.concat(lo(t.serverSyncTree_,e,n));var i=ha(t,e);oa(t,i)})),t.onDisconnect_=Zn(),Os(t.eventQueue_,he(),r)}function zs(t,e,n){t.server_.onDisconnectCancel(e.toString(),(function(r,i){"ok"===r&&er(t.onDisconnect_,e),ta(t,n,r,i)}))}function Ws(t,e,n,r){var i=wn(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(function(n,o){"ok"===n&&tr(t.onDisconnect_,e,i),ta(t,r,n,o)}))}function Hs(t,e,n,r,i){var o=wn(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),(function(n,r){"ok"===n&&tr(t.onDisconnect_,e,o),ta(t,i,n,r)}))}function Ks(t,e,n,r){if(Object(o["isEmpty"])(n))return O("onDisconnect().update() called with empty data.  Don't do anything."),void ta(t,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,(function(i,o){"ok"===i&&U(n,(function(n,r){var i=wn(r);tr(t.onDisconnect_,be(e,n),i)})),ta(t,r,i,o)}))}function Gs(t,e,n){var r;r=".info"===fe(e._path)?yo(t.infoSyncTree_,e,n):yo(t.serverSyncTree_,e,n),Es(t.eventQueue_,e._path,r)}function $s(t,e,n){var r;r=".info"===fe(e._path)?go(t.infoSyncTree_,e,n):go(t.serverSyncTree_,e,n),Es(t.eventQueue_,e._path,r)}function Ys(t){t.persistentConnection_&&t.persistentConnection_.interrupt(ks)}function Qs(t){t.persistentConnection_&&t.persistentConnection_.resume(ks)}function Xs(t,e){if(void 0===e&&(e=!1),"undefined"!==typeof console){var n;e?(t.statsListener_||(t.statsListener_=new or(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce((function(t,e){return Math.max(e.length,t)}),0);U(n,(function(t,e){for(var n=t,i=t.length;i<r+2;i++)n+=" ";console.log(n+e)}))}}function Js(t,e){t.stats_.incrementCounter(e),lr(t.statsReporter_,e)}function Zs(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),O.apply(void 0,Object(s["f"])([r],Object(s["e"])(e)))}function ta(t,e,n,r){e&&$((function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),i=t;r&&(i+=": "+r);var o=new Error(i);o.code=t,e(o)}}))}function ea(t,e,n,r,i,s){Zs(t,"transaction on "+e);var a={path:e,update:n,onComplete:r,status:null,order:y(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=na(t,e,void 0);a.currentInputSnapshot=c;var u=a.update(c.val());if(void 0===u)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{ls("transaction failed: Data returned ",u,a.path),a.status=0;var l=Ho(t.transactionQueueTree_,e),h=Ko(l)||[];h.push(a),Go(l,h);var f=void 0;if("object"===typeof u&&null!==u&&Object(o["contains"])(u,".priority"))f=Object(o["safeGet"])(u,".priority"),Object(o["assert"])(cs(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var d=bo(t.serverSyncTree_,e)||vn.EMPTY_NODE;f=d.getPriority().val()}var p=Ns(t),g=wn(u,f),m=qo(g,c,p);a.currentOutputSnapshotRaw=g,a.currentOutputSnapshotResolved=m,a.currentWriteId=Fs(t);var v=ao(t.serverSyncTree_,e,m,a.currentWriteId,a.applyLocally);Os(t.eventQueue_,e,v),ra(t,t.transactionQueueTree_)}}function na(t,e,n){return bo(t.serverSyncTree_,e,n)||vn.EMPTY_NODE}function ra(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||la(t,e),Ko(e)){var n=ca(t,e);Object(o["assert"])(n.length>0,"Sending zero length transaction queue");var r=n.every((function(t){return 0===t.status}));r&&ia(t,Zo(e),n)}else $o(e)&&Qo(e,(function(e){ra(t,e)}))}function ia(t,e,n){for(var r=n.map((function(t){return t.currentWriteId})),i=na(t,e,r),s=i,a=i.hash(),c=0;c<n.length;c++){var u=n[c];Object(o["assert"])(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var l=we(e,u.path);s=s.updateChild(l,u.currentOutputSnapshotRaw)}var h=s.val(!0),f=e;t.server_.put(f.toString(),h,(function(r){Zs(t,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=function(e){n[e].status=2,i=i.concat(uo(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&o.push((function(){return n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)})),n[e].unwatcher()},a=0;a<n.length;a++)s(a);la(t,Ho(t.transactionQueueTree_,e)),ra(t,t.transactionQueueTree_),Os(t.eventQueue_,e,i);for(a=0;a<o.length;a++)$(o[a])}else{if("datastale"===r)for(a=0;a<n.length;a++)3===n[a].status?n[a].status=4:n[a].status=0;else{S("transaction at "+f.toString()+" failed: "+r);for(a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=r}oa(t,e)}}),a)}function oa(t,e){var n=aa(t,e),r=Zo(n),i=ca(t,n);return sa(t,i,r),r}function sa(t,e,n){if(0!==e.length){for(var r=[],i=[],s=e.filter((function(t){return 0===t.status})),a=s.map((function(t){return t.currentWriteId})),c=function(s){var c,u=e[s],l=we(n,u.path),h=!1;if(Object(o["assert"])(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)h=!0,c=u.abortReason,i=i.concat(uo(t.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=Ss)h=!0,c="maxretry",i=i.concat(uo(t.serverSyncTree_,u.currentWriteId,!0));else{var f=na(t,u.path,a);u.currentInputSnapshot=f;var d=e[s].update(f.val());if(void 0!==d){ls("transaction failed: Data returned ",d,u.path);var p=wn(d),g="object"===typeof d&&null!=d&&Object(o["contains"])(d,".priority");g||(p=p.updatePriority(f.getPriority()));var m=u.currentWriteId,v=Ns(t),y=qo(p,f,v);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=y,u.currentWriteId=Fs(t),a.splice(a.indexOf(m),1),i=i.concat(ao(t.serverSyncTree_,u.path,y,u.currentWriteId,u.applyLocally)),i=i.concat(uo(t.serverSyncTree_,m,!0))}else h=!0,c="nodata",i=i.concat(uo(t.serverSyncTree_,u.currentWriteId,!0))}Os(t.eventQueue_,n,i),i=[],h&&(e[s].status=2,function(t){setTimeout(t,Math.floor(0))}(e[s].unwatcher),e[s].onComplete&&("nodata"===c?r.push((function(){return e[s].onComplete(null,!1,e[s].currentInputSnapshot)})):r.push((function(){return e[s].onComplete(new Error(c),!1,null)}))))},u=0;u<e.length;u++)c(u);la(t,t.transactionQueueTree_);for(u=0;u<r.length;u++)$(r[u]);ra(t,t.transactionQueueTree_)}}function aa(t,e){var n,r=t.transactionQueueTree_;n=fe(e);while(null!==n&&void 0===Ko(r))r=Ho(r,n),e=pe(e),n=fe(e);return r}function ca(t,e){var n=[];return ua(t,e,n),n.sort((function(t,e){return t.order-e.order})),n}function ua(t,e,n){var r=Ko(e);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Qo(e,(function(e){ua(t,e,n)}))}function la(t,e){var n=Ko(e);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Go(e,n.length>0?n:void 0)}Qo(e,(function(e){la(t,e)}))}function ha(t,e){var n=Zo(aa(t,e)),r=Ho(t.transactionQueueTree_,e);return Jo(r,(function(e){fa(t,e)})),fa(t,r),Xo(r,(function(e){fa(t,e)})),n}function fa(t,e){var n=Ko(e);if(n){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(Object(o["assert"])(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(Object(o["assert"])(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(uo(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));-1===s?Go(e,void 0):n.length=s+1,Os(t.eventQueue_,Zo(e),i);for(a=0;a<r.length;a++)$(r[a])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}function pa(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=Object(s["g"])(t.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(0!==a.length){var c=a.split("=");2===c.length?r[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):S("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}var ga=function(t,e){var n=ma(t),r=n.namespace;"firebase.com"===n.domain&&k(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||k("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||C();var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new ht(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new le(n.pathString)}},ma=function(t){var e="",n="",r="",i="",o="",s=!0,a="https",c=443;if("string"===typeof t){var u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));var l=t.indexOf("/");-1===l&&(l=t.length);var h=t.indexOf("?");-1===h&&(h=t.length),e=t.substring(0,Math.min(l,h)),l<h&&(i=da(t.substring(l,h)));var f=pa(t.substring(Math.min(t.length,h)));u=e.indexOf(":"),u>=0?(s="https"===a||"wss"===a,c=parseInt(e.substring(u+1),10)):u=e.length;var d=e.slice(0,u);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),o=r}"ns"in f&&(o=f["ns"])}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},va=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(o["stringify"])(this.snapshot.exportVal())},t}(),ya=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),ba=function(){function t(t,e){this.snapshotCallback=t,this.cancelCallback=e}return t.prototype.onValue=function(t,e){this.snapshotCallback.call(null,t,e)},t.prototype.onCancel=function(t){return Object(o["assert"])(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},t}(),_a=function(){function t(t,e){this._repo=t,this._path=e}return t.prototype.cancel=function(){var t=new o["Deferred"];return zs(this._repo,this._path,t.wrapCallback((function(){}))),t.promise},t.prototype.remove=function(){ys("OnDisconnect.remove",this._path);var t=new o["Deferred"];return Ws(this._repo,this._path,null,t.wrapCallback((function(){}))),t.promise},t.prototype.set=function(t){ys("OnDisconnect.set",this._path),us("OnDisconnect.set",t,this._path,!1);var e=new o["Deferred"];return Ws(this._repo,this._path,t,e.wrapCallback((function(){}))),e.promise},t.prototype.setWithPriority=function(t,e){ys("OnDisconnect.setWithPriority",this._path),us("OnDisconnect.setWithPriority",t,this._path,!1),ds("OnDisconnect.setWithPriority",e,!1);var n=new o["Deferred"];return Hs(this._repo,this._path,t,e,n.wrapCallback((function(){}))),n.promise},t.prototype.update=function(t){ys("OnDisconnect.update",this._path),fs("OnDisconnect.update",t,this._path,!1);var e=new o["Deferred"];return Ks(this._repo,this._path,t,e.wrapCallback((function(){}))),e.promise},t}(),wa=function(){function t(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(t.prototype,"key",{get:function(){return _e(this._path)?null:ge(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ta(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var t=Qn(this._queryParams),e=L(t);return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return Qn(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(e=Object(o["getModularInstance"])(e),!(e instanceof t))return!1;var n=this._repo===e._repo,r=Ee(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+me(this._path)},t}();function xa(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Ea(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===He){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){var s=t.getIndexStartName();if(s!==N)throw new Error(r);if("string"!==typeof e)throw new Error(i)}if(t.hasEnd()){var a=t.getIndexEndName();if(a!==P)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(t.getIndex()===hn){if(null!=e&&!cs(e)||null!=n&&!cs(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(o["assert"])(t.getIndex()instanceof xn||t.getIndex()===On,"unknown index type."),null!=e&&"object"===typeof e||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Oa(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Ta=function(t){function e(e,n){return t.call(this,e,n,new Vn,!1)||this}return Object(s["c"])(e,t),Object.defineProperty(e.prototype,"parent",{get:function(){var t=ye(this._path);return null===t?null:new e(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){var t=this;while(null!==t.parent)t=t.parent;return t},enumerable:!1,configurable:!0}),e}(wa),Ia=function(){function t(t,e,n){this._node=t,this.ref=e,this._index=n}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new le(e),r=Ca(this.ref,e);return new t(this._node.getChild(n),r,hn)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,(function(r,i){return e(new t(i,Ca(n.ref,r),hn))}))},t.prototype.hasChild=function(t){var e=new le(t);return!this._node.getChild(e).isEmpty()},t.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function ka(t,e){return t=Object(o["getModularInstance"])(t),t._checkNotDeleted("ref"),void 0!==e?Ca(t._root,e):t._root}function Sa(t,e){t=Object(o["getModularInstance"])(t),t._checkNotDeleted("refFromURL");var n=ga(e,t._repo.repoInfo_.nodeAdmin);bs("refFromURL",n);var r=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||r.host===t._repo.repoInfo_.host||k("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),ka(t,n.path.toString())}function Ca(t,e){return t=Object(o["getModularInstance"])(t),null===fe(t._path)?vs("child","path",e,!1):ms("child","path",e,!1),new Ta(t._repo,be(t._path,e))}function Aa(t,e){t=Object(o["getModularInstance"])(t),ys("push",t._path),us("push",e,t._path,!0);var n,r=js(t._repo),i=Cn(r),s=Ca(t,i),a=Ca(t,i);return n=null!=e?Na(a,e).then((function(){return a})):Promise.resolve(a),s.then=n.then.bind(n),s.catch=n.then.bind(n,void 0),s}function ja(t){return ys("remove",t._path),Na(t,null)}function Na(t,e){t=Object(o["getModularInstance"])(t),ys("set",t._path),us("set",e,t._path,!1);var n=new o["Deferred"];return Vs(t._repo,t._path,e,null,n.wrapCallback((function(){}))),n.promise}function Pa(t,e){t=Object(o["getModularInstance"])(t),ys("setPriority",t._path),ds("setPriority",e,!1);var n=new o["Deferred"];return Vs(t._repo,be(t._path,".priority"),e,null,n.wrapCallback((function(){}))),n.promise}function Da(t,e,n){if(ys("setWithPriority",t._path),us("setWithPriority",e,t._path,!1),ds("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new o["Deferred"];return Vs(t._repo,t._path,e,n,r.wrapCallback((function(){}))),r.promise}function Ra(t,e){fs("update",e,t._path,!1);var n=new o["Deferred"];return Bs(t._repo,t._path,e,n.wrapCallback((function(){}))),n.promise}function Ma(t){return t=Object(o["getModularInstance"])(t),Us(t._repo,t).then((function(e){return new Ia(e,new Ta(t._repo,t._path),t._queryParams.getIndex())}))}var La=function(){function t(t){this.callbackContext=t}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e._queryParams.getIndex();return new va("value",this,new Ia(t.snapshotNode,new Ta(e._repo,e._path),n))},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,null)}},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new ya(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},t.prototype.hasAnyCallback=function(){return null!==this.callbackContext},t}(),Fa=function(){function t(t,e){this.eventType=t,this.callbackContext=e}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new ya(this,t,e):null},t.prototype.createEvent=function(t,e){Object(o["assert"])(null!=t.childName,"Child events should have a childName.");var n=Ca(new Ta(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new va(t.type,this,new Ia(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,t.prevName)}},t.prototype.matches=function(e){return e instanceof t&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function Ua(t,e,n,r,i){var o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){var s=n,a=function(e,n){$s(t._repo,t,u),s(e,n)};a.userCallback=n.userCallback,a.context=n.context,n=a}var c=new ba(n,o||void 0),u="value"===e?new La(c):new Fa(e,c);return Gs(t._repo,t,u),function(){return $s(t._repo,t,u)}}function Va(t,e,n,r){return Ua(t,"value",e,n,r)}function Ba(t,e,n,r){return Ua(t,"child_added",e,n,r)}function qa(t,e,n,r){return Ua(t,"child_changed",e,n,r)}function za(t,e,n,r){return Ua(t,"child_moved",e,n,r)}function Wa(t,e,n,r){return Ua(t,"child_removed",e,n,r)}function Ha(t,e,n){var r=null,i=n?new ba(n):null;"value"===e?r=new La(i):e&&(r=new Fa(e,i)),$s(t._repo,t,r)}var Ka=function(){function t(){}return t}(),Ga=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(s["c"])(e,t),e.prototype._apply=function(t){us("endAt",this._value,t._path,!0);var e=Kn(t._queryParams,this._value,this._key);if(Oa(e),Ea(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new wa(t._repo,t._path,e,t._orderByCalled)},e}(Ka);function $a(t,e){return gs("endAt","key",e,!0),new Ga(t,e)}var Ya=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(s["c"])(e,t),e.prototype._apply=function(t){us("endBefore",this._value,t._path,!1);var e=Gn(t._queryParams,this._value,this._key);if(Oa(e),Ea(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new wa(t._repo,t._path,e,t._orderByCalled)},e}(Ka);function Qa(t,e){return gs("endBefore","key",e,!0),new Ya(t,e)}var Xa=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(s["c"])(e,t),e.prototype._apply=function(t){us("startAt",this._value,t._path,!0);var e=Wn(t._queryParams,this._value,this._key);if(Oa(e),Ea(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new wa(t._repo,t._path,e,t._orderByCalled)},e}(Ka);function Ja(t,e){return void 0===t&&(t=null),gs("startAt","key",e,!0),new Xa(t,e)}var Za=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(s["c"])(e,t),e.prototype._apply=function(t){us("startAfter",this._value,t._path,!1);var e=Hn(t._queryParams,this._value,this._key);if(Oa(e),Ea(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new wa(t._repo,t._path,e,t._orderByCalled)},e}(Ka);function tc(t,e){return gs("startAfter","key",e,!0),new Za(t,e)}var ec=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(s["c"])(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new wa(t._repo,t._path,qn(t._queryParams,this._limit),t._orderByCalled)},e}(Ka);function nc(t){if("number"!==typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new ec(t)}var rc=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(s["c"])(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new wa(t._repo,t._path,zn(t._queryParams,this._limit),t._orderByCalled)},e}(Ka);function ic(t){if("number"!==typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new rc(t)}var oc=function(t){function e(e){var n=t.call(this)||this;return n._path=e,n}return Object(s["c"])(e,t),e.prototype._apply=function(t){xa(t,"orderByChild");var e=new le(this._path);if(_e(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new xn(e),r=$n(t._queryParams,n);return Ea(r),new wa(t._repo,t._path,r,!0)},e}(Ka);function sc(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ms("orderByChild","path",t,!1),new oc(t)}var ac=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s["c"])(e,t),e.prototype._apply=function(t){xa(t,"orderByKey");var e=$n(t._queryParams,He);return Ea(e),new wa(t._repo,t._path,e,!0)},e}(Ka);function cc(){return new ac}var uc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s["c"])(e,t),e.prototype._apply=function(t){xa(t,"orderByPriority");var e=$n(t._queryParams,hn);return Ea(e),new wa(t._repo,t._path,e,!0)},e}(Ka);function lc(){return new uc}var hc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s["c"])(e,t),e.prototype._apply=function(t){xa(t,"orderByValue");var e=$n(t._queryParams,On);return Ea(e),new wa(t._repo,t._path,e,!0)},e}(Ka);function fc(){return new hc}var dc=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(s["c"])(e,t),e.prototype._apply=function(t){if(us("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Ga(this._value,this._key)._apply(new Xa(this._value,this._key)._apply(t))},e}(Ka);function pc(t,e){return gs("equalTo","key",e,!0),new dc(t,e)}function gc(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var a=Object(o["getModularInstance"])(t);try{for(var c=Object(s["g"])(r),u=c.next();!u.done;u=c.next()){var l=u.value;a=l._apply(a)}}catch(h){e={error:h}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return a}Wi(Ta),ro(Ta);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var mc="FIREBASE_DATABASE_EMULATOR_HOST",vc={},yc=!1;function bc(t,e,n,r){t.repoInfo_=new ht(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}function _c(e,n,r,i,o){var s=i||e.options.databaseURL;void 0===s&&(e.options.projectId||k("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),O("Using default host for project ",e.options.projectId),s=e.options.projectId+"-default-rtdb.firebaseio.com");var a,c=ga(s,o),u=c.repoInfo,l=void 0;"undefined"!==typeof t&&(l=Object({NODE_ENV:"production",BASE_URL:"/"})[mc]),l?(a=!0,s="http://"+l+"?ns="+u.namespace,c=ga(s,o),u=c.repoInfo):a=!c.repoInfo.secure;var h=o&&a?new Z(Z.OWNER):new J(e.name,e.options,n);bs("Invalid Firebase Database URL",c),_e(c.path)||k("Database URL must point to the root of a Firebase Database (not including a child path).");var f=xc(u,e,h,new X(e.name,r));return new Oc(f,e)}function wc(t,e){var n=vc[e];n&&n[t.key]===t||k("Database "+e+"("+t.repoInfo_+") has already been deleted."),Ys(t),delete n[t.key]}function xc(t,e,n,r){var i=vc[e.name];i||(i={},vc[e.name]=i);var o=i[t.toURLString()];return o&&k("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Cs(t,yc,n,r),i[t.toURLString()]=o,o}function Ec(t){yc=t}var Oc=function(){function t(t,e){this._repoInternal=t,this.app=e,this["type"]="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(As(this._repoInternal,this.app.options.appId,this.app.options["databaseAuthVariableOverride"]),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Ta(this._repo,he())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){return null!==this._rootInternal&&(wc(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},t.prototype._checkNotDeleted=function(t){null===this._rootInternal&&k("Cannot call "+t+" on a deleted database.")},t}();function Tc(t,e,n,r){void 0===r&&(r={}),t=Object(o["getModularInstance"])(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&k("Cannot call useEmulator() after instance has already been initialized.");var i=t._repoInternal,s=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&k('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Z(Z.OWNER);else if(r.mockUserToken){var a="string"===typeof r.mockUserToken?r.mockUserToken:Object(o["createMockUserToken"])(r.mockUserToken,t.app.options.projectId);s=new Z(a)}bc(i,e,n,s)}function Ic(t){t=Object(o["getModularInstance"])(t),t._checkNotDeleted("goOffline"),Ys(t._repo)}function kc(t){t=Object(o["getModularInstance"])(t),t._checkNotDeleted("goOnline"),Qs(t._repo)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sc={".sv":"timestamp"};function Cc(){return Sc}function Ac(t){return{".sv":{increment:t}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jc=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function Nc(t,e,n){var r;if(t=Object(o["getModularInstance"])(t),ys("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,s=new o["Deferred"],a=function(e,n,r){var i=null;e?s.reject(e):(i=new Ia(r,new Ta(t._repo,t._path),hn),s.resolve(new jc(n,i)))},c=Va(t,(function(){}));return ea(t._repo,t._path,e,a,c,i),s.promise}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pc=function(){function t(t){this._delegate=t}return t.prototype.cancel=function(t){Object(o["validateArgCount"])("OnDisconnect.cancel",0,1,arguments.length),Object(o["validateCallback"])("OnDisconnect.cancel","onComplete",t,!0);var e=this._delegate.cancel();return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},t.prototype.remove=function(t){Object(o["validateArgCount"])("OnDisconnect.remove",0,1,arguments.length),Object(o["validateCallback"])("OnDisconnect.remove","onComplete",t,!0);var e=this._delegate.remove();return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},t.prototype.set=function(t,e){Object(o["validateArgCount"])("OnDisconnect.set",1,2,arguments.length),Object(o["validateCallback"])("OnDisconnect.set","onComplete",e,!0);var n=this._delegate.set(t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},t.prototype.setWithPriority=function(t,e,n){Object(o["validateArgCount"])("OnDisconnect.setWithPriority",2,3,arguments.length),Object(o["validateCallback"])("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(t,e);return n&&r.then((function(){return n(null)}),(function(t){return n(t)})),r},t.prototype.update=function(t,e){if(Object(o["validateArgCount"])("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,S("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(o["validateCallback"])("OnDisconnect.update","onComplete",e,!0);var i=this._delegate.update(t);return e&&i.then((function(){return e(null)}),(function(t){return e(t)})),i},t}(),Dc=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(o["validateArgCount"])("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Rc=function(){function t(t,e){this._database=t,this._delegate=e}return t.prototype.val=function(){return Object(o["validateArgCount"])("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return Object(o["validateArgCount"])("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return Object(o["validateArgCount"])("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return Object(o["validateArgCount"])("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return Object(o["validateArgCount"])("DataSnapshot.child",0,1,arguments.length),e=String(e),ms("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(t){return Object(o["validateArgCount"])("DataSnapshot.hasChild",1,1,arguments.length),ms("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},t.prototype.getPriority=function(){return Object(o["validateArgCount"])("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return Object(o["validateArgCount"])("DataSnapshot.forEach",1,1,arguments.length),Object(o["validateCallback"])("DataSnapshot.forEach","action",e,!1),this._delegate.forEach((function(r){return e(new t(n._database,r))}))},t.prototype.hasChildren=function(){return Object(o["validateArgCount"])("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(o["validateArgCount"])("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return Object(o["validateArgCount"])("DataSnapshot.ref",0,0,arguments.length),new Lc(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Mc=function(){function t(t,e){this.database=t,this._delegate=e}return t.prototype.on=function(e,n,r,i){var s,a=this;Object(o["validateArgCount"])("Query.on",2,4,arguments.length),Object(o["validateCallback"])("Query.on","callback",n,!1);var c=t.getCancelAndContextArgs_("Query.on",r,i),u=function(t,e){n.call(c.context,new Rc(a.database,t),e)};u.userCallback=n,u.context=c.context;var l=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(e){case"value":return Va(this._delegate,u,l),n;case"child_added":return Ba(this._delegate,u,l),n;case"child_removed":return Wa(this._delegate,u,l),n;case"child_changed":return qa(this._delegate,u,l),n;case"child_moved":return za(this._delegate,u,l),n;default:throw new Error(Object(o["errorPrefix"])("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(t,e,n){if(Object(o["validateArgCount"])("Query.off",0,3,arguments.length),ps("Query.off",t,!0),Object(o["validateCallback"])("Query.off","callback",e,!0),Object(o["validateContextObject"])("Query.off","context",n,!0),e){var r=function(){};r.userCallback=e,r.context=n,Ha(this._delegate,t,r)}else Ha(this._delegate,t)},t.prototype.get=function(){var t=this;return Ma(this._delegate).then((function(e){return new Rc(t.database,e)}))},t.prototype.once=function(e,n,r,i){var s=this;Object(o["validateArgCount"])("Query.once",1,4,arguments.length),Object(o["validateCallback"])("Query.once","callback",n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),c=new o["Deferred"],u=function(t,e){var r=new Rc(s.database,t);n&&n.call(a.context,r,e),c.resolve(r)};u.userCallback=n,u.context=a.context;var l=function(t){a.cancel&&a.cancel.call(a.context,t),c.reject(t)};switch(e){case"value":Va(this._delegate,u,l,{onlyOnce:!0});break;case"child_added":Ba(this._delegate,u,l,{onlyOnce:!0});break;case"child_removed":Wa(this._delegate,u,l,{onlyOnce:!0});break;case"child_changed":qa(this._delegate,u,l,{onlyOnce:!0});break;case"child_moved":za(this._delegate,u,l,{onlyOnce:!0});break;default:throw new Error(Object(o["errorPrefix"])("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise},t.prototype.limitToFirst=function(e){return Object(o["validateArgCount"])("Query.limitToFirst",1,1,arguments.length),new t(this.database,gc(this._delegate,nc(e)))},t.prototype.limitToLast=function(e){return Object(o["validateArgCount"])("Query.limitToLast",1,1,arguments.length),new t(this.database,gc(this._delegate,ic(e)))},t.prototype.orderByChild=function(e){return Object(o["validateArgCount"])("Query.orderByChild",1,1,arguments.length),new t(this.database,gc(this._delegate,sc(e)))},t.prototype.orderByKey=function(){return Object(o["validateArgCount"])("Query.orderByKey",0,0,arguments.length),new t(this.database,gc(this._delegate,cc()))},t.prototype.orderByPriority=function(){return Object(o["validateArgCount"])("Query.orderByPriority",0,0,arguments.length),new t(this.database,gc(this._delegate,lc()))},t.prototype.orderByValue=function(){return Object(o["validateArgCount"])("Query.orderByValue",0,0,arguments.length),new t(this.database,gc(this._delegate,fc()))},t.prototype.startAt=function(e,n){return void 0===e&&(e=null),Object(o["validateArgCount"])("Query.startAt",0,2,arguments.length),new t(this.database,gc(this._delegate,Ja(e,n)))},t.prototype.startAfter=function(e,n){return void 0===e&&(e=null),Object(o["validateArgCount"])("Query.startAfter",0,2,arguments.length),new t(this.database,gc(this._delegate,tc(e,n)))},t.prototype.endAt=function(e,n){return void 0===e&&(e=null),Object(o["validateArgCount"])("Query.endAt",0,2,arguments.length),new t(this.database,gc(this._delegate,$a(e,n)))},t.prototype.endBefore=function(e,n){return void 0===e&&(e=null),Object(o["validateArgCount"])("Query.endBefore",0,2,arguments.length),new t(this.database,gc(this._delegate,Qa(e,n)))},t.prototype.equalTo=function(e,n){return Object(o["validateArgCount"])("Query.equalTo",1,2,arguments.length),new t(this.database,gc(this._delegate,pc(e,n)))},t.prototype.toString=function(){return Object(o["validateArgCount"])("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return Object(o["validateArgCount"])("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if(Object(o["validateArgCount"])("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,Object(o["validateCallback"])(t,"cancel",r.cancel,!0),r.context=n,Object(o["validateContextObject"])(t,"context",r.context,!0);else if(e)if("object"===typeof e&&null!==e)r.context=e;else{if("function"!==typeof e)throw new Error(Object(o["errorPrefix"])(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return new Lc(this.database,new Ta(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),Lc=function(t){function e(e,n){var r=t.call(this,e,new wa(n._repo,n._path,new Vn,!1))||this;return r.database=e,r._delegate=n,r}return Object(s["c"])(e,t),e.prototype.getKey=function(){return Object(o["validateArgCount"])("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(t){return Object(o["validateArgCount"])("Reference.child",1,1,arguments.length),"number"===typeof t&&(t=String(t)),new e(this.database,Ca(this._delegate,t))},e.prototype.getParent=function(){Object(o["validateArgCount"])("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new e(this.database,t):null},e.prototype.getRoot=function(){return Object(o["validateArgCount"])("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(t,e){Object(o["validateArgCount"])("Reference.set",1,2,arguments.length),Object(o["validateCallback"])("Reference.set","onComplete",e,!0);var n=Na(this._delegate,t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},e.prototype.update=function(t,e){if(Object(o["validateArgCount"])("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,S("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ys("Reference.update",this._delegate._path),Object(o["validateCallback"])("Reference.update","onComplete",e,!0);var i=Ra(this._delegate,t);return e&&i.then((function(){return e(null)}),(function(t){return e(t)})),i},e.prototype.setWithPriority=function(t,e,n){Object(o["validateArgCount"])("Reference.setWithPriority",2,3,arguments.length),Object(o["validateCallback"])("Reference.setWithPriority","onComplete",n,!0);var r=Da(this._delegate,t,e);return n&&r.then((function(){return n(null)}),(function(t){return n(t)})),r},e.prototype.remove=function(t){Object(o["validateArgCount"])("Reference.remove",0,1,arguments.length),Object(o["validateCallback"])("Reference.remove","onComplete",t,!0);var e=ja(this._delegate);return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},e.prototype.transaction=function(t,e,n){var r=this;Object(o["validateArgCount"])("Reference.transaction",1,3,arguments.length),Object(o["validateCallback"])("Reference.transaction","transactionUpdate",t,!1),Object(o["validateCallback"])("Reference.transaction","onComplete",e,!0),_s("Reference.transaction","applyLocally",n,!0);var i=Nc(this._delegate,t,{applyLocally:n}).then((function(t){return new Dc(t.committed,new Rc(r.database,t.snapshot))}));return e&&i.then((function(t){return e(null,t.committed,t.snapshot)}),(function(t){return e(t,!1,null)})),i},e.prototype.setPriority=function(t,e){Object(o["validateArgCount"])("Reference.setPriority",1,2,arguments.length),Object(o["validateCallback"])("Reference.setPriority","onComplete",e,!0);var n=Pa(this._delegate,t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},e.prototype.push=function(t,n){var r=this;Object(o["validateArgCount"])("Reference.push",0,2,arguments.length),Object(o["validateCallback"])("Reference.push","onComplete",n,!0);var i=Aa(this._delegate,t),s=i.then((function(t){return new e(r.database,t)}));n&&s.then((function(){return n(null)}),(function(t){return n(t)}));var a=new e(this.database,i);return a.then=s.then.bind(s),a.catch=s.catch.bind(s,void 0),a},e.prototype.onDisconnect=function(){return ys("Reference.onDisconnect",this._delegate._path),new Pc(new _a(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Mc),Fc=function(){function t(t,e){var n=this;this._delegate=t,this.app=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),Tc(this._delegate,t,e,n)},t.prototype.ref=function(t){if(Object(o["validateArgCount"])("database.ref",0,1,arguments.length),t instanceof Lc){var e=Sa(this._delegate,t.toString());return new Lc(this,e)}e=ka(this._delegate,t);return new Lc(this,e)},t.prototype.refFromURL=function(t){var e="database.refFromURL";Object(o["validateArgCount"])(e,1,1,arguments.length);var n=Sa(this._delegate,t);return new Lc(this,n)},t.prototype.goOffline=function(){return Object(o["validateArgCount"])("database.goOffline",0,0,arguments.length),Ic(this._delegate)},t.prototype.goOnline=function(){return Object(o["validateArgCount"])("database.goOnline",0,0,arguments.length),kc(this._delegate)},t.ServerValue={TIMESTAMP:Cc(),increment:function(t){return Ac(t)}},t}(),Uc=function(){qt.forceDisallow(),Lt.forceAllow()},Vc=function(){Lt.forceDisallow()},Bc=function(){return qt["isAvailable"]()},qc=function(t,e){var n=t._delegate._repo.persistentConnection_;n.securityDebugCallback_=e},zc=function(t,e){Xs(t._delegate._repo,e)},Wc=function(t,e){Js(t._delegate._repo,e)},Hc=function(t){return t._delegate._repo.dataUpdateCount},Kc=function(t,e){return Ds(t._delegate._repo,e)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(t){var e=t.app,n=t.url,r=t.version,o=t.customAuthImpl,s=t.namespace,a=t.nodeAdmin,c=void 0!==a&&a;h(r);var u=new i["Provider"]("auth-internal",new i["ComponentContainer"]("database-standalone"));return u.setComponent(new i["Component"]("auth-internal",(function(){return o}),"PRIVATE")),{instance:new Fc(_c(e,u,void 0,n,c),e),namespace:s}}var $c=Object.freeze({__proto__:null,forceLongPolling:Uc,forceWebSockets:Vc,isWebSocketsAvailable:Bc,setSecurityDebugCallback:qc,stats:zc,statsIncrementCounter:Wc,dataUpdateCount:Hc,interceptServerData:Kc,initStandalone:Gc}),Yc=Be;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Be.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Be.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Qc=ie,Xc=function(t){var e=Be.prototype.put;return Be.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){Be.prototype.put=e}},Jc=ht,Zc=function(t){return t._delegate._queryIdentifier},tu=function(t){Ec(t)},eu=Object.freeze({__proto__:null,DataConnection:Yc,RealTimeConnection:Qc,hijackHash:Xc,ConnectionTarget:Jc,queryIdentifier:Zc,forceRestClient:tu}),nu=Fc.ServerValue;function ru(t){h(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new i["Component"]("database",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new Fc(_c(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:Lc,Query:Mc,Database:Fc,DataSnapshot:Rc,enableLogging:E,INTERNAL:$c,ServerValue:nu,TEST_ACCESS:eu}).setMultipleInstances(!0));t.registerVersion(c,u),Object(o["isNodeSdk"])()&&(e.exports=n)}ru(r["default"])}).call(this,n("4362"),n("dd40")(t))},e95a:function(t,e,n){var r=n("b622"),i=n("3f8c"),o=r("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||s[o]===t)}},ea1a:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("28bf"),i=n("ae6c"),o=n("5788"),s=n("2767");function a(t){return["html","body","#document"].indexOf(Object(o["a"])(t))>=0?t.ownerDocument.body:Object(s["b"])(t)&&Object(i["a"])(t)?t:a(Object(r["a"])(t))}var c=n("1fc0");function u(t,e){var n;void 0===e&&(e=[]);var o=a(t),s=o===(null==(n=t.ownerDocument)?void 0:n.body),l=Object(c["a"])(o),h=s?[l].concat(l.visualViewport||[],Object(i["a"])(o)?o:[]):o,f=e.concat(h);return s?f:f.concat(u(Object(r["a"])(h)))}},ea7b:function(t,e,n){"use strict";n("b7aa")},ecb2:function(t,e,n){"use strict";var r={left:"right",right:"left",bottom:"top",top:"bottom"};function i(t){return t.replace(/left|right|bottom|top/g,(function(t){return r[t]}))}var o=n("b50e"),s={start:"end",end:"start"};function a(t){return t.replace(/start|end/g,(function(t){return s[t]}))}var c=n("b617"),u=n("3d8d"),l=n("77f9");function h(t,e){void 0===e&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,a=n.padding,h=n.flipVariations,f=n.allowedAutoPlacements,d=void 0===f?l["o"]:f,p=Object(u["a"])(r),g=p?h?l["v"]:l["v"].filter((function(t){return Object(u["a"])(t)===p})):l["e"],m=g.filter((function(t){return d.indexOf(t)>=0}));0===m.length&&(m=g);var v=m.reduce((function(e,n){return e[n]=Object(c["a"])(t,{placement:n,boundary:i,rootBoundary:s,padding:a})[Object(o["a"])(n)],e}),{});return Object.keys(v).sort((function(t,e){return v[t]-v[e]}))}function f(t){if(Object(o["a"])(t)===l["d"])return[];var e=i(t);return[a(t),e,a(e)]}function d(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var s=n.mainAxis,a=void 0===s||s,d=n.altAxis,p=void 0===d||d,g=n.fallbackPlacements,m=n.padding,v=n.boundary,y=n.rootBoundary,b=n.altBoundary,_=n.flipVariations,w=void 0===_||_,x=n.allowedAutoPlacements,E=e.options.placement,O=Object(o["a"])(E),T=O===E,I=g||(T||!w?[i(E)]:f(E)),k=[E].concat(I).reduce((function(t,n){return t.concat(Object(o["a"])(n)===l["d"]?h(e,{placement:n,boundary:v,rootBoundary:y,padding:m,flipVariations:w,allowedAutoPlacements:x}):n)}),[]),S=e.rects.reference,C=e.rects.popper,A=new Map,j=!0,N=k[0],P=0;P<k.length;P++){var D=k[P],R=Object(o["a"])(D),M=Object(u["a"])(D)===l["t"],L=[l["u"],l["i"]].indexOf(R)>=0,F=L?"width":"height",U=Object(c["a"])(e,{placement:D,boundary:v,rootBoundary:y,altBoundary:b,padding:m}),V=L?M?l["s"]:l["l"]:M?l["i"]:l["u"];S[F]>C[F]&&(V=i(V));var B=i(V),q=[];if(a&&q.push(U[R]<=0),p&&q.push(U[V]<=0,U[B]<=0),q.every((function(t){return t}))){N=D,j=!1;break}A.set(D,q)}if(j)for(var z=w?3:1,W=function(t){var e=k.find((function(e){var n=A.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return N=e,"break"},H=z;H>0;H--){var K=W(H);if("break"===K)break}e.placement!==N&&(e.modifiersData[r]._skip=!0,e.placement=N,e.reset=!0)}}e["a"]={name:"flip",enabled:!0,phase:"main",fn:d,requiresIfExists:["offset"],data:{_skip:!1}}},ecee:function(t,e,n){"use strict";(function(t){
/*!
 * Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 */
function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){a(t,e,n[e])}))}return t}function u(t,e){return f(t)||p(t,e)||m()}function l(t){return h(t)||d(t)||g()}function h(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function f(t){if(Array.isArray(t))return t}function d(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function p(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done);r=!0)if(n.push(s.value),e&&n.length===e)break}catch(c){i=!0,o=c}finally{try{r||null==a["return"]||a["return"]()}finally{if(i)throw o}}return n}function g(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function m(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}n.d(e,"b",(function(){return ce})),n.d(e,"a",(function(){return z})),n.d(e,"e",(function(){return ue})),n.d(e,"c",(function(){return oe})),n.d(e,"d",(function(){return ae}));var v=function(){},y={},b={},_={mark:v,measure:v};try{"undefined"!==typeof window&&(y=window),"undefined"!==typeof document&&(b=document),"undefined"!==typeof MutationObserver&&MutationObserver,"undefined"!==typeof performance&&(_=performance)}catch(le){}var w=y.navigator||{},x=w.userAgent,E=void 0===x?"":x,O=y,T=b,I=_,k=(O.document,!!T.documentElement&&!!T.head&&"function"===typeof T.addEventListener&&"function"===typeof T.createElement),S=~E.indexOf("MSIE")||~E.indexOf("Trident/"),C="___FONT_AWESOME___",A=16,j="fa",N="svg-inline--fa",P="data-fa-i2svg",D=(function(){try{}catch(le){return!1}}(),[1,2,3,4,5,6,7,8,9,10]),R=D.concat([11,12,13,14,15,16,17,18,19,20]),M={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},L=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",M.GROUP,M.SWAP_OPACITY,M.PRIMARY,M.SECONDARY].concat(D.map((function(t){return"".concat(t,"x")}))).concat(R.map((function(t){return"w-".concat(t)}))),O.FontAwesomeConfig||{});function F(t){var e=T.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function U(t){return""===t||"false"!==t&&("true"===t||t)}if(T&&"function"===typeof T.querySelector){var V=[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];V.forEach((function(t){var e=u(t,2),n=e[0],r=e[1],i=U(F(n));void 0!==i&&null!==i&&(L[r]=i)}))}var B={familyPrefix:j,replacementClass:N,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},q=c({},B,L);q.autoReplaceSvg||(q.observeMutations=!1);var z=c({},q);O.FontAwesomeConfig=z;var W=O||{};W[C]||(W[C]={}),W[C].styles||(W[C].styles={}),W[C].hooks||(W[C].hooks={}),W[C].shims||(W[C].shims=[]);var H=W[C],K=[],G=function t(){T.removeEventListener("DOMContentLoaded",t),$=1,K.map((function(t){return t()}))},$=!1;k&&($=(T.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(T.readyState),$||T.addEventListener("DOMContentLoaded",G));var Y,Q="pending",X="settled",J="fulfilled",Z="rejected",tt=function(){},et="undefined"!==typeof t&&"undefined"!==typeof t.process&&"function"===typeof t.process.emit,nt="undefined"===typeof setImmediate?setTimeout:setImmediate,rt=[];function it(){for(var t=0;t<rt.length;t++)rt[t][0](rt[t][1]);rt=[],Y=!1}function ot(t,e){rt.push([t,e]),Y||(Y=!0,nt(it,0))}function st(t,e){function n(t){ut(e,t)}function r(t){ht(e,t)}try{t(n,r)}catch(le){r(le)}}function at(t){var e=t.owner,n=e._state,r=e._data,i=t[n],o=t.then;if("function"===typeof i){n=J;try{r=i(r)}catch(le){ht(o,le)}}ct(o,r)||(n===J&&ut(o,r),n===Z&&ht(o,r))}function ct(t,e){var n;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"===typeof e||"object"===r(e))){var i=e.then;if("function"===typeof i)return i.call(e,(function(r){n||(n=!0,e===r?lt(t,r):ut(t,r))}),(function(e){n||(n=!0,ht(t,e))})),!0}}catch(le){return n||ht(t,le),!0}return!1}function ut(t,e){t!==e&&ct(t,e)||lt(t,e)}function lt(t,e){t._state===Q&&(t._state=X,t._data=e,ot(dt,t))}function ht(t,e){t._state===Q&&(t._state=X,t._data=e,ot(pt,t))}function ft(t){t._then=t._then.forEach(at)}function dt(t){t._state=J,ft(t)}function pt(e){e._state=Z,ft(e),!e._handled&&et&&t.process.emit("unhandledRejection",e._data,e)}function gt(e){t.process.emit("rejectionHandled",e)}function mt(t){if("function"!==typeof t)throw new TypeError("Promise resolver "+t+" is not a function");if(this instanceof mt===!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],st(t,this)}mt.prototype={constructor:mt,_state:Q,_then:null,_data:void 0,_handled:!1,then:function(t,e){var n={owner:this,then:new this.constructor(tt),fulfilled:t,rejected:e};return!e&&!t||this._handled||(this._handled=!0,this._state===Z&&et&&ot(gt,this)),this._state===J||this._state===Z?ot(at,n):this._then.push(n),n.then},catch:function(t){return this.then(null,t)}},mt.all=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new mt((function(e,n){var r=[],i=0;function o(t){return i++,function(n){r[t]=n,--i||e(r)}}for(var s,a=0;a<t.length;a++)s=t[a],s&&"function"===typeof s.then?s.then(o(a),n):r[a]=s;i||e(r)}))},mt.race=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new mt((function(e,n){for(var r,i=0;i<t.length;i++)r=t[i],r&&"function"===typeof r.then?r.then(e,n):e(r)}))},mt.resolve=function(t){return t&&"object"===r(t)&&t.constructor===mt?t:new mt((function(e){e(t)}))},mt.reject=function(t){return new mt((function(e,n){n(t)}))};var vt=A,yt={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function bt(t){if(t&&k){var e=T.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=T.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],s=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(r=o)}return T.head.insertBefore(e,r),t}}var _t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function wt(){var t=12,e="";while(t-- >0)e+=_t[62*Math.random()|0];return e}function xt(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Et(t){return Object.keys(t||{}).reduce((function(e,n){return e+"".concat(n,'="').concat(xt(t[n]),'" ')}),"").trim()}function Ot(t){return Object.keys(t||{}).reduce((function(e,n){return e+"".concat(n,": ").concat(t[n],";")}),"")}function Tt(t){return t.size!==yt.size||t.x!==yt.x||t.y!==yt.y||t.rotate!==yt.rotate||t.flipX||t.flipY}function It(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,i={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(32*e.x,", ").concat(32*e.y,") "),s="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),c={transform:"".concat(o," ").concat(s," ").concat(a)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:c,path:u}}function kt(t){var e=t.transform,n=t.width,r=void 0===n?A:n,i=t.height,o=void 0===i?A:i,s=t.startCentered,a=void 0!==s&&s,c="";return c+=a&&S?"translate(".concat(e.x/vt-r/2,"em, ").concat(e.y/vt-o/2,"em) "):a?"translate(calc(-50% + ".concat(e.x/vt,"em), calc(-50% + ").concat(e.y/vt,"em)) "):"translate(".concat(e.x/vt,"em, ").concat(e.y/vt,"em) "),c+="scale(".concat(e.size/vt*(e.flipX?-1:1),", ").concat(e.size/vt*(e.flipY?-1:1),") "),c+="rotate(".concat(e.rotate,"deg) "),c}var St={x:0,y:0,width:"100%",height:"100%"};function Ct(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function At(t){return"g"===t.tag?t.children:[t]}function jt(t){var e=t.children,n=t.attributes,r=t.main,i=t.mask,o=t.maskId,s=t.transform,a=r.width,u=r.icon,l=i.width,h=i.icon,f=It({transform:s,containerWidth:l,iconWidth:a}),d={tag:"rect",attributes:c({},St,{fill:"white"})},p=u.children?{children:u.children.map(Ct)}:{},g={tag:"g",attributes:c({},f.inner),children:[Ct(c({tag:u.tag,attributes:c({},u.attributes,f.path)},p))]},m={tag:"g",attributes:c({},f.outer),children:[g]},v="mask-".concat(o||wt()),y="clip-".concat(o||wt()),b={tag:"mask",attributes:c({},St,{id:v,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[d,m]},_={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:At(h)},b]};return e.push(_,{tag:"rect",attributes:c({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(v,")")},St)}),{children:e,attributes:n}}function Nt(t){var e=t.children,n=t.attributes,r=t.main,i=t.transform,o=t.styles,s=Ot(o);if(s.length>0&&(n["style"]=s),Tt(i)){var a=It({transform:i,containerWidth:r.width,iconWidth:r.width});e.push({tag:"g",attributes:c({},a.outer),children:[{tag:"g",attributes:c({},a.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:c({},r.icon.attributes,a.path)}]}]})}else e.push(r.icon);return{children:e,attributes:n}}function Pt(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,o=t.styles,s=t.transform;if(Tt(s)&&n.found&&!r.found){var a=n.width,u=n.height,l={x:a/u/2,y:.5};i["style"]=Ot(c({},o,{"transform-origin":"".concat(l.x+s.x/16,"em ").concat(l.y+s.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function Dt(t){var e=t.prefix,n=t.iconName,r=t.children,i=t.attributes,o=t.symbol,s=!0===o?"".concat(e,"-").concat(z.familyPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:c({},i,{id:s}),children:r}]}]}function Rt(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,o=t.iconName,s=t.transform,a=t.symbol,u=t.title,l=t.maskId,h=t.titleId,f=t.extra,d=t.watchable,p=void 0!==d&&d,g=r.found?r:n,m=g.width,v=g.height,y="fak"===i,b=y?"":"fa-w-".concat(Math.ceil(m/v*16)),_=[z.replacementClass,o?"".concat(z.familyPrefix,"-").concat(o):"",b].filter((function(t){return-1===f.classes.indexOf(t)})).filter((function(t){return""!==t||!!t})).concat(f.classes).join(" "),w={children:[],attributes:c({},f.attributes,{"data-prefix":i,"data-icon":o,class:_,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(v)})},x=y&&!~f.classes.indexOf("fa-fw")?{width:"".concat(m/v*16*.0625,"em")}:{};p&&(w.attributes[P]=""),u&&w.children.push({tag:"title",attributes:{id:w.attributes["aria-labelledby"]||"title-".concat(h||wt())},children:[u]});var E=c({},w,{prefix:i,iconName:o,main:n,mask:r,maskId:l,transform:s,symbol:a,styles:c({},x,f.styles)}),O=r.found&&n.found?jt(E):Nt(E),T=O.children,I=O.attributes;return E.children=T,E.attributes=I,a?Dt(E):Pt(E)}function Mt(t){var e=t.content,n=t.width,r=t.height,i=t.transform,o=t.title,s=t.extra,a=t.watchable,u=void 0!==a&&a,l=c({},s.attributes,o?{title:o}:{},{class:s.classes.join(" ")});u&&(l[P]="");var h=c({},s.styles);Tt(i)&&(h["transform"]=kt({transform:i,startCentered:!0,width:n,height:r}),h["-webkit-transform"]=h["transform"]);var f=Ot(h);f.length>0&&(l["style"]=f);var d=[];return d.push({tag:"span",attributes:l,children:[e]}),o&&d.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),d}var Lt=function(){},Ft=(z.measurePerformance&&I&&I.mark&&I.measure,function(t,e){return function(n,r,i,o){return t.call(e,n,r,i,o)}}),Ut=function(t,e,n,r){var i,o,s,a=Object.keys(t),c=a.length,u=void 0!==r?Ft(e,r):e;for(void 0===n?(i=1,s=t[a[0]]):(i=0,s=n);i<c;i++)o=a[i],s=u(s,t[o],o,t);return s};function Vt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,o=Object.keys(e).reduce((function(t,n){var r=e[n],i=!!r.icon;return i?t[r.iconName]=r.icon:t[n]=r,t}),{});"function"!==typeof H.hooks.addPack||i?H.styles[t]=c({},H.styles[t]||{},o):H.hooks.addPack(t,o),"fas"===t&&Vt("fa",e)}var Bt=H.styles,qt=H.shims,zt=function(){var t=function(t){return Ut(Bt,(function(e,n,r){return e[r]=Ut(n,t,{}),e}),{})};t((function(t,e,n){return e[3]&&(t[e[3]]=n),t})),t((function(t,e,n){var r=e[2];return t[n]=n,r.forEach((function(e){t[e]=n})),t}));var e="far"in Bt;Ut(qt,(function(t,n){var r=n[0],i=n[1],o=n[2];return"far"!==i||e||(i="fas"),t[r]={prefix:i,iconName:o},t}),{})};zt();H.styles;function Wt(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}function Ht(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,o=void 0===i?[]:i;return"string"===typeof t?xt(t):"<".concat(e," ").concat(Et(r),">").concat(o.map(Ht).join(""),"</").concat(e,">")}var Kt=function(t){var e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t?t.toLowerCase().split(" ").reduce((function(t,e){var n=e.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return t.flipX=!0,t;if(r&&"v"===i)return t.flipY=!0,t;if(i=parseFloat(i),isNaN(i))return t;switch(r){case"grow":t.size=t.size+i;break;case"shrink":t.size=t.size-i;break;case"left":t.x=t.x-i;break;case"right":t.x=t.x+i;break;case"up":t.y=t.y-i;break;case"down":t.y=t.y+i;break;case"rotate":t.rotate=t.rotate+i;break}return t}),e):e};function Gt(t){this.name="MissingIcon",this.message=t||"Icon unavailable",this.stack=(new Error).stack}Gt.prototype=Object.create(Error.prototype),Gt.prototype.constructor=Gt;var $t={fill:"currentColor"},Yt={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},Qt=(c({},$t,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),c({},Yt,{attributeName:"opacity"}));c({},$t,{cx:"256",cy:"364",r:"28"}),c({},Yt,{attributeName:"r",values:"28;14;28;28;14;28;"}),c({},Qt,{values:"1;0;1;1;0;1;"}),c({},$t,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),c({},Qt,{values:"1;0;0;0;0;1;"}),c({},$t,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),c({},Qt,{values:"0;0;1;1;0;0;"}),H.styles;function Xt(t){var e=t[0],n=t[1],r=t.slice(4),i=u(r,1),o=i[0],s=null;return s=Array.isArray(o)?{tag:"g",attributes:{class:"".concat(z.familyPrefix,"-").concat(M.GROUP)},children:[{tag:"path",attributes:{class:"".concat(z.familyPrefix,"-").concat(M.SECONDARY),fill:"currentColor",d:o[0]}},{tag:"path",attributes:{class:"".concat(z.familyPrefix,"-").concat(M.PRIMARY),fill:"currentColor",d:o[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:o}},{found:!0,width:e,height:n,icon:s}}H.styles;var Jt='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';function Zt(){var t=j,e=N,n=z.familyPrefix,r=z.replacementClass,i=Jt;if(n!==t||r!==e){var o=new RegExp("\\.".concat(t,"\\-"),"g"),s=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(o,".".concat(n,"-")).replace(s,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var te=function(){function t(){i(this,t),this.definitions={}}return s(t,[{key:"add",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(e){t.definitions[e]=c({},t.definitions[e]||{},i[e]),Vt(e,i[e]),zt()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,e){var n=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(n).map((function(e){var r=n[e],i=r.prefix,o=r.iconName,s=r.icon;t[i]||(t[i]={}),t[i][o]=s})),t}}]),t}();function ee(){z.autoAddCss&&!se&&(bt(Zt()),se=!0)}function ne(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map((function(t){return Ht(t)}))}}),Object.defineProperty(t,"node",{get:function(){if(k){var e=T.createElement("div");return e.innerHTML=t.html,e.children}}}),t}function re(t){var e=t.prefix,n=void 0===e?"fa":e,r=t.iconName;if(r)return Wt(oe.definitions,n,r)||Wt(H.styles,n,r)}function ie(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:re(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:re(i||{})),t(r,c({},n,{mask:i}))}}var oe=new te,se=!1,ae={transform:function(t){return Kt(t)}},ce=ie((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,r=void 0===n?yt:n,i=e.symbol,o=void 0!==i&&i,s=e.mask,a=void 0===s?null:s,u=e.maskId,l=void 0===u?null:u,h=e.title,f=void 0===h?null:h,d=e.titleId,p=void 0===d?null:d,g=e.classes,m=void 0===g?[]:g,v=e.attributes,y=void 0===v?{}:v,b=e.styles,_=void 0===b?{}:b;if(t){var w=t.prefix,x=t.iconName,E=t.icon;return ne(c({type:"icon"},t),(function(){return ee(),z.autoA11y&&(f?y["aria-labelledby"]="".concat(z.replacementClass,"-title-").concat(p||wt()):(y["aria-hidden"]="true",y["focusable"]="false")),Rt({icons:{main:Xt(E),mask:a?Xt(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:w,iconName:x,transform:c({},yt,r),symbol:o,title:f,maskId:l,titleId:p,extra:{attributes:y,styles:_,classes:m}})}))}})),ue=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,r=void 0===n?yt:n,i=e.title,o=void 0===i?null:i,s=e.classes,a=void 0===s?[]:s,u=e.attributes,h=void 0===u?{}:u,f=e.styles,d=void 0===f?{}:f;return ne({type:"text",content:t},(function(){return ee(),Mt({content:t,transform:c({},yt,r),title:o,extra:{attributes:h,styles:d,classes:["".concat(z.familyPrefix,"-layers-text")].concat(l(a))}})}))}}).call(this,n("c8ba"))},ef52:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("2767");function i(t){return((Object(r["a"])(t)?t.ownerDocument:t.document)||window.document).documentElement}},f069:function(t,e,n){"use strict";var r=n("1c0b"),i=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},f5df:function(t,e,n){var r=n("00ee"),i=n("c6b6"),o=n("b622"),s=o("toStringTag"),a="Arguments"==i(function(){return arguments}()),c=function(t,e){try{return t[e]}catch(n){}};t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=c(e=Object(t),s))?n:a?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},f772:function(t,e,n){var r=n("5692"),i=n("90e3"),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},fb6a:function(t,e,n){"use strict";var r=n("23e7"),i=n("861d"),o=n("e8b5"),s=n("23cb"),a=n("50c4"),c=n("fc6a"),u=n("8418"),l=n("b622"),h=n("1dde"),f=h("slice"),d=l("species"),p=[].slice,g=Math.max;r({target:"Array",proto:!0,forced:!f},{slice:function(t,e){var n,r,l,h=c(this),f=a(h.length),m=s(t,f),v=s(void 0===e?f:e,f);if(o(h)&&(n=h.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?i(n)&&(n=n[d],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return p.call(h,m,v);for(r=new(void 0===n?Array:n)(g(v-m,0)),l=0;m<v;m++,l++)m in h&&u(r,l,h[m]);return r.length=l,r}})},fbb0:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};Object.create;Object.create},fc6a:function(t,e,n){var r=n("44ad"),i=n("1d80");t.exports=function(t){return r(i(t))}},fce3:function(t,e,n){var r=n("d039"),i=n("da84"),o=i.RegExp;t.exports=r((function(){var t=o(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(t,e,n){var r=n("4930");t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fea9:function(t,e,n){var r=n("da84");t.exports=r.Promise},ffa6:function(t,e,n){"use strict";n.r(e),n.d(e,"Component",(function(){return u})),n.d(e,"ComponentContainer",(function(){return p})),n.d(e,"Provider",(function(){return h}));function r(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r["throw"](t))}catch(e){o(e)}}function c(t){t.done?n(t.value):i(t.value).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function i(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return c([t,e])}}function c(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}Object.create;function o(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return s}function a(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;var c=n("a8e9"),u=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),l="[DEFAULT]",h=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new c["Deferred"];if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),r=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(d(t))try{this.getOrInitializeService({instanceIdentifier:l})}catch(p){}try{for(var r=o(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var a=s(i.value,2),c=a[0],u=a[1],h=this.normalizeInstanceIdentifier(c);try{var f=this.getOrInitializeService({instanceIdentifier:h});u.resolve(f)}catch(p){}}}catch(g){e={error:g}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=l),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r(this,void 0,void 0,(function(){var t;return i(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(a(a([],s(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),s(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=l),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t=l),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.options,i=void 0===r?{}:r,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:a,options:i});try{for(var u=o(this.instancesDeferred.entries()),l=u.next();!l.done;l=u.next()){var h=s(l.value,2),f=h[0],d=h[1],p=this.normalizeInstanceIdentifier(f);a===p&&d.resolve(c)}}catch(g){e={error:g}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return c},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r,i=this.onInitCallbacks.get(e);if(i)try{for(var s=o(i),a=s.next();!a.done;a=s.next()){var c=a.value;try{c(t,e)}catch(u){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e=t.instanceIdentifier,n=t.options,r=void 0===n?{}:n,i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:f(e),options:r}),this.instances.set(e,i),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(o){}return i||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=l),this.component?this.component.multipleInstances?t:l:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();function f(t){return t===l?void 0:t}function d(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){var e=this.getProvider(t.name);e.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new h(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()}}]);
//# sourceMappingURL=chunk-vendors.00a30267.js.map